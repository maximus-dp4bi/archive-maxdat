CREATE TABLE CC_A_SCHEDULE
  (
    SCHEDULE_ID    NUMBER NOT NULL ,
    JOB_TYPE       VARCHAR2 (50) NOT NULL ,
    EXECUTION_TIME VARCHAR2 (50) NOT NULL
  )
  LOGGING ;
ALTER TABLE CC_A_SCHEDULE ADD CONSTRAINT CC_A_SCHEDULE_PK PRIMARY KEY
(
  SCHEDULE_ID
)
;
ALTER TABLE CC_A_SCHEDULE ADD CONSTRAINT CC_A_SCHEDULE__UN UNIQUE
(
  EXECUTION_TIME
)
;

ALTER TABLE CC_A_SCHEDULE ADD CONSTRAINT REGEX_CHECK_EXECUTION_TIME CHECK
 (
	REGEXP_LIKE(EXECUTION_TIME,'^([01][0-9]|2[0-3]):00:00$','i')
 ); 

CREATE SEQUENCE SEQ_CC_A_SCHEDULE START WITH 1 INCREMENT BY 1 MAXVALUE 9999999999999999999 MINVALUE 1 CACHE 20 ;

CREATE OR REPLACE TRIGGER BIU_CC_A_SCHEDULE BEFORE
  INSERT ON CC_A_SCHEDULE FOR EACH ROW BEGIN IF INSERTING
  AND :NEW.SCHEDULE_ID IS NULL THEN
  SELECT SEQ_CC_A_SCHEDULE.NEXTVAL INTO :NEW.SCHEDULE_ID FROM DUAL;
END IF;
END;
/

INSERT INTO CC_L_PATCH_LOG ( PATCH_VERSION , SCRIPT_SEQUENCE , SCRIPT_NAME) 
VALUES ('0.1.6','005','005_CREATE_CC_A_SCHEDULE');

COMMIT;