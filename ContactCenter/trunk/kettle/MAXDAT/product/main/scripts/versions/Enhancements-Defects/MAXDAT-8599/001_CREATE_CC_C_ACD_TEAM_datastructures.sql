CREATE TABLE CC_S_TMP_ACD_TEAM
(
AGENTTEAMID INT,
ENTERPRISENAME VARCHAR2(32),
DESCRIPTION NVARCHAR2(255)
);


CREATE TABLE CC_C_ACD_TEAM
(
ACD_TEAM_ID NUMBER(19) NOT NULL,
TEAM_NAME VARCHAR2(32),
TEAM_DESC NVARCHAR2(255),
EXTRACT_DT DATE,
LAST_UPDATE_DT DATE,
LAST_UPDATE_BY VARCHAR2(30 BYTE),
RECORD_EFF_DT  DATE,
RECORD_END_DT  DATE
);

CREATE INDEX CC_C_ACD_TEAM_IDX1 ON CC_C_ACD_TEAM
  (
    ACD_TEAM_ID
  );

CREATE INDEX CC_C_ACD_TEAM_IDX2 ON CC_C_ACD_TEAM
  (
    TEAM_NAME
  );
  
ALTER TABLE CC_C_ACD_TEAM ADD CONSTRAINTS CC_C_ACD_TEAM_PK PRIMARY KEY
  (
    ACD_TEAM_ID
  );
  
ALTER TABLE CC_C_ACD_TEAM ADD CONSTRAINTS CC_C_ACD_TEAM_UN UNIQUE
  (
    TEAM_NAME
  );
  
CREATE OR REPLACE TRIGGER "BIU_CC_C_ACD_TEAM" 
  BEFORE INSERT OR UPDATE ON CC_C_ACD_TEAM 
  FOR EACH ROW 
BEGIN
IF INSERTING THEN
          :NEW.EXTRACT_DT := SYSDATE;
END IF;
:NEW.LAST_UPDATE_DT := SYSDATE;
:NEW.LAST_UPDATE_BY := USER;
END;
/ 