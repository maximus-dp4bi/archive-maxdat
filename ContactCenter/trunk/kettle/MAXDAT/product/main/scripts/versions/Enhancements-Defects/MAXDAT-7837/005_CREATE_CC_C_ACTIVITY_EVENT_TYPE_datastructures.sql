
CREATE TABLE CC_S_TMP_ACTIVITY_EVENT_TYPE
(
REASONCODE	VARCHAR2(10 BYTE)	
,REASONTEXT	VARCHAR2(250 BYTE)	
,EVENTCODE	VARCHAR2(10 BYTE)
,EVENTDESC VARCHAR2(250 BYTE)
);

CREATE TABLE CC_C_ACD_ACTIVITY_EVENT_TYPE
(
ACD_ACTIVITY_EVENT_TYPE_ID  NUMBER(19)  NOT NULL
,REASONCODE	VARCHAR2(10 BYTE)	
,REASONTEXT	VARCHAR2(250 BYTE)	
,EVENTCODE	VARCHAR2(10 BYTE)
,EVENTDESC VARCHAR2(250 BYTE)
,ACTIVITY VARCHAR2(250 BYTE)
,EXTRACT_DT DATE
,LAST_UPDATE_DT DATE
,LAST_UPDATE_BY VARCHAR2(30 BYTE)
,RECORD_EFF_DT  DATE
,RECORD_END_DT  DATE
);

CREATE INDEX CC_C_ACD_ACT_EVT_TYPE_IDX1 ON CC_C_ACD_ACTIVITY_EVENT_TYPE
  (
    ACD_ACTIVITY_EVENT_TYPE_ID
  );
  
CREATE INDEX CC_C_ACD_ACT_EVT_TYPE_IDX2 ON CC_C_ACD_ACTIVITY_EVENT_TYPE
  (
    REASONCODE
    ,EVENTCODE
  );
  
ALTER TABLE CC_C_ACD_ACTIVITY_EVENT_TYPE ADD CONSTRAINTS CC_C_ACD_ACT_EVT_TYPE_PK PRIMARY KEY
  (
    ACD_ACTIVITY_EVENT_TYPE_ID
  );
  
ALTER TABLE CC_C_ACD_ACTIVITY_EVENT_TYPE ADD CONSTRAINTS CC_C_ACD_ACT_EVT_TYPE_UN UNIQUE
  (
    REASONCODE
    ,EVENTCODE
    ,RECORD_EFF_DT  
    ,RECORD_END_DT 
  );
  
CREATE SEQUENCE SEQ_CC_C_ACD_ACT_EVT_TYPE START WITH 1 INCREMENT BY 1 MAXVALUE 9999999999999999999 MINVALUE 1 CACHE 20;

CREATE OR REPLACE TRIGGER "BIU_CC_C_ACD_ACT_EVT_TYPE" 
  BEFORE INSERT OR UPDATE ON CC_C_ACD_ACTIVITY_EVENT_TYPE 
  FOR EACH ROW 
BEGIN
IF INSERTING AND :NEW.ACD_ACTIVITY_EVENT_TYPE_ID IS NULL THEN 
  SELECT SEQ_CC_C_ACD_ACT_EVT_TYPE.NEXTVAL INTO :NEW.ACD_ACTIVITY_EVENT_TYPE_ID FROM DUAL;
END IF;
IF INSERTING THEN
          :NEW.EXTRACT_DT := SYSDATE;
END IF;
:NEW.LAST_UPDATE_DT := SYSDATE;
:NEW.LAST_UPDATE_BY := USER;
END;
/


