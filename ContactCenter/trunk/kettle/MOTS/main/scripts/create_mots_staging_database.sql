-- Generated by Oracle SQL Developer Data Modeler 3.3.0.747
--   at:        2014-07-15 13:20:05 EDT
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




CREATE SEQUENCE SEQ_S_METRIC_DEFINITION START WITH 1 INCREMENT BY 1 MAXVALUE 9999999999999999 MINVALUE 1 CACHE 20 ;

CREATE SEQUENCE SEQ_S_METRIC_TEMPLATE START WITH 1 INCREMENT BY 1 MAXVALUE 9999999999999999 MINVALUE 1 CACHE 20 ;

CREATE SEQUENCE SEQ_S_SLA_DEFINITION START WITH 1 INCREMENT BY 1 MAXVALUE 9999999999999999 MINVALUE 1 CACHE 20 ;

CREATE SEQUENCE SEQ_S_SLA_PROJECT START WITH 1 INCREMENT BY 1 MAXVALUE 9999999999999999 MINVALUE 1 CACHE 20 ;

CREATE SEQUENCE SEQ_S_SLA_TEMPLATE START WITH 1 INCREMENT BY 1 MAXVALUE 9999999999999999 MINVALUE 1 CACHE 20 ;

CREATE TABLE S_METRIC_DEFINITION
  (
    S_METRIC_DEFINITION_ID NUMBER (19) NOT NULL ,
    METRIC                 VARCHAR2 (50) ,
    TYPE                   VARCHAR2 (50) ,
    DATA_TYPE_NAME         VARCHAR2 (50) ,
    VALUE_TYPE             VARCHAR2 (50) ,
    STATUS                 VARCHAR2 (50) ,
    DISPLAY_FORMAT         VARCHAR2 (50) ,
    IS_MONTHLY             VARCHAR2 (1) ,
    IS_WEEKLY              VARCHAR2 (1) ,
    HAS_ACTUAL             VARCHAR2 (1) ,
    HAS_TARGET             VARCHAR2 (1) ,
    HAS_FORECAST           VARCHAR2 (1) ,
    IS_CALCULATED          VARCHAR2 (1) ,
    FUNCTIONAL_AREA        VARCHAR2 (50) ,
    LABEL                  VARCHAR2 (100) ,
    CATEGORY               VARCHAR2 (50) ,
    SUB_CATEGORY           VARCHAR2 (50) ,
    SORT_ORDER             NUMBER (6) ,
    CREATE_DATE            DATE ,
    LAST_MODIFIED_DATE     DATE ,
    RECORD_EFF_DT          DATE ,
    RECORD_END_DT          DATE
  )
  TABLESPACE MOTS_DATA LOGGING ENABLE ROW MOVEMENT ;
ALTER TABLE S_METRIC_DEFINITION ADD CONSTRAINT S_METRIC_TEMPLATEv1_PK PRIMARY KEY
(
  S_METRIC_DEFINITION_ID
)
;
ALTER TABLE S_METRIC_DEFINITION ADD CONSTRAINT S_METRIC_DEFINITION_UN UNIQUE
(
  METRIC
)
;

CREATE TABLE S_METRIC_TEMPLATE
  (
    S_METRIC_TEMPLATE_ID           NUMBER (19) NOT NULL ,
    FILE_NAME                      VARCHAR2 (255) ,
    CREATE_DATE                    DATE ,
    PROGRAM_NAME                   VARCHAR2 (50) ,
    PROJECT_NAME                   VARCHAR2 (50) ,
    GEOGRAPHY_NAME                 VARCHAR2 (100) ,
    REPORTING_PERIOD               DATE ,
    REPORTING_PERIOD_TYPE          VARCHAR2 (50) ,
    METRIC                         VARCHAR2 (50) ,
    FORECAST_VALUE                 NUMBER (19,2) ,
    ACTUAL_VALUE                   NUMBER (19,2) ,
    TARGET_VALUE                   NUMBER (19,2) ,
    COMMENTS                       VARCHAR2 (4000) ,
    FORECAST_COMMENTS              VARCHAR2 (4000) ,
    TARGET_COMMENTS                VARCHAR2 (4000) ,
    ACTUAL_TREND_INDICATOR         NUMBER (1) ,
    ACTUAL_FORECAST_VARIANCE_FRMT  NUMBER (1) ,
    IS_PROCESSED                   VARCHAR2 (1) DEFAULT 'N' ,
    IS_FORECAST_VARIANCE_PROCESSED VARCHAR2 (1) DEFAULT 'N' ,
    IS_ACTUALS_TREND_PROCESSED     VARCHAR2 (1) DEFAULT 'N' ,
    IS_FORECAST                    VARCHAR2 (1) ,
    IS_ACTUAL                      VARCHAR2 (1) ,
    IS_ERROR                       VARCHAR2 (1) DEFAULT 'N'
  )
  TABLESPACE MOTS_DATA LOGGING ENABLE ROW MOVEMENT ;
ALTER TABLE S_METRIC_TEMPLATE ADD CONSTRAINT S_METRIC_TEMPLATE_PK PRIMARY KEY
(
  S_METRIC_TEMPLATE_ID
)
;
ALTER TABLE S_METRIC_TEMPLATE ADD CONSTRAINT S_METRIC_TEMPLATE_UN UNIQUE
(
  FILE_NAME , METRIC , REPORTING_PERIOD , PROGRAM_NAME , PROJECT_NAME , GEOGRAPHY_NAME , CREATE_DATE
)
;

CREATE TABLE S_SLA_DEFINITION
  (
    S_SLA_DEFINITION_ID            NUMBER (19) NOT NULL ,
    SLA_NAME                       VARCHAR2 (50) ,
    SLA_LABEL                      VARCHAR2 (100) ,
    CATEGORY                       VARCHAR2 (50) ,
    FUNCTIONAL_AREA                VARCHAR2 (50) ,
    REFERENCE_VALUE_DISPLAY_FORMAT VARCHAR2 (50) ,
    RECORD_EFF_DT                  DATE ,
    RECORD_END_DT                  DATE ,
    CREATE_DATE                    DATE ,
    LAST_MODIFIED_DATE             DATE
  )
  TABLESPACE MOTS_DATA LOGGING ENABLE ROW MOVEMENT ;
ALTER TABLE S_SLA_DEFINITION ADD CONSTRAINT S_SLA_DEFINITION_PK PRIMARY KEY
(
  S_SLA_DEFINITION_ID
)
;

CREATE TABLE S_SLA_PROJECT
  (
    S_SLA_PROJECT_ID               NUMBER (19) NOT NULL ,
    PROJECT_NAME                   VARCHAR2 (100) NOT NULL ,
    PROGRAM_NAME                   VARCHAR2 (100) NOT NULL ,
    GEOGRAPHY_NAME                 VARCHAR2 (100) NOT NULL ,
    SLA_NAME                       VARCHAR2 (100) NOT NULL ,
    FREQUENCY                      VARCHAR2 (50) ,
    PROJECT_SLA_LABEL              VARCHAR2 (255) ,
    REFERENCE_VALUE_CALC_DESC      VARCHAR2 (255) ,
    REFERENCE_VALUE_DESC           VARCHAR2 (255) ,
    PRIMARY_METRIC_NAME            VARCHAR2 (50) ,
    PRIMARY_METRIC_THRESHOLD_LOW   NUMBER (19,6) ,
    PRIMARY_METRIC_THRESHOLD_HIGH  NUMBER (19,6) ,
    SECONDARY_METRIC_NAME          VARCHAR2 (50) ,
    SECONDRY_METRIC_THRESHOLD_LOW  NUMBER (19,6) ,
    SECONDRY_METRIC_THRESHOLD_HIGH NUMBER (19,6) ,
    SORT_ORDER                     NUMBER (6) ,
    SORT_ID                        VARCHAR2 (50) ,
    START_DATE                     DATE ,
    END_DATE                       DATE ,
    CREATE_DATE                    DATE ,
    LAST_MODIFIED_DATE             DATE
  )
  TABLESPACE MOTS_DATA LOGGING ENABLE ROW MOVEMENT ;
ALTER TABLE S_SLA_PROJECT ADD CONSTRAINT S_SLA_PROJECT_PK PRIMARY KEY
(
  S_SLA_PROJECT_ID
)
;

CREATE TABLE S_SLA_TEMPLATE
  (
    S_SLA_TEMPLATE_ID       NUMBER (19) NOT NULL ,
    FILE_NAME               VARCHAR2 (255) ,
    CREATE_DATE             DATE ,
    PROGRAM_NAME            VARCHAR2 (50) ,
    PROJECT_NAME            VARCHAR2 (50) ,
    GEOGRAPHY_NAME          VARCHAR2 (100) ,
    REPORTING_PERIOD        DATE ,
    REPORTING_PERIOD_TYPE   VARCHAR2 (50) ,
    PROJECT_SLA_LABEL       VARCHAR2 (255) ,
    REFERENCE_VALUE         NUMBER (19,2) ,
    COMPLIANCE_RESULT       VARCHAR2 (50) ,
    SLA_COMPLIANCE_COMMENTS VARCHAR2 (4000) ,
    IS_PROCESSED            VARCHAR2 (1) ,
    IS_ERROR                VARCHAR2 (1)
  )
  TABLESPACE MOTS_DATA LOGGING ENABLE ROW MOVEMENT ;
ALTER TABLE S_SLA_TEMPLATE ADD CONSTRAINT S_SLA_TEMPLATE_PK PRIMARY KEY
(
  S_SLA_TEMPLATE_ID
)
;

CREATE TABLE S_TMP_F_METRIC_CALCS
  (
    F_METRIC_ID NUMBER (19) NOT NULL
  )
  TABLESPACE MOTS_DATA LOGGING ENABLE ROW MOVEMENT ;

CREATE OR REPLACE TRIGGER BIU_S_METRIC_DEFINITION 
    BEFORE INSERT OR UPDATE ON S_METRIC_DEFINITION 
    FOR EACH ROW 
    ENABLE 
BEGIN
IF INSERTING AND :NEW.S_METRIC_DEFINITION_ID IS NULL THEN 
	SELECT SEQ_S_METRIC_DEFINITION.NEXTVAL INTO :NEW.S_METRIC_DEFINITION_ID FROM DUAL;
	SELECT SYSDATE INTO :NEW.CREATE_DATE FROM DUAL;
END IF;

IF UPDATING THEN
	SELECT SYSDATE INTO :NEW.LAST_MODIFIED_DATE FROM DUAL;
END IF;
END; 
/



CREATE OR REPLACE TRIGGER BIU_S_SLA_DEFINITION 
    BEFORE INSERT OR UPDATE ON S_SLA_DEFINITION 
    FOR EACH ROW 
    ENABLE 
BEGIN
IF INSERTING AND :NEW.S_SLA_DEFINITION_ID IS NULL THEN 
	SELECT SEQ_S_SLA_DEFINITION.NEXTVAL INTO :NEW.S_SLA_DEFINITION_ID FROM DUAL;
	SELECT SYSDATE INTO :NEW.CREATE_DATE FROM DUAL;
END IF;

SELECT SYSDATE INTO :NEW.LAST_MODIFIED_DATE FROM DUAL;

END; 
/



CREATE OR REPLACE TRIGGER BIU_S_SLA_PROJECT 
    BEFORE INSERT OR UPDATE ON S_SLA_PROJECT 
    FOR EACH ROW 
    ENABLE 
BEGIN
IF INSERTING AND :NEW.S_SLA_PROJECT_ID IS NULL THEN 
	SELECT SEQ_S_SLA_PROJECT.NEXTVAL INTO :NEW.S_SLA_PROJECT_ID FROM DUAL;
	SELECT SYSDATE INTO :NEW.CREATE_DATE FROM DUAL;
END IF;

SELECT SYSDATE INTO :NEW.LAST_MODIFIED_DATE FROM DUAL;

END; 
/



CREATE OR REPLACE TRIGGER BI_S_METRIC_TEMPLATE 
    BEFORE INSERT OR UPDATE ON S_METRIC_TEMPLATE 
    FOR EACH ROW 
    ENABLE 
BEGIN
IF INSERTING AND :NEW.S_METRIC_TEMPLATE_ID IS NULL THEN 
          SELECT SEQ_S_METRIC_TEMPLATE.NEXTVAL INTO :NEW.S_METRIC_TEMPLATE_ID FROM DUAL;
END IF;
END; 
/




-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             6
-- CREATE INDEX                             0
-- ALTER TABLE                              7
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           4
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          5
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
