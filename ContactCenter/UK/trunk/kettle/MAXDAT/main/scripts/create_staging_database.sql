use UK_HWS
go

create table MAXDAT.CORP_ETL_JOB_STATISTICS
  (JOB_ID INT IDENTITY(1,1) not null constraint CORP_ETL_JOB_STATISTICS_PK primary key, 
   PARENT_JOB_ID int,
   JOB_NAME varchar(80) not null, 
   JOB_STATUS_CD varchar(20) not null, 
   FILE_NAME varchar(512), 
   RECORD_COUNT int, 
   PROCESSED_COUNT int, 
   ERROR_COUNT int, 
   WARNING_COUNT int, 
   RECORD_INSERTED_COUNT int, 
   RECORD_UPDATED_COUNT int, 
   JOB_START_DATE datetime, 
   JOB_END_DATE datetime);
go

CREATE
 TABLE MAXDAT.CC_A_ADHOC_JOB
 (
 ADHOC_JOB_ID INT IDENTITY(1,1) not null constraint CC_A_ADHOC_JOB_PK primary key,
 ADHOC_JOB_TYPE VARCHAR (50) NOT NULL ,
 START_DATETIME_PARAM VARCHAR (50) NOT NULL ,
 END_DATETIME_PARAM VARCHAR (50) NOT NULL ,
 CREATION_DATE DATETIME NOT NULL ,
 IS_PENDING CHAR(1) NULL ,
 IS_RUNNING CHAR(1) NULL ,
 JOB_START_DATE DATETIME ,
 JOB_END_DATE DATETIME ,
 SUCCESS CHAR(1)
 )
GO

CREATE
 TABLE MAXDAT.CC_A_SCHEDULE
 (
 SCHEDULE_ID INT IDENTITY(1,1) not null constraint CC_A_SCHEDULE_PK primary key,
 JOB_TYPE VARCHAR (50) NOT NULL ,
 EXECUTION_TIME VARCHAR (50) NOT NULL
 )
GO

ALTER TABLE MAXDAT.CC_A_SCHEDULE ADD CONSTRAINT REGEX_CHECK_EXECUTION_TIME CHECK ( upper(EXECUTION_TIME) LIKE '[0-1][0-9]:00:00' or upper(EXECUTION_TIME) LIKE '[2][0-3]:00:00') 
CREATE
 TABLE MAXDAT.CC_A_SCHEDULED_JOB
 (
 SCHEDULED_JOB_ID INT IDENTITY(1,1) not null constraint CC_A_SCHEDULED_JOB_PK primary key,
 SCHEDULED_JOB_TYPE VARCHAR (50) NOT NULL ,
 START_DATETIME_PARAM VARCHAR (50) NOT NULL ,
 END_DATETIME_PARAM VARCHAR (50) NOT NULL ,
 JOB_START_DATE DATETIME NOT NULL ,
 JOB_END_DATE DATETIME ,
 IS_RUNNING CHAR(1) NOT NULL ,
 SUCCESS CHAR(1) ,
 DATA_VALIDATION VARCHAR (50) ,
 CONSTRAINT CC_A_SCHEDULED_JOB__UN UNIQUE NONCLUSTERED (JOB_START_DATE)
 )
GO

ALTER TABLE MAXDAT.CC_A_SCHEDULED_JOB
ADD
CHECK ( DATA_VALIDATION IN ('FAILURE', 'NOT_TESTED', 'SUCCESS') )
GO

CREATE
 TABLE MAXDAT.CC_C_ACTIVITY_TYPE
 (
 ACTIVITY_TYPE_ID INT IDENTITY(1,1) not null constraint CC_C_ACTIVITY_TYPE_PK primary key,
 ACTIVITY_TYPE_NAME VARCHAR (50) NOT NULL ,
 ACTIVITY_TYPE_DESCRIPTION VARCHAR (250) ,
 ACTIVITY_TYPE_CATEGORY VARCHAR (50) ,
 IS_PAID_FLAG CHAR(1) ,
 IS_AVAILABLE_FLAG CHAR(1) ,
 IS_READY_FLAG CHAR(1) ,
 IS_ABSENCE_FLAG CHAR(1) ,
 EXTRACT_DT DATETIME NOT NULL ,
 LAST_UPDATE_DT DATETIME NOT NULL ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 RECORD_EFF_DT DATE NOT NULL ,
 RECORD_END_DT DATE NOT NULL ,
 CONSTRAINT CC_C_ACTIVITY_TYPE__UN UNIQUE NONCLUSTERED (ACTIVITY_TYPE_NAME)
 )
GO

CREATE
 TABLE MAXDAT.CC_C_CONTACT_QUEUE
 (
 C_CONTACT_QUEUE_ID INT IDENTITY(1,1) not null constraint CC_C_CONTACT_QUEUE_PK primary key,
 QUEUE_NUMBER INT NOT NULL ,
 QUEUE_NAME VARCHAR (100) ,
 QUEUE_TYPE VARCHAR (50) ,
 SERVICE_PERCENT tinyint ,
 SERVICE_SECONDS smallint ,
 INTERVAL_MINUTES tinyint ,
 UNIT_OF_WORK_NAME VARCHAR (50) NOT NULL ,
 PROJECT_NAME VARCHAR (50) NOT NULL ,
 PROGRAM_NAME VARCHAR (50) NOT NULL ,
 REGION_NAME VARCHAR (50) NOT NULL ,
 STATE_NAME VARCHAR (50) NOT NULL ,
 PROVINCE_NAME VARCHAR (50) NOT NULL ,
 DISTRICT_NAME VARCHAR (50) NOT NULL ,
 COUNTRY_NAME VARCHAR (50) NOT NULL ,
 RECORD_EFF_DT DATE NOT NULL DEFAULT '01/01/1900' ,
 RECORD_END_DT DATE NOT NULL DEFAULT '12/31/2999'
 )
GO

CREATE NONCLUSTERED INDEX
CC_C_CONTACT_QUEUE__IDXv1 ON MAXDAT.CC_C_CONTACT_QUEUE
(
 QUEUE_NUMBER ,
 RECORD_EFF_DT DESC
)
GO

CREATE NONCLUSTERED INDEX
CC_C_CONTACT_QUEUE__IDXv2 ON MAXDAT.CC_C_CONTACT_QUEUE
(
 QUEUE_NUMBER
)
GO

CREATE
 TABLE MAXDAT.CC_C_FILTER
 (
 FILTER_ID INT IDENTITY(1,1) not null constraint CC_C_FILTER_PK primary key,
 FILTER_TYPE VARCHAR (40) NOT NULL ,
 VALUE VARCHAR (50),
 CONSTRAINT CC_C_FILTER__UN UNIQUE NONCLUSTERED (FILTER_TYPE, VALUE)
 )
GO

CREATE NONCLUSTERED INDEX
CC_C_FILTER__IDXv1 ON MAXDAT.CC_C_FILTER
(
 FILTER_TYPE
)
GO

CREATE
 TABLE MAXDAT.CC_C_LOOKUP
 (
 LOOKUP_ID INT IDENTITY(1,1) not null constraint CC_C_LOOKUP_PK primary key,
 LOOKUP_TYPE VARCHAR (40) NOT NULL ,
 LOOKUP_KEY VARCHAR (50) NOT NULL ,
 LOOKUP_VALUE VARCHAR (50) ,
 CONSTRAINT CC_C_LOOKUP__UN UNIQUE NONCLUSTERED (LOOKUP_TYPE, LOOKUP_KEY)
 )
GO

CREATE
 TABLE MAXDAT.CC_C_PROJECT_CONFIG
 (
 PROJECT_CONFIG_ID INT IDENTITY(1,1) not null constraint CC_C_PROJECT_CONFIG_PK primary key,
 PROJECT_NAME VARCHAR (50) NOT NULL ,
 PROGRAM_NAME VARCHAR (50) NOT NULL ,
 REGION_NAME VARCHAR (50) NOT NULL ,
 STATE_NAME VARCHAR (50) NOT NULL ,
 PROVINCE_NAME VARCHAR (50) NOT NULL ,
 DISTRICT_NAME VARCHAR (50) NOT NULL ,
 COUNTRY_NAME VARCHAR (50) NOT NULL ,
 RECORD_EFF_DT DATE NOT NULL DEFAULT '01/01/1900' ,
 RECORD_END_DT DATE NOT NULL DEFAULT '12/31/2999' ,
 CONSTRAINT CC_S_PROJECT_SITE_CONFIG__UN UNIQUE NONCLUSTERED (PROJECT_NAME,
 PROGRAM_NAME, RECORD_EFF_DT)
 )
GO

CREATE
 TABLE MAXDAT.CC_C_UNIT_OF_WORK
 (
 UNIT_OF_WORK_ID INT IDENTITY(1,1) not null constraint CC_C_UNIT_OF_WORK_PK primary key,
 UNIT_OF_WORK_NAME VARCHAR (50) NOT NULL ,
 UNIT_OF_WORK_CATEGORY VARCHAR (50) ,
 RECORD_EFF_DT DATE NOT NULL DEFAULT '01/01/1900' ,
 RECORD_END_DT DATE NOT NULL DEFAULT '12/31/2999' ,
 CONSTRAINT CC_C_UNIT_OF_WORK__UN UNIQUE NONCLUSTERED (UNIT_OF_WORK_NAME,
 RECORD_EFF_DT)
 )
GO

CREATE NONCLUSTERED INDEX
CC_C_UNIT_OF_WORK__IDX ON MAXDAT.CC_C_UNIT_OF_WORK
(
 UNIT_OF_WORK_NAME ,
 RECORD_EFF_DT
)
GO

CREATE
 TABLE MAXDAT.CC_L_ERROR
 (
 ID INT IDENTITY(1,1) not null constraint CC_L_ERROR_PK primary key,
 MESSAGE VARCHAR (MAX) ,
 ERROR_FILE_PATH VARCHAR (255) ,
 ERROR_DATE DATETIME ,
 JOB_NAME VARCHAR (255) ,
 TRANSFORM_NAME VARCHAR (255) 
 )
GO

CREATE
 TABLE MAXDAT.CC_L_PATCH_LOG
 (
 PATCH_LOG_ID INT IDENTITY(1,1) not null constraint CC_L_PATCH_LOG_PK primary key,
 PATCH_VERSION VARCHAR (30) NOT NULL ,
 SCRIPT_SEQUENCE INT NOT NULL ,
 SCRIPT_NAME VARCHAR (255) NOT NULL ,
 SCRIPT_RUN_DATE DATETIME NOT NULL DEFAULT GETDATE() ,
 CONSTRAINT CC_L_PATCH_LOG__UN UNIQUE NONCLUSTERED (PATCH_VERSION, SCRIPT_NAME
 ) ,
 CONSTRAINT CC_L_PATCH_LOG__UNv1 UNIQUE NONCLUSTERED (PATCH_VERSION,
 SCRIPT_SEQUENCE)
 )
GO

CREATE
 TABLE MAXDAT.CC_L_TRANSFORMATION
 (
 ID_BATCH INT NOT NULL ,
 CHANNEL_ID VARCHAR (255) ,
 TRANSNAME VARCHAR (255) ,
 STATUS VARCHAR (15) ,
 LINES_READ INT ,
 LINES_WRITTEN INT ,
 LINES_UPDATED INT ,
 LINES_INPUT INT ,
 LINES_OUTPUT INT ,
 LINES_REJECTED INT ,
 ERRORS INT ,
 STARTDATE DATETIME ,
 ENDDATE DATETIME ,
 LOGDATE DATETIME ,
 DEPDATE DATETIME ,
 REPLAYDATE DATETIME ,
 LOG_FIELD VARCHAR (MAX) ,
 CONSTRAINT CC_L_TRANSFORMATION_PK PRIMARY KEY CLUSTERED (ID_BATCH)
)
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_L_TRANSFORMATION_IDX1 ON MAXDAT.CC_L_TRANSFORMATION
(
 ID_BATCH
)
GO

CREATE NONCLUSTERED INDEX
CC_L_TRANSFORMATION_IDX2 ON MAXDAT.CC_L_TRANSFORMATION
(
 ERRORS ,
 STATUS ,
 TRANSNAME
)
GO

CREATE
 TABLE MAXDAT.CC_S_ACD_AGENT_ACTIVITY
 (
 ACD_AGENT_ACTIVITY_ID INT IDENTITY(1,1) not null constraint CC_S_ACD_AGENT_ACTIVITY_PK primary key ,
 AGENT_CALLS_DT DATETIME NOT NULL ,
 AGENT_ID INT NOT NULL ,
 LOGIN_SECONDS NUMERIC (10,2) NOT NULL DEFAULT 0 ,
 EXTERNAL_SECONDS NUMERIC (10,2) NOT NULL DEFAULT 0 ,
 INTERNAL_SECONDS NUMERIC (10,2) NOT NULL DEFAULT 0 ,
 IDLE_SECONDS NUMERIC (10,2) NOT NULL DEFAULT 0 ,
 NOT_READY_SECONDS NUMERIC (10,2) NOT NULL DEFAULT 0 ,
 ACD_TALK_SECONDS NUMERIC (10,2) NOT NULL ,
 HOLD_SECONDS NUMERIC (10,2) NOT NULL ,
 AFTER_CALL_WORK_SECONDS NUMERIC (10,2) NOT NULL ,
 TALK_RESERVE_SECONDS NUMERIC (10,2) ,
 RING_SECONDS NUMERIC (10,2) NOT NULL ,
 PREDICTIVE_TALK_SECONDS NUMERIC (10,2) ,
 PREVIEW_TALK_SECONDS NUMERIC (10,2) ,
 ACD_CALLS_COUNT INT NOT NULL DEFAULT 0 ,
 EXTERNAL_CALLS_COUNT INT NOT NULL DEFAULT 0 ,
 INTERNAL_CALLS_COUNT INT NOT NULL DEFAULT 0 ,
 PREDICTIVE_CALLS_COUNT INT ,
 PREVIEW_CALLS_COUNT INT ,
 BREAK_TIME NUMERIC (10,2) ,
 CONSULTATION_TIME NUMERIC (10,2) ,
 WALKAWAY_TIME NUMERIC (10,2) ,
 BUSYONDNTIME NUMERIC (10,2) ,
 EXTRACT_DT DATETIME NOT NULL ,
 LAST_UPDATE_DT DATETIME NOT NULL ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 CONSTRAINT CC_S_ACD_AGENT_ACTIVITY_UN UNIQUE NONCLUSTERED (AGENT_CALLS_DT,
 AGENT_ID)
 )
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_ACD_AGENT_ACTIVITY_IDX ON MAXDAT.CC_S_ACD_AGENT_ACTIVITY
(
 ACD_AGENT_ACTIVITY_ID
)
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_ACD_AGENT_ACTIVITY_IDX2 ON MAXDAT.CC_S_ACD_AGENT_ACTIVITY
(
 AGENT_ID ,
 AGENT_CALLS_DT DESC
)
GO

CREATE TABLE MAXDAT.CC_S_ACD_INTERVAL
 (
 ACD_INTERVAL_ID INT IDENTITY(1,1) not null constraint CC_S_ACD_INTERVAL_PK primary key,
 INTERVAL_DATE DATETIME NOT NULL DEFAULT GETDATE() ,
 CONTACT_QUEUE_ID INT NOT NULL ,
 INTERVAL_ID INT NOT NULL ,
 AGENT_ID INT NOT NULL ,
 CONTACTS_RECEIVED_FROM_IVR INT NOT NULL DEFAULT 0 ,
 CONTACTS_OFFERED INT NOT NULL DEFAULT 0 ,
 CONTACTS_HANDLED INT NOT NULL DEFAULT 0 ,
 CONTACTS_ABANDONED INT NOT NULL DEFAULT 0 ,
 MIN_HANDLE_TIME NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MAX_HANDLE_TIME NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MEAN_HANDLE_TIME NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MEDIAN_HANDLE_TIME NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 STDDEV_HANDLE_TIME NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MIN_SPEED_TO_HANDLE NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MAX_SPEED_TO_HANDLE NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MEAN_SPEED_TO_HANDLE NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MEDIAN_SPEED_TO_HANDLE NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 STDDEV_SPEED_TO_HANDLE NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MIN_SPEED_OF_ANSWER NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MAX_SPEED_OF_ANSWER NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MEAN_SPEED_OF_ANSWER NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 MEDIAN_SPEED_OF_ANSWER NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 STDDEV_SPEED_OF_ANSWER NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_1 INT NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_2 INT NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_3 INT NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_4 INT NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_5 INT NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_6 INT NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_7 INT NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_8 INT NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_9 INT NOT NULL DEFAULT 0 ,
 SPEED_OF_ANSWER_PERIOD_10 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_1 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_2 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_3 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_4 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_5 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_6 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_7 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_8 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_9 INT NOT NULL DEFAULT 0 ,
 CALLS_ABANDONED_PERIOD_10 INT NOT NULL DEFAULT 0 ,
 LABOR_MINUTES_TOTAL NUMERIC (10,2) NOT NULL DEFAULT 0 ,
 LABOR_MINUTES_WAITING NUMERIC (10,2) NOT NULL DEFAULT 0 ,
 HEADCOUNT_AVAILABLE NUMERIC (7,2) NOT NULL DEFAULT 0 ,
 CONTACT_INVENTORY INT NOT NULL DEFAULT 0 ,
 CONTACT_INVENTORY_JEOPARDY INT NOT NULL DEFAULT 0 ,
 CONTACT_INVENTORY_AGE_TOTAL NUMERIC (5,2) NOT NULL DEFAULT 0 ,
 MIN_CONTACT_INVENTORY_AGE NUMERIC (5,2) NOT NULL DEFAULT 0 ,
 MAX_CONTACT_INVENTORY_AGE NUMERIC (5,2) NOT NULL DEFAULT 0 ,
 MEAN_CONTACT_INVENTORY_AGE NUMERIC (5,2) NOT NULL DEFAULT 0 ,
 MEDIAN_CONTACT_INVENTORY_AGE NUMERIC (5,2) NOT NULL DEFAULT 0 ,
 STDDEV_CONTACT_INVENTORY_AGE NUMERIC (5,2) NOT NULL DEFAULT 0 ,
 CONTACTS_TRANSFERRED INT NOT NULL DEFAULT 0 ,
 OUTFLOW_CONTACTS INT NOT NULL DEFAULT 0 ,
 ANSWER_WAIT_TIME_TOTAL NUMERIC (12,2) NOT NULL DEFAULT 0 ,
 ABANDON_TIME_TOTAL NUMERIC (12,2) NOT NULL DEFAULT 0 ,
 TALK_TIME_TOTAL NUMERIC (12,2) NOT NULL DEFAULT 0 ,
 AFTER_CALL_WORK_TIME_TOTAL NUMERIC (12,2) NOT NULL DEFAULT 0 ,
 SERVICE_LEVEL_ANSWERED_PERCENT NUMERIC (5,2) NOT NULL DEFAULT 0 ,
 SERVICE_LEVEL_ANSWERED_COUNT INT NOT NULL DEFAULT 0 ,
 SERVICE_LEVEL_ABANDONED NUMERIC (5,2) DEFAULT 0 ,
 CALLS_ON_HOLD INT NOT NULL DEFAULT 0 ,
 HOLD_TIME_TOTAL NUMERIC (12,2) NOT NULL DEFAULT 0 ,
 IVR_TIME_TOTAL NUMERIC (12,2) DEFAULT 0 ,
 SHORT_ABANDONS INT NOT NULL DEFAULT 0 ,
 CONTACTS_BLOCKED INT NOT NULL DEFAULT 0 ,
 ICR_DEFAULT_ROUTED INT NOT NULL DEFAULT 0 ,
 NETWORK_DEFAULT_ROUTED INT NOT NULL DEFAULT 0 ,
 RETURN_BUSY INT NOT NULL DEFAULT 0 ,
 CALLS_RONA INT NOT NULL DEFAULT 0 ,
 RETURN_RELEASE INT NOT NULL DEFAULT 0 ,
 CALLS_ROUTED_NON_AGENT INT NOT NULL DEFAULT 0 ,
 ERROR_COUNT INT NOT NULL DEFAULT 0 ,
 AGENT_ERROR_COUNT INT NOT NULL DEFAULT 0 ,
 RETURN_RING INT NOT NULL DEFAULT 0 ,
 INCOMPLETE_CALLS INT NOT NULL DEFAULT 0 ,
 CALLS_GIVEN_FORCE_DISCONNECT INT NOT NULL DEFAULT 0 ,
 CALLS_GIVEN_ROUTE_TO INT NOT NULL DEFAULT 0 ,
 CALL_TYPE VARCHAR (200) ,
 EXTRACT_DT DATETIME NOT NULL DEFAULT GETDATE() ,
 LAST_UPDATE_DT DATETIME NOT NULL DEFAULT GETDATE() ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 CONSTRAINT CC_S_ACD_INTERVAL__UN UNIQUE NONCLUSTERED (INTERVAL_DATE,
 CONTACT_QUEUE_ID, INTERVAL_ID, AGENT_ID)
 )
GO

CREATE NONCLUSTERED INDEX
CC_S_ACD_INT_CC_S_CNTCT_Q_FK ON MAXDAT.CC_S_ACD_INTERVAL
(
 CONTACT_QUEUE_ID
)
GO

CREATE NONCLUSTERED INDEX
CC_S_ACD_INT_CC_S_INTERVAL_FK ON MAXDAT.CC_S_ACD_INTERVAL
(
 ACD_INTERVAL_ID
)
GO

CREATE NONCLUSTERED INDEX
CC_S_ACD_INT_CC_S_AGENT_FK ON MAXDAT.CC_S_ACD_INTERVAL
(
 AGENT_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_ACD_INTERVAL_PERIOD
 (
 ACD_INTERVAL_PERIOD_ID INT IDENTITY(1,1) not null constraint CC_S_ACD_INTERVAL_PERIOD_PK primary key,
 PERIOD_TYPE VARCHAR (50) NOT NULL ,
 PERIOD_1_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 PERIOD_2_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 PERIOD_3_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 PERIOD_4_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 PERIOD_5_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 PERIOD_6_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 PERIOD_7_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 PERIOD_8_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 PERIOD_9_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 PERIOD_10_UPPER_BOUND SMALLINT NOT NULL DEFAULT 0 ,
 EXTRACT_DT DATETIME NOT NULL ,
 RECORD_EFF_DT DATE NOT NULL DEFAULT '01/01/1900' ,
 RECORD_END_DT DATE NOT NULL DEFAULT '12/31/2999' ,
 CONSTRAINT CC_S_INTERVAL_PERIOD__UN UNIQUE NONCLUSTERED (PERIOD_TYPE,
 RECORD_EFF_DT, PERIOD_1_UPPER_BOUND, PERIOD_2_UPPER_BOUND,
 PERIOD_3_UPPER_BOUND, PERIOD_4_UPPER_BOUND, PERIOD_5_UPPER_BOUND,
 PERIOD_6_UPPER_BOUND, PERIOD_7_UPPER_BOUND, PERIOD_8_UPPER_BOUND,
 PERIOD_9_UPPER_BOUND, PERIOD_10_UPPER_BOUND)
 )
GO

ALTER TABLE MAXDAT.CC_S_ACD_INTERVAL_PERIOD
ADD
CHECK ( PERIOD_TYPE IN ('CALLS_ABANDONED', 'SPEED_OF_ANSWER') )
GO

CREATE
 TABLE MAXDAT.CC_S_AGENT
 (
 AGENT_ID INT IDENTITY(1,1) not null constraint ST_AGENT_PK primary key,
 LOGIN_ID NVARCHAR (100) NOT NULL ,
 PROJECT_CONFIG_ID INT NOT NULL ,
 FIRST_NAME VARCHAR (50) NOT NULL ,
 LAST_NAME VARCHAR (50) NOT NULL ,
 MIDDLE_INITIAL VARCHAR (20) ,
 JOB_TITLE VARCHAR (50) NOT NULL ,
 LANGUAGE VARCHAR (50) NOT NULL ,
 SITE_NAME VARCHAR (50) NOT NULL ,
 SITE_DESCRIPTION VARCHAR (200) NOT NULL ,
 HOURLY_RATE DECIMAL (5,2) NOT NULL DEFAULT 0 ,
 RATE_CURRENCY VARCHAR (3) NOT NULL ,
 AGENT_GROUP VARCHAR (50) NOT NULL ,
 EXTRACT_DT DATETIME NOT NULL ,
 HIRE_DATE DATE ,
 TERMINATION_DATE DATE ,
 LAST_UPDATE_DT DATETIME NOT NULL ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 RECORD_EFF_DT DATE ,
 RECORD_END_DT DATE ,
 CONSTRAINT CC_S_AGENT_UN UNIQUE NONCLUSTERED (LOGIN_ID, RECORD_EFF_DT)
 )
GO

ALTER TABLE MAXDAT.CC_S_AGENT
ADD CONSTRAINT CC_S_AGENT_REC_DATE_CK
CHECK ( RECORD_EFF_DT <= RECORD_END_DT )
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_AGENT__IDX ON MAXDAT.CC_S_AGENT
(
AGENT_ID
)
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_AGENT__IDX2 ON MAXDAT.CC_S_AGENT
(
LOGIN_ID ,
RECORD_EFF_DT DESC
)
GO

CREATE NONCLUSTERED INDEX
CC_S_AGENT__IDXv4 ON MAXDAT.CC_S_AGENT
(
PROJECT_CONFIG_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_AGENT_ABSENCE
 (
 AGENT_ABSENCE_ID INT IDENTITY(1,1) not null constraint ST_AGENT_ABSENCES_PK primary key,
 ABSENCE_DATE DATE NOT NULL ,
 AGENT_ID INT NOT NULL ,
 ACTIVITY_TYPE_ID INT NOT NULL ,
 ABSENCE_MINUTES NUMERIC (6,2) NOT NULL DEFAULT 0 ,
 ABSENCE_START_TIME DATE NOT NULL ,
 ABSENCE_END_TIME DATE NOT NULL ,
 IS_PLANNED_FLAG CHAR(1) NOT NULL ,
 EXTRACT_DT DATETIME NOT NULL ,
 LAST_UPDATE_DT DATETIME NOT NULL ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 CONSTRAINT CC_S_AGENT_ABSENCES__UN UNIQUE NONCLUSTERED (AGENT_ID,
 ABSENCE_END_TIME)
 )
GO

ALTER TABLE MAXDAT.CC_S_AGENT_ABSENCE
ADD CONSTRAINT CC_S_AGENT_ABSENCE_CK
CHECK ( ABSENCE_START_TIME <= ABSENCE_END_TIME )
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_AGENT_ABSENCE__IDX ON MAXDAT.CC_S_AGENT_ABSENCE
(
AGENT_ABSENCE_ID
)
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_AGENT_ABSENCE__IDX2 ON MAXDAT.CC_S_AGENT_ABSENCE
(
AGENT_ID ,
ABSENCE_END_TIME DESC
)
GO

CREATE
 TABLE MAXDAT.CC_S_AGENT_SUPERVISOR
 (
 AGENT_SUPERVISOR_ID INT IDENTITY(1,1) not null constraint ST_AGENT_SUPERVISOR_PK primary key,
 AGENT_ID INT NOT NULL ,
 SUPERVISOR_AGENT_ID INT NOT NULL ,
 EXTRACT_DT DATETIME NOT NULL ,
 RECORD_EFF_DT DATE NOT NULL ,
 RECORD_END_DT DATE NOT NULL ,
 CONSTRAINT CC_S_AGENT_SUPERVISOR_UN UNIQUE NONCLUSTERED (AGENT_ID,
 SUPERVISOR_AGENT_ID, RECORD_EFF_DT)
 )
GO

ALTER TABLE MAXDAT.CC_S_AGENT_SUPERVISOR
ADD CONSTRAINT CC_S_AGENT_SPRVSR_REC_DT_CK
CHECK ( RECORD_EFF_DT <= RECORD_END_DT )
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_AGENT_SUPERVISOR__IDX ON MAXDAT.CC_S_AGENT_SUPERVISOR
(
AGENT_SUPERVISOR_ID
)
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_AGENT_SUPERVISOR__IDX2 ON MAXDAT.CC_S_AGENT_SUPERVISOR
(
AGENT_ID ,
SUPERVISOR_AGENT_ID ,
RECORD_EFF_DT DESC
)
GO

CREATE
 TABLE MAXDAT.CC_S_AGENT_WORK_DAY
 (
 AGENT_WORK_DAY_ID INT IDENTITY(1,1) not null constraint CC_S_AGENT_WORK_DAY_PK primary key,
 AGENT_ID INT NOT NULL ,
 WORK_DATE DATE NOT NULL ,
 FIRST_LOGIN DATETIME NOT NULL ,
 LAST_LOGOUT DATETIME NOT NULL ,
 SCHEDULED_SHIFT_MINUTES NUMERIC (6,2) DEFAULT 0 ,
 ACTUAL_SHIFT_MINUTES NUMERIC (6,2) NOT NULL DEFAULT 0 ,
 ACTUAL_OVERTIME_MINUTES NUMERIC (6,2) NOT NULL DEFAULT 0 ,
 EXTRACT_DT DATETIME NOT NULL ,
 LAST_UPDATE_DT DATETIME NOT NULL ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 CONSTRAINT CC_S_AGENT_WORK_DAY__UN UNIQUE NONCLUSTERED (AGENT_ID, WORK_DATE)
 )
GO

CREATE NONCLUSTERED INDEX
CC_S_AGENT_WORK_DAY__IDXv2 ON MAXDAT.CC_S_AGENT_WORK_DAY
(
 AGENT_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_CALL_DETAIL
 (
 CALL_DETAIL_ID INT IDENTITY(1,1) not null constraint ST_CALL_DETAIL_PK primary key,
 CALL_SEGMENT_ID VARCHAR (50) ,
 CALL_DATE DATETIME NOT NULL ,
 CALL_TYPE VARCHAR (200) ,
 SOURCE_CALL_ID VARCHAR (40) ,
 AGENT_ID INT NOT NULL ,
 DNIS VARCHAR (30) ,
 DISPOSITION VARCHAR (200) ,
 TRANSFER_TO VARCHAR (200) ,
 CALL_SEGMENT_END_DT DATETIME NOT NULL ,
 QUEUE_NAME VARCHAR (50) NOT NULL ,
 LANGUAGE VARCHAR (50) NOT NULL ,
 ANI_PHONE_NUMBER VARCHAR (200) NOT NULL ,
 QUEUE_TIME_SECONDS NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 RING_TIME_SECONDS NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 HOLD_TIME_SECONDS NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 AFTER_CALL_WORK_SECONDS NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 TALK_TIME_SECONDS NUMERIC (11,2) NOT NULL DEFAULT 0 ,
 IVR_TIME_SECONDS NUMERIC (11,2) ,
 XFERRED_OUT_FLAG CHAR(1) NOT NULL ,
 VOICEMAIL_FLAG CHAR(1) ,
 CALL_ABANDONED_FLAG CHAR(1) ,
 EXTRACT_DT DATETIME NOT NULL DEFAULT GETDATE() ,
 LAST_UPDATE_DT DATETIME NOT NULL DEFAULT GETDATE() ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 CONSTRAINT CC_S_CALL_DETAIL__UN UNIQUE NONCLUSTERED (SOURCE_CALL_ID,
 CALL_SEGMENT_ID)
 )
GO

CREATE NONCLUSTERED INDEX
CC_S_CALL_DETAIL_AGENT_IDX ON MAXDAT.CC_S_CALL_DETAIL
(
 AGENT_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_CONTACT_QUEUE
 (
 CONTACT_QUEUE_ID INT IDENTITY(1,1) not null constraint CC_S_CONTACT_QUEUE_PK primary key ,
 QUEUE_NUMBER INT NOT NULL ,
 PROJECT_CONFIG_ID INT NOT NULL ,
 QUEUE_NAME VARCHAR (50) NOT NULL ,
 SOURCE_QUEUE INT NOT NULL ,
 QUEUE_TYPE VARCHAR (50) NOT NULL ,
 SERVICE_PERCENT TINYINT NOT NULL DEFAULT 0 ,
 SERVICE_SECONDS SMALLINT NOT NULL DEFAULT 0 ,
 QUEUE_GROUP SMALLINT NOT NULL ,
 INTERVAL_MINUTES TINYINT NOT NULL ,
 AVG_SPEED_ANSR_INTRVL_PRIOD_ID INT NOT NULL ,
 CALLS_ABANDOND_INTRVL_PRIOD_ID INT NOT NULL ,
 UNIT_OF_WORK_ID INT NOT NULL ,
 RECORD_EFF_DT DATE NOT NULL DEFAULT '01/01/1900' ,
 RECORD_END_DT DATE NOT NULL DEFAULT '12/31/2999' ,
 CONSTRAINT CC_S_CONTACT_QUEUE__UN UNIQUE NONCLUSTERED (QUEUE_NUMBER,
 RECORD_EFF_DT)
 )
GO

CREATE NONCLUSTERED INDEX
CC_S_CONTACT_QUEUE__IDXv2 ON MAXDAT.CC_S_CONTACT_QUEUE
(
 PROJECT_CONFIG_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_FCST_INTERVAL
 (
 FCST_INTERVAL_ID INT IDENTITY(1,1) not null constraint CC_S_FCST_INTERVAL_PK primary key,
 PRODUCTION_PLAN_HORIZON_ID INT NOT NULL ,
 UNIT_OF_WORK_ID INT NOT NULL ,
 INTERVAL_DATE DATETIME NOT NULL ,
 INTERVAL_ID INT NOT NULL ,
 FORECAST_VERSION SMALLINT NOT NULL DEFAULT 0 ,
 CONTACTS_CREATED INT DEFAULT 0 ,
 CONTACTS_OFFERED INT DEFAULT 0 ,
 CONTACTS_HANDLED INT DEFAULT 0 ,
 MIN_SPEED_TO_HANDLE NUMERIC (7,2) DEFAULT 0 ,
 MAX_SPEED_TO_HANDLE NUMERIC (7,2) DEFAULT 0 ,
 MEAN_SPEED_TO_HANDLE NUMERIC (7,2) DEFAULT 0 ,
 MEDIAN_SPEED_TO_HANDLE NUMERIC (7,2) DEFAULT 0 ,
 STDDEV_SPEED_TO_HANDLE NUMERIC (7,2) DEFAULT 0 ,
 MIN_SPEED_OF_ANSWER NUMERIC (7,2) DEFAULT 0 ,
 MAX_SPEED_OF_ANSWER NUMERIC (7,2) DEFAULT 0 ,
 MEAN_SPEED_OF_ANSWER NUMERIC (7,2) DEFAULT 0 ,
 MEDIAN_SPEED_OF_ANSWER NUMERIC (7,2) DEFAULT 0 ,
 STDDEV_SPEED_OF_ANSWER NUMERIC (7,2) DEFAULT 0 ,
 CONTACTS_ABANDONED INT DEFAULT 0 ,
 CONTACT_INVENTORY INT DEFAULT 0 ,
 MIN_CONTACT_INVENTORY_AGE NUMERIC (5,2) DEFAULT 0 ,
 MAX_CONTACT_INVENTORY_AGE NUMERIC (5,2) DEFAULT 0 ,
 MEAN_CONTACT_INVENTORY_AGE NUMERIC (5,2) DEFAULT 0 ,
 MEDIAN_CONTACT_INVENTORY_AGE NUMERIC (5,2) DEFAULT 0 ,
 STDDEV_CONTACT_INVENTORY_AGE NUMERIC (5,2) DEFAULT 0 ,
 MIN_HANDLE_TIME NUMERIC (7,2) DEFAULT 0 ,
 MAX_HANDLE_TIME NUMERIC (7,2) DEFAULT 0 ,
 MEAN_HANDLE_TIME NUMERIC (7,2) DEFAULT 0 ,
 MEDIAN_HANDLE_TIME NUMERIC (7,2) DEFAULT 0 ,
 CONTACT_INVENTORY_JEOPARDY INT DEFAULT 0 ,
 STDDEV_HANDLE_TIME NUMERIC (7,2) DEFAULT 0 ,
 LABOR_MINUTES_TOTAL NUMERIC (10,2) DEFAULT 0 ,
 LABOR_MINUTES_AVAILABLE NUMERIC (9,2) DEFAULT 0 ,
 LABOR_MINUTES_WAITING NUMERIC (10,2) DEFAULT 0 ,
 HEADCOUNT_TOTAL NUMERIC (7,2) DEFAULT 0 ,
 HEADCOUNT_AVAILABLE NUMERIC (7,2) DEFAULT 0 ,
 HEADCOUNT_UNAVAILABLE NUMERIC (7,2) DEFAULT 0 ,
 SRVC_LEVEL_ANSWERED_PERCENT NUMERIC (5,2) DEFAULT 0 ,
 SRVC_LEVEL_ANSWERED_PERCENT_2 NUMERIC (5,2) DEFAULT 0 ,
 EXTRACT_DT DATETIME NOT NULL DEFAULT GETDATE() ,
 LAST_UPDATE_DT DATETIME NOT NULL DEFAULT GETDATE() ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 CONSTRAINT CC_S_FCST_INTERVAL__UN UNIQUE NONCLUSTERED (
 PRODUCTION_PLAN_HORIZON_ID, INTERVAL_DATE, UNIT_OF_WORK_ID, INTERVAL_ID,
 FORECAST_VERSION)
 )
GO

CREATE NONCLUSTERED INDEX
CC_S_FCST_INTERVAL__IDXv2 ON MAXDAT.CC_S_FCST_INTERVAL
(
 UNIT_OF_WORK_ID
)
GO

CREATE NONCLUSTERED INDEX
CC_S_FCST_INTERVAL__IDXv3 ON MAXDAT.CC_S_FCST_INTERVAL
(
 INTERVAL_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_INTERVAL
 (
 INTERVAL_ID INT IDENTITY(1,1) not null constraint CC_S_INTERVAL_PK primary key,
 INTERVAL_START_DATE DATETIME NOT NULL ,
 INTERVAL_END_DATE DATETIME NOT NULL ,
 INTERVAL_SECONDS SMALLINT NOT NULL DEFAULT 1800 ,
 RECORD_EFF_DT DATE NOT NULL DEFAULT '01/01/1900' ,
 RECORD_END_DT DATE NOT NULL DEFAULT '12/31/2999' ,
 CONSTRAINT CC_S_INTERVAL__UN UNIQUE NONCLUSTERED (INTERVAL_START_DATE,
 INTERVAL_END_DATE)
 )
GO

ALTER TABLE MAXDAT.CC_S_INTERVAL
ADD
CHECK ( INTERVAL_SECONDS IN (900, 1800, 3600) )
GO

CREATE NONCLUSTERED INDEX
CC_S_INTERVAL__IDX1 ON MAXDAT.CC_S_INTERVAL
(
INTERVAL_START_DATE
)
GO

CREATE NONCLUSTERED INDEX
CC_S_INTERVAL__IDX2 ON MAXDAT.CC_S_INTERVAL
(
INTERVAL_END_DATE
)
GO

CREATE
 TABLE MAXDAT.CC_S_IVR_INTERVAL
 (
 IVR_INTERVAL_ID INT IDENTITY(1,1) not null constraint CC_S_IVR_INTERVAL_PK primary key ,
 PROJECT_CONFIG_ID INT NOT NULL ,
 INTERVAL_DATE DATETIME NOT NULL ,
 INTERVAL_ID INT NOT NULL ,
 CONTACTS_CREATED INT NOT NULL DEFAULT 0 ,
 CONTACTS_OFFERED_TO_ACD INT NOT NULL DEFAULT 0 ,
 CONTACTS_CONTAINED_IN_IVR INT NOT NULL DEFAULT 0 ,
 MIN_TIME_IN_THE_IVR NUMERIC (7,2) NOT NULL DEFAULT 0 ,
 MAX_TIME_IN_THE_IVR NUMERIC (7,2) NOT NULL DEFAULT 0 ,
 MEAN_TIME_IN_THE_IVR NUMERIC (7,2) NOT NULL DEFAULT 0 ,
 MEDIAN_TIME_IN_THE_IVR NUMERIC (7,2) NOT NULL DEFAULT 0 ,
 STDDEV_TIME_IN_THE_IVR NUMERIC (7,2) NOT NULL DEFAULT 0 ,
 EXTRACT_DT DATETIME NOT NULL ,
 LAST_UPDATE_DT DATETIME NOT NULL ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 CONSTRAINT CC_S_IVR_INTERVAL__UN UNIQUE NONCLUSTERED (INTERVAL_DATE,
 INTERVAL_ID, PROJECT_CONFIG_ID)
 )
GO

CREATE NONCLUSTERED INDEX
CC_S_IVR_INTERVAL__IDXv2 ON MAXDAT.CC_S_IVR_INTERVAL
(
 INTERVAL_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_IVR_SELF_SERVICE_PATH
 (
 IVR_SELF_SERVICE_PATH_ID INT NOT NULL ,
 CODE VARCHAR (30) ,
 DESCRIPTION VARCHAR (255) ,
 BEGIN_NODE VARCHAR (30) NOT NULL ,
 END_NODE VARCHAR (30) NOT NULL ,
 RECORD_EFF_DT DATE NOT NULL ,
 RECORD_END_DT DATE NOT NULL ,
 CONSTRAINT CC_S_SELF_SERVICE_PATH_PK PRIMARY KEY CLUSTERED (
 IVR_SELF_SERVICE_PATH_ID),
 CONSTRAINT CC_S_SELF_SERVICE_PATH__UN UNIQUE NONCLUSTERED (BEGIN_NODE,
 END_NODE, RECORD_EFF_DT)
 )
GO

CREATE
 TABLE MAXDAT.CC_S_IVR_SELF_SERVICE_USAGE
 (
 IVR_SELF_SERVICE_USAGE_ID INT NOT NULL ,
 PROJECT_CONFIG_ID INT NOT NULL ,
 INTERVAL_ID INT NOT NULL ,
 IVR_SELF_SERVICE_PATH_ID INT NOT NULL ,
 CONTACTS_ENTERING INT NOT NULL DEFAULT 0 ,
 CONTACTS_TRANSFERRED INT NOT NULL ,
 CONTACTS_COMPLETED INT NOT NULL ,
 MINUTES_IN_IVR_TRANSFERRED NUMERIC (12,2) NOT NULL ,
 MINUTES_IN_IVR_COMPLETED NUMERIC (12,2) NOT NULL ,
 CONSTRAINT CC_S_IVR_SELF_SERVICE_USAGE_PK PRIMARY KEY CLUSTERED (
 IVR_SELF_SERVICE_USAGE_ID),
 CONSTRAINT CC_S_IVR_SELF_SVC_USAGE__UN UNIQUE NONCLUSTERED (INTERVAL_ID,
 IVR_SELF_SERVICE_PATH_ID, PROJECT_CONFIG_ID)
 )
GO

CREATE NONCLUSTERED INDEX
CC_S_IVR_SELF_SVC_USAGE__IDXv1 ON MAXDAT.CC_S_IVR_SELF_SERVICE_USAGE
(
 INTERVAL_ID
)
GO

CREATE NONCLUSTERED INDEX
CC_S_IVR_SELF_SVC_USAGE__IDXv2 ON MAXDAT.CC_S_IVR_SELF_SERVICE_USAGE
(
 IVR_SELF_SERVICE_PATH_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_PRODUCTION_PLAN
 (
 PRODUCTION_PLAN_ID INT IDENTITY(1,1) not null constraint CC_C_PRODUCTION_PLAN_PK primary key ,
 PRODUCTION_PLAN_NAME VARCHAR (50) NOT NULL ,
 PRODUCTION_PLAN_DESCRIPTION VARCHAR (1000) ,
 PROGRAM_NAME VARCHAR (50) NOT NULL ,
 PROJECT_NAME VARCHAR (50) NOT NULL ,
 GEOGRAPHY_NAME VARCHAR (50) NOT NULL ,
 EFFECTIVE_DATE DATE NOT NULL DEFAULT GETDATE() ,
 LAST_UPDATE_DATE DATETIME NOT NULL DEFAULT GETDATE() ,
 EXTRACT_DT DATETIME NOT NULL ,
 RECORD_EFF_DT DATE NOT NULL ,
 RECORD_END_DT DATE NOT NULL ,
 CONSTRAINT CC_S_PRODUCTION_PLAN__UN UNIQUE NONCLUSTERED (PRODUCTION_PLAN_NAME
 , RECORD_EFF_DT)
 )
GO

CREATE
 TABLE MAXDAT.CC_S_PRODUCTION_PLAN_HORIZON
 (
 PRODUCTION_PLAN_HORIZON_ID INT IDENTITY(1,1) not null constraint CC_C_HORIZON_PK primary key ,
 PRODUCTION_PLAN_ID INT NOT NULL ,
 HORIZON_START_DATE DATE DEFAULT GETDATE() ,
 HORIZON_START_HOUR TINYINT DEFAULT datepart(hh,getdate()) ,
 HORIZON_END_DATE DATE DEFAULT GETDATE() ,
 HORIZON_END_HOUR TINYINT DEFAULT datepart(hh,getdate()),
 HORIZON_NAME VARCHAR (50) ,
 HORIZON_DESCRIPTION VARCHAR (1000) ,
 INITIAL_VERSION SMALLINT NOT NULL ,
 FINAL_VERSION SMALLINT NOT NULL ,
 CREATE_DATE DATETIME DEFAULT GETDATE() ,
 LAST_UPDATE_DATE DATETIME DEFAULT GETDATE() ,
 CONSTRAINT CC_C_HORIZON__UN UNIQUE NONCLUSTERED (PRODUCTION_PLAN_ID,
 HORIZON_START_DATE, HORIZON_START_HOUR, HORIZON_END_DATE, HORIZON_END_HOUR)
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TIMEZONEAM
 (
 ID INT NOT NULL ,
 TIMEZONE VARCHAR (50) ,
 STARTTIME DATETIME ,
 ENDTIME DATETIME ,
 BIAS BIGINT ,
 CONSTRAINT CC_S_TIMEZONEAM_PK PRIMARY KEY CLUSTERED (ID)
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_ACTUALEVENTTIMELINE
 (
 EMPLOYEEID BIGINT NOT NULL ,
 STARTTIME DATETIME NOT NULL ,
 ENDTIME DATETIME NOT NULL ,
 LOGINID BIGINT NOT NULL ,
 ACTIVITYID BIGINT ,
 ACTIVITYCATEGORYNAME VARCHAR (50) ,
 ACTIVITYNAME VARCHAR (50) ,
 TIMEENTRYEVENTID BIGINT ,
 ISPAID VARCHAR (20) ,
 ORGANIZATIONID BIGINT ,
 ORGANIZATIONNAME VARCHAR (250) ,
 TIMEZONE VARCHAR (30) ,
 LOCAL_STARTTIME DATETIME ,
 LOCAL_ENDTIME DATETIME ,
 CONSTRAINT CC_S_TMP_ACTUALEVENTTIMELIN_PK PRIMARY KEY CLUSTERED (LOGINID,
 STARTTIME, ENDTIME)
 )
GO

CREATE NONCLUSTERED INDEX
CC_S_TMP_AET__IDX1 ON MAXDAT.CC_S_TMP_ACTUALEVENTTIMELINE
(
 LOCAL_STARTTIME
)
GO

CREATE NONCLUSTERED INDEX
CC_S_TMP_AET__IDX2 ON MAXDAT.CC_S_TMP_ACTUALEVENTTIMELINE
(
 LOCAL_ENDTIME
)
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_AGENT_SKILL_GROUP
 (
 SKILLTARGETID BIGINT ,
 PERIPHERALNUMBER BIGINT ,
 SKILLGROUPSKILLTARGETID BIGINT ,
 FIRSTNAME VARCHAR (50) ,
 LASTNAME VARCHAR (50)
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_AVY_AGENT
 (
 USER_ID VARCHAR (32) NOT NULL ,
 TELSETLOGINID BIGINT ,
 SURNAME VARCHAR (64) ,
 GIVENNAME VARCHAR (64) ,
 DEPARTMENT VARCHAR (64) ,
 TITLE VARCHAR (64) ,
 SKILLSETID BIGINT ,
 CONSTRAINT CC_S_TMP_AVY_AGENT_PK PRIMARY KEY CLUSTERED (USER_ID)
 )
GO

CREATE TABLE MAXDAT.CC_S_TMP_CISCO_AGENT(
 PERSON_ID BIGINT,
 FIRST_NAME VARCHAR (64),
 LAST_NAME VARCHAR (64) ,
 LOGIN_NAME VARCHAR (64),
 SKILLSETID BIGINT null ,
 CONSTRAINT CC_S_TMP_CISCO_AGENT_PK PRIMARY KEY CLUSTERED (PERSON_ID)
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_AVY_AGENTBYAPP
 (
 TIMESTAMP DATETIME ,
 AGENTLOGIN VARCHAR (16) ,
 APPLICATIONID INT ,
 HOLDTIME INT,
 CALLSOFFERED INT NOT NULL,
 CALLSANSWERED INT NOT NULL,
 CALLSTRANSFERRED INT NOT NULL,
 TALKTIME NUMERIC(12,2) NOT NULL,
 POSTCALLPROCESSINGTIME NUMERIC(12,2) NOT NULL,
 WAITTIME NUMERIC(12,2) NOT NULL,
 CONSULTTIME NUMERIC(12,2) NOT NULL,
 CONTACTTALKTIME NUMERIC(12,2) NOT NULL,
 CONTACTHOLDTIME NUMERIC(12,2) NOT NULL
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_AVY_APPLICATION
 (
 APPLICATIONID INT NOT NULL ,
 NAME VARCHAR (30) ,
 SERVICELEVELTHRESHOLD INT ,
 TEMPLATEID INT ,
 CONSTRAINT CC_S_TMP_AVY_APPLICATION_PK PRIMARY KEY CLUSTERED (APPLICATIONID
 )
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_AVY_DAGENTPERFORMANCE
 (
 TIMESTAMP DATETIME ,
 USERID VARCHAR (32) ,
 AGENTLOGIN VARCHAR (16) ,
 SUPERVISORLOGIN VARCHAR (16) ,
 ACDCALLSANSWERED INT ,
 HOLDTIME INT ,
 LOGGEDINTIME INT ,
 NOTREADYTIME INT ,
 RESERVEDTIME INT ,
 RINGTIME INT ,
 TALKTIME INT ,
 WAITINGTIME INT ,
 POSTCALLPROCESSINGTIME INT ,
 CONTACTTALKTIME INT ,
 CONTACTHOLDTIME INT ,
 CALLSANSWERED INT ,
 SITEID INT ,
 SITE VARCHAR (30) ,
 DNINEXTCALLSTALKTIME INT ,
 DNOUTEXTCALLSTALKTIME INT ,
 DNININTCALLSTALKTIME INT ,
 DNOUTINTCALLSTALKTIME INT ,
 DNINEXTCALLS INT ,
 DNOUTEXTCALLS INT ,
 DNININTCALLS INT ,
 DNOUTINTCALLS INT ,
 BUSYONDNTIME INT ,
 BREAKTIME INT ,
 CONSULTATIONTIME INT ,
 WALKAWAYTIME INT
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_AVY_ECSRSTAT
 (
 CustID INT ,
 SequenceID INT ,
 GUID VARCHAR (36) ,
 CCMID INT ,
 ProviderContactID VARCHAR (50) ,
 InterCallID INT ,
 ContactType INT ,
 ContactTypeName VARCHAR (30) ,
 ContactSubType VARCHAR (50) ,
 ContactProximity VARCHAR (50) ,
 Priority SMALLINT ,
 Provider VARCHAR (50) ,
 SiteID INT ,
 SiteName VARCHAR (30) ,
 RemoteSiteID INT ,
 RemoteSiteName VARCHAR (30) ,
 Originator VARCHAR (256) ,
 Address VARCHAR (255) ,
 RoutePoint VARCHAR (30) ,
 ApplicationID INT ,
 ApplicationName VARCHAR (30) ,
 SourceApplicationName VARCHAR (30) ,
 ApplicationStartStamp DATETIME ,
 LastTreatmentID INT ,
 Treatment VARCHAR (50) ,
 LastTreatmentStamp DATETIME ,
 LastTreatmentTime INT ,
 SkillsetID INT ,
 SkillsetName VARCHAR (30) ,
 SkillsetQueuedStamp DATETIME ,
 LocalUserID INT ,
 AgentSurName VARCHAR (64) ,
 AgentGivenName VARCHAR (64) ,
 SupervisorSurName VARCHAR (64) ,
 SupervisorGivenName VARCHAR (64) ,
 AgentID VARCHAR (16) ,
 SupervisorID VARCHAR (16) ,
 OriginatedStamp DATETIME ,
 InitialDisposition VARCHAR (50) ,
 ServiceStamp DATETIME ,
 AppAbandonDelay INT ,
 AppAcceptedDelay INT ,
 SksAbandonDelay INT ,
 SksAcceptedDelay INT ,
 HandlingTime INT ,
 ConsultTime INT ,
 HoldTime INT ,
 NumberOfTimesOnHold INT ,
 NumberOfTimesRTQ INT ,
 FinalDisposition VARCHAR (50) ,
 FinalDispositionStamp DATETIME ,
 PresentingTime INT ,
 PCPTime INT ,
 PCPFirstCode VARCHAR (32) ,
 WaitTime INT ,
 NextAddress VARCHAR (255) ,
 NextSegmentID INT ,
 ContactOriginatedStamp DATETIME ,
 FinalDispositionInterval VARCHAR (255) ,
 ServiceInterval VARCHAR (255) ,
 OriginatedInterval VARCHAR (255) ,
 DisconnectSource VARCHAR (9) ,
 NumContactObserves INT ,
 NumContactBargeIns INT ,
 AnchoredMediaServer VARCHAR (50) ,
 PreferredMediaServer VARCHAR (50) ,
 PreferredMediaServerResult INT ,
 PreferredMediaServerResultDesc VARCHAR (80)
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_AVY_IAPPLICATION
 (
 TIMESTAMP DATETIME ,
 APPLICATIONID INT ,
 APPLICATION VARCHAR (30) ,
 CALLSABANDONED INT ,
 CALLSABANDONEDAFTTHRESHOLD INT ,
 CALLSABANDONEDDELAY INT ,
 CALLSANSWERED INT ,
 CALLSANSWEREDAFTTHRESHOLD INT ,
 CALLSANSWEREDDELAY INT ,
 CALLSGIVENFORCEBUSY INT ,
 CALLSGIVENFORCEDISCONNECT INT ,
 CALLSGIVENFORCEOVERFLOW INT ,
 CALLSGIVENROUTETO INT ,
 CALLSOFFERED INT ,
 CALLSTRANSFERREDIN INT ,
 CALLSTRANSFERREDOUT INT ,
 IVRABANDONED INT ,
 IVRTERMINATED INT ,
 IVRTRANSFERRED INT ,
 POSTCALLPROCESSINGTIME INT ,
 TALKTIME INT ,
 WAITTIME INT ,
 ANSDELAY2 INT ,
 ANSDELAY4 INT ,
 ANSDELAY6 INT ,
 ANSDELAY8 INT ,
 ANSDELAY10 INT ,
 ANSDELAY12 INT ,
 ANSDELAY14 INT ,
 ANSDELAY16 INT ,
 ANSDELAY18 INT ,
 ANSDELAY20 INT ,
 ANSDELAY22 INT ,
 ANSDELAY24 INT ,
 ANSDELAY26 INT ,
 ANSDELAY28 INT ,
 ANSDELAY30 INT ,
 ANSDELAY32 INT ,
 ANSDELAY34 INT ,
 ANSDELAY36 INT ,
 ANSDELAY38 INT ,
 ANSDELAY40 INT ,
 ANSDELAY42 INT ,
 ANSDELAY44 INT ,
 ANSDELAY46 INT ,
 ANSDELAY48 INT ,
 ANSDELAY50 INT ,
 ANSDELAY52 INT ,
 ANSDELAY54 INT ,
 ANSDELAY56 INT ,
 ANSDELAY58 INT ,
 ANSDELAY60 INT ,
 ANSDELAY70 INT ,
 ANSDELAY80 INT ,
 ANSDELAY90 INT ,
 ANSDELAY100 INT ,
 ANSDELAY110 INT ,
 ANSDELAY120 INT ,
 ANSDELAY130 INT ,
 ANSDELAY140 INT ,
 ANSDELAY150 INT ,
 ANSDELAY160 INT ,
 ANSDELAY170 INT ,
 ANSDELAY180 INT ,
 ANSDELAY190 INT ,
 ANSDELAY200 INT ,
 ANSDELAY210 INT ,
 ANSDELAY220 INT ,
 ANSDELAY230 INT ,
 ANSDELAY240 INT ,
 ANSDELAY250 INT ,
 ANSDELAY260 INT ,
 ANSDELAY270 INT ,
 ANSDELAY280 INT ,
 ANSDELAY290 INT ,
 ANSDELAY300 INT ,
 ANSDELAY360 INT ,
 ANSDELAY420 INT ,
 ANSDELAY480 INT ,
 ANSDELAY540 INT ,
 ANSDELAY600 INT ,
 ANSDELAYBEYOND INT ,
 ABDDELAY2 INT ,
 ABDDELAY4 INT ,
 ABDDELAY6 INT ,
 ABDDELAY8 INT ,
 ABDDELAY10 INT ,
 ABDDELAY12 INT ,
 ABDDELAY14 INT ,
 ABDDELAY16 INT ,
 ABDDELAY18 INT ,
 ABDDELAY20 INT ,
 ABDDELAY22 INT ,
 ABDDELAY24 INT ,
 ABDDELAY26 INT ,
 ABDDELAY28 INT ,
 ABDDELAY30 INT ,
 ABDDELAY32 INT ,
 ABDDELAY34 INT ,
 ABDDELAY36 INT ,
 ABDDELAY38 INT ,
 ABDDELAY40 INT ,
 ABDDELAY42 INT ,
 ABDDELAY44 INT ,
 ABDDELAY46 INT ,
 ABDDELAY48 INT ,
 ABDDELAY50 INT ,
 ABDDELAY52 INT ,
 ABDDELAY54 INT ,
 ABDDELAY56 INT ,
 ABDDELAY58 INT ,
 ABDDELAY60 INT ,
 ABDDELAY70 INT ,
 ABDDELAY80 INT ,
 ABDDELAY90 INT ,
 ABDDELAY100 INT ,
 ABDDELAY110 INT ,
 ABDDELAY120 INT ,
 ABDDELAY130 INT ,
 ABDDELAY140 INT ,
 ABDDELAY150 INT ,
 ABDDELAY160 INT ,
 ABDDELAY170 INT ,
 ABDDELAY180 INT ,
 ABDDELAY190 INT ,
 ABDDELAY200 INT ,
 ABDDELAY210 INT ,
 ABDDELAY220 INT ,
 ABDDELAY230 INT ,
 ABDDELAY240 INT ,
 ABDDELAY250 INT ,
 ABDDELAY260 INT ,
 ABDDELAY270 INT ,
 ABDDELAY280 INT ,
 ABDDELAY290 INT ,
 ABDDELAY300 INT ,
 ABDDELAY360 INT ,
 ABDDELAY420 INT ,
 ABDDELAY480 INT ,
 ABDDELAY540 INT ,
 ABDDELAY600 INT ,
 ABDDELAYBEYOND INT ,
 TIME VARCHAR (5) ,
 CONTACTTYPE VARCHAR (30) ,
 MAXCALLSANSDELAYATSKILLSET INT ,
 MAXCALLSANSDELAY INT
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_CISCO_AGENT_INTERVAL
 (
 DATE_TIME DATETIME ,
 SKILLTARGETID BIGINT ,
 TIMEZONE BIGINT ,
 LOGGEDONTIME BIGINT ,
 AVAILTIME BIGINT ,
 NOTREADYTIME BIGINT ,
 TALKOTHERTIME BIGINT
 )
GO

CREATE NONCLUSTERED INDEX
TMP_CISCO_AGT_INT_DTTIME_IDX ON MAXDAT.CC_S_TMP_CISCO_AGENT_INTERVAL
(
 DATE_TIME
)
GO

CREATE NONCLUSTERED INDEX
TMP_CISCO_AGT_INT_SKTGTID_IDX ON MAXDAT.CC_S_TMP_CISCO_AGENT_INTERVAL
(
 SKILLTARGETID
)
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_CISCO_AGENT_LOGOUT
 (
 SKILLTARGETID BIGINT ,
 LOGOUTDATETIME DATETIME ,
 TIMEZONE BIGINT ,
 LOGINDURATION BIGINT ,
 REASONCODE BIGINT
 )
GO

CREATE NONCLUSTERED INDEX
TMP_CISCO_AGT_LOUT_LODTTME_IDX ON MAXDAT.CC_S_TMP_CISCO_AGENT_LOGOUT
(
 LOGOUTDATETIME
)
GO

CREATE NONCLUSTERED INDEX
TMP_CISCO_AGT_LOUT_SKTGTID_IDX ON MAXDAT.CC_S_TMP_CISCO_AGENT_LOGOUT
(
 SKILLTARGETID
)
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_CISCO_A_SG_INTERVAL
 (
 DATE_TIME DATETIME ,
 DBDATETIME DATETIME ,
 SKILLTARGETID BIGINT ,
 SKILLGROUPSKILLTARGETID BIGINT ,
 TIMEZONE BIGINT ,
 AVAILTIME BIGINT ,
 LOGGEDONTIME BIGINT ,
 NOTREADYTIME BIGINT ,
 TALKRESERVETIME BIGINT ,
 RESERVEDSTATETIME BIGINT ,
 TALKINTIME BIGINT ,
 TALKOTHERTIME BIGINT ,
 TALKOUTTIME BIGINT ,
 TALKAUTOOUTTIME BIGINT ,
 TALKPREVIEWTIME BIGINT ,
 HOLDTIME BIGINT ,
 WORKNOTREADYTIME BIGINT ,
 WORKREADYTIME BIGINT ,
 AGENTOUTCALLS BIGINT ,
 CALLSHANDLED BIGINT ,
 AUTOOUTCALLS BIGINT ,
 PREVIEWCALLS BIGINT ,
 INTERNALCALLS BIGINT
 )
GO

CREATE NONCLUSTERED INDEX
TMP_CISCO_AGTSG_INT_DTTIME_IDX ON MAXDAT.CC_S_TMP_CISCO_A_SG_INTERVAL
(
 DATE_TIME
)
GO

CREATE NONCLUSTERED INDEX
TMP_CISCO_AGTSG_INT_STGID_IDX ON MAXDAT.CC_S_TMP_CISCO_A_SG_INTERVAL
(
 SKILLTARGETID
)
GO

CREATE NONCLUSTERED INDEX
TMP_CSCO_AGTSG_INT_SGTGTID_IDX ON MAXDAT.CC_S_TMP_CISCO_A_SG_INTERVAL
(
 SKILLGROUPSKILLTARGETID
)
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_CISCO_C_T_INTERVAL
 (
 CALLTYPEID BIGINT ,
 TIMEZONE BIGINT ,
 DATE_TIME DATE ,
 DBDATETIME DATE ,
 ANSWERWAITTIME BIGINT ,
 CALLSHANDLED BIGINT ,
 CALLSOFFERED BIGINT ,
 HANDLETIME BIGINT ,
 TALKTIME BIGINT ,
 HOLDTIME BIGINT ,
 CALLSANSWERED BIGINT ,
 ANSINTERVAL1 BIGINT ,
 ANSINTERVAL2 BIGINT ,
 ANSINTERVAL3 BIGINT ,
 ANSINTERVAL4 BIGINT ,
 ANSINTERVAL5 BIGINT ,
 ANSINTERVAL6 BIGINT ,
 ANSINTERVAL7 BIGINT ,
 ANSINTERVAL8 BIGINT ,
 ANSINTERVAL9 BIGINT ,
 ANSINTERVAL10 BIGINT ,
 ABANDINTERVAL1 BIGINT ,
 ABANDINTERVAL2 BIGINT ,
 ABANDINTERVAL3 BIGINT ,
 ABANDINTERVAL4 BIGINT ,
 ABANDINTERVAL5 BIGINT ,
 ABANDINTERVAL6 BIGINT ,
 ABANDINTERVAL7 BIGINT ,
 ABANDINTERVAL8 BIGINT ,
 ABANDINTERVAL9 BIGINT ,
 ABANDINTERVAL10 BIGINT ,
 TOTALCALLSABAND BIGINT ,
 ROUTERQUEUEWAITTIME BIGINT ,
 ROUTERQUEUECALLTYPELIMIT BIGINT ,
 ROUTERQUEUEGLOBALLIMIT BIGINT ,
 CALLSONHOLD BIGINT ,
 MAXHOLDTIME BIGINT ,
 MAXCALLWAITTIME BIGINT ,
 SERVICELEVELCALLS BIGINT ,
 SERVICELEVELABAND BIGINT ,
 CALLDELAYABANDTIME BIGINT ,
 MAXCALLSQUEUED BIGINT ,
 SHORTCALLS BIGINT ,
 REPORTING_INTERVAL BIGINT ,
 VRUSCRIPTEDXFERREDCALLS BIGINT ,
 VRUFORCEDXFERREDCALLS BIGINT ,
 OVERFLOWOUT BIGINT ,
 CTVRUTIME BIGINT ,
 ICRDEFAULTROUTED BIGINT ,
 NETWORKDEFAULTROUTED BIGINT ,
 RETURNBUSY BIGINT ,
 CALLSRONA BIGINT ,
 RETURNRELEASE BIGINT ,
 CALLSROUTEDNONAGENT BIGINT ,
 ERRORCOUNT BIGINT ,
 AGENTERRORCOUNT BIGINT ,
 INCOMPLETECALLS BIGINT ,
 RETURNRING BIGINT
 )
GO

CREATE NONCLUSTERED INDEX
TMP_CISCO_CTYPE_INT_CLTPID_IDX ON MAXDAT.CC_S_TMP_CISCO_C_T_INTERVAL
(
 CALLTYPEID
)
GO

CREATE NONCLUSTERED INDEX
TMP_CISCO_CTYPE_INT_DTTIME_IDX ON MAXDAT.CC_S_TMP_CISCO_C_T_INTERVAL
(
 DATE_TIME
)
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_INTERVAL
 (
 INTERVAL_ID INT NOT NULL ,
 INTERVAL_START_DATE DATETIME NOT NULL ,
 INTERVAL_END_DATE DATETIME NOT NULL ,
 INTERVAL_SECONDS SMALLINT NOT NULL DEFAULT 1800 ,
 RECORD_EFF_DT DATE NOT NULL DEFAULT '01/01/1900' ,
 RECORD_END_DT DATE NOT NULL DEFAULT '12/31/2999' ,
 CONSTRAINT CC_S_TMP_INTERVAL_PK PRIMARY KEY CLUSTERED (INTERVAL_ID),
 CONSTRAINT CC_S_TMP_INTERVAL_UN UNIQUE NONCLUSTERED (INTERVAL_START_DATE,
 INTERVAL_END_DATE)
 )
GO

ALTER TABLE MAXDAT.CC_S_TMP_INTERVAL
ADD CONSTRAINT CK_CC_S_TMP_INTERVAL_SECONDS
CHECK ( INTERVAL_SECONDS IN (900, 1800, 3600) )
GO

CREATE NONCLUSTERED INDEX
CC_S_TMP_INTERVAL__IDX1 ON MAXDAT.CC_S_TMP_INTERVAL
(
INTERVAL_START_DATE
)
GO

CREATE NONCLUSTERED INDEX
CC_S_TMP_INTERVAL__IDX2 ON MAXDAT.CC_S_TMP_INTERVAL
(
INTERVAL_END_DATE
)
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_IVR_STEP
 (
 ID BIGINT NOT NULL ,
 CLIENT VARCHAR (200) ,
 STEPTIME DATETIME ,
 CONNID VARCHAR (200) ,
 SESSIONID VARCHAR (250) ,
 STEPNAME VARCHAR (200) ,
 STEPVALUE VARCHAR (200) ,
 NODENAME VARCHAR (200) ,
 CONSTRAINT CC_S_IVR_STEP_PK PRIMARY KEY CLUSTERED (ID)
)
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_IVR_STEP_IDX ON MAXDAT.CC_S_TMP_IVR_STEP
(
 ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_PIPKINS_EVENT
 (
 EVENT_ID BIGINT ,
 NAME VARCHAR (250) ,
 EVENT_TYPE_GROUP_ID BIGINT ,
 EVENT_TYPE_ID BIGINT ,
 TOLERANCE_FOR_TIMECLOCK DATE ,
 DELETE_DATE DATE ,
 TOLERANCE_FOR_ADHERING DATE ,
 DESCRIPTION VARCHAR (250) ,
 OWNER_USER BIGINT ,
 MODIFY_USER BIGINT ,
 OWNER_DATE DATE ,
 MODIFY_DATE DATE ,
 WORK_CLASSIFICATION_ID BIGINT
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_PIPKINS_OFFICE
 (
 OFFICE_ID INT ,
 LOCALE_ID INT ,
 TIMEZONE_ID INT ,
 NAME VARCHAR (20) ,
 DESCRIPTION VARCHAR (200) ,
 DELETE_DATE DATE ,
 OWNER_USER INT ,
 MODIFY_USER INT ,
 OWNER_DATE DATE ,
 MODIFY_DATE DATE
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_PIPKINS_STAFF
 (
 STAFF_ID BIGINT ,
 STAFF_GROUP_ID INT ,
 STAFF_GROUP_NAME VARCHAR (50) ,
 FIRST_NAME VARCHAR (50) ,
 MIDDLE_NAME VARCHAR (50) ,
 LAST_NAME VARCHAR (50) ,
 SUFFIX VARCHAR (50) ,
 NATIONAL_ID VARCHAR (250) ,
 HIRE_DATE DATE ,
 TERMINATION_DATE DATE ,
 SCHEDULE_TYPE BIGINT ,
 DELETE_DATE DATE ,
 SENIORITY_EFFECTIVE_DATE DATE ,
 OWNER_USER BIGINT ,
 OWNER_DATE DATE ,
 MODIFY_USER BIGINT ,
 MODIFY_DATE DATE ,
 SECONDARY_ID VARCHAR (250) ,
 EMAIL_ADDRESS VARCHAR (250) ,
 HOME_PHONE VARCHAR (28) ,
 WORK_PHONE VARCHAR (28) ,
 CELL_PHONE VARCHAR (28) ,
 ADDRESS VARCHAR (2000) ,
 PIP_ADDRESS VARCHAR (250) ,
 TEXT_ADDRESS VARCHAR (250) ,
 TERMINATION_POLICY_ID BIGINT ,
 TERMINATION_REASON VARCHAR (2000) ,
 COMMAND_SCRIPT VARCHAR (4000) ,
 MESSAGE_BUFFER VARCHAR (4000)
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_PIPKINS_STF_TO_OFFICE
 (
 EFFECTIVE_DATE DATE ,
 STAFF_ID INT ,
 OFFICE_ID INT ,
 END_DATE DATE
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_PIPKINS_SUP_TO_STAFF
 (
 STAFF_ID BIGINT ,
 SUPERVISOR BIGINT ,
 PRIORITY BIGINT ,
 EFFECTIVE_DATE DATE ,
 END_DATE DATE ,
 SUPERVISOR_ID BIGINT
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_PIPKINS_TASK
 (
 STAFF_ID BIGINT ,
 SCHEDULE_INSTANCE_ID BIGINT ,
 TASK_START DATETIME ,
 LOCAL_TASK_START DATETIME ,
 SCENARIO_GROUP_ID BIGINT ,
 TASK_END DATETIME ,
 LOCAL_TASK_END DATETIME ,
 TASK_CATEGORY_ID BIGINT ,
 DURATION BIGINT ,
 EVENT_ID BIGINT ,
 SUPERVISOR BIGINT ,
 TASK_EDIT_ID BIGINT ,
 EDIT_STATE BIGINT ,
 TASK_MODIFICATION_REQUEST_REF BIGINT ,
 ALT_TASK_EDIT_ID BIGINT
 )
GO

CREATE
 TABLE MAXDAT.CC_S_TMP_PIPKINS_TIMEZONE
 (
 TIMEZONE_ID INT ,
 STD_NAME VARCHAR (50) ,
 NAME VARCHAR (50) ,
 START_TIME DATETIME ,
 DST_OBSERVED INT ,
 STD_OFFSET FLOAT ,
 DST_OFFSET FLOAT ,
 START_MONTH INT ,
 START_WEEK INT ,
 START_WEEK_DAY INT ,
 END_TIME DATETIME ,
 END_MONTH INT ,
 END_WEEK INT ,
 END_WEEK_DAY INT ,
 DST_NAME VARCHAR (50) ,
 SHIFT_YEAR1 INT ,
 SHIFT_YEAR1_START_TIME DATETIME ,
 SHIFT_YEAR1_START_MONTH TINYINT ,
 SHIFT_YEAR1_START_WEEK TINYINT ,
 SHIFT_YEAR1_START_WEEK_DAY TINYINT ,
 SHIFT_YEAR1_END_TIME DATETIME ,
 SHIFT_YEAR1_END_MONTH TINYINT ,
 SHIFT_YEAR1_END_WEEK TINYINT ,
 SHIFT_YEAR1_END_WEEK_DAY TINYINT ,
 DOTNET_NAME VARCHAR (50) ,
 DISPLAY_FLAG CHAR(1)
 )
GO

CREATE
 TABLE MAXDAT.CC_S_VM_IN_QUEUE
 (
 CCVMQ_ID INT IDENTITY(1,1) not null constraint CC_S_VM_IN_QUEUE_PK primary key,
 VM_QUEUE_ID VARCHAR (25) NOT NULL ,
 MEDIA_TYPE VARCHAR (15) NOT NULL ,
 VM_RECEIVED_DT DATETIME NOT NULL ,
 ANI VARCHAR (25) NOT NULL ,
 EXTRACT_DT DATETIME NOT NULL ,
 LAST_UPDATE_DT DATETIME NOT NULL ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL )
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_VM_IN_QUEUE_IDX ON MAXDAT.CC_S_VM_IN_QUEUE
(
 VM_QUEUE_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_WFM_AGENT_ACTIVITY
 (
 WFM_AGENT_ACTIVITY_ID INT IDENTITY(1,1) not null constraint CC_S_WFM_AGENT_ACTIVITY_PK primary key,
 AGENT_ID INT NOT NULL ,
 ACTIVITY_TYPE_ID INT NOT NULL ,
 ACTIVITY_START_TIME DATETIME NOT NULL ,
 ACTIVITY_END_TIME DATETIME NOT NULL ,
 ACTIVITY_DURATION_SECONDS NUMERIC (15,2) NOT NULL DEFAULT 0 ,
 ACTIVITY_DT DATETIME NOT NULL ,
 EXTRACT_DT DATETIME NOT NULL ,
 LAST_UPDATE_DT DATETIME NOT NULL ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL)
GO

ALTER TABLE MAXDAT.CC_S_WFM_AGENT_ACTIVITY
ADD CONSTRAINT CC_S_AGENT_ACTIVITY_CK
CHECK ( ACTIVITY_START_TIME <= ACTIVITY_END_TIME )
GO

CREATE UNIQUE NONCLUSTERED INDEX
CC_S_WFM_AGENT_ACTIVITY_IDX ON MAXDAT.CC_S_WFM_AGENT_ACTIVITY
(
WFM_AGENT_ACTIVITY_ID
)
GO

CREATE NONCLUSTERED INDEX
CC_S_WFM_AGENT_ACTIVITY_IDX2 ON MAXDAT.CC_S_WFM_AGENT_ACTIVITY
(
AGENT_ID ,
ACTIVITY_TYPE_ID ,
ACTIVITY_START_TIME
)
GO

CREATE NONCLUSTERED INDEX
CC_S_WFM_AGENT_ACTIVITY_IDX3 ON MAXDAT.CC_S_WFM_AGENT_ACTIVITY
(
ACTIVITY_TYPE_ID
)
GO

CREATE
 TABLE MAXDAT.CC_S_WFM_INTERVAL
 (
 WFM_INTERVAL_ID INT IDENTITY(1,1) not null constraint CC_S_WFM_INTERVAL_PK primary key,
 INTERVAL_DATE DATE NOT NULL ,
 CONTACT_QUEUE_ID INT NOT NULL ,
 INTERVAL_ID INT NOT NULL ,
 LABOR_MINUTES_TOTAL NUMERIC (9,2) NOT NULL DEFAULT 0 ,
 LABOR_MINUTES_WAITING NUMERIC (9,2) NOT NULL DEFAULT 0 ,
 LABOR_MINUTES_AVAILABLE NUMERIC (9,2) NOT NULL DEFAULT 0 ,
 HEADCOUNT_TOTAL NUMERIC (7,2) NOT NULL DEFAULT 0 ,
 HEADCOUNT_AVAILABLE NUMERIC (7,2) NOT NULL DEFAULT 0 ,
 HEADCOUNT_UNAVAILABLE NUMERIC (7,2) NOT NULL DEFAULT 0 ,
 EXTRACT_DT DATETIME NOT NULL ,
 LAST_UPDATE_DT DATETIME NOT NULL ,
 LAST_UPDATE_BY VARCHAR (30) NOT NULL ,
 CONSTRAINT CC_S_WFM_INTERVAL__UN UNIQUE NONCLUSTERED (INTERVAL_DATE,
 CONTACT_QUEUE_ID, INTERVAL_ID)
 )
GO

CREATE NONCLUSTERED INDEX
CC_S_WFM_INTERVAL__IDXv2 ON MAXDAT.CC_S_WFM_INTERVAL
(
 CONTACT_QUEUE_ID
)
GO

CREATE NONCLUSTERED INDEX
CC_S_WFM_INTERVAL__IDXv3 ON MAXDAT.CC_S_WFM_INTERVAL
(
 INTERVAL_ID
)
GO

ALTER TABLE MAXDAT.CC_S_CONTACT_QUEUE
ADD CONSTRAINT CC_C_CNTCT_Q_CC_C_PRJCT_CFG_FK FOREIGN KEY
(
PROJECT_CONFIG_ID
)
REFERENCES MAXDAT.CC_C_PROJECT_CONFIG
(
PROJECT_CONFIG_ID
)
GO

ALTER TABLE MAXDAT.CC_S_PRODUCTION_PLAN_HORIZON
ADD CONSTRAINT CC_C_HRZN_CC_C_PROD_PLN_FK FOREIGN KEY
(
PRODUCTION_PLAN_ID
)
REFERENCES MAXDAT.CC_S_PRODUCTION_PLAN
(
PRODUCTION_PLAN_ID
)
GO

ALTER TABLE MAXDAT.CC_S_ACD_AGENT_ACTIVITY
ADD CONSTRAINT CC_S_ACD_AGT_ACT_CC_S_AGT_FK FOREIGN KEY
(
AGENT_ID
)
REFERENCES MAXDAT.CC_S_AGENT
(
AGENT_ID
)
GO

ALTER TABLE MAXDAT.CC_S_ACD_INTERVAL
ADD CONSTRAINT CC_S_ACD_INTRVL_CC_S_AGENT_FK FOREIGN KEY
(
AGENT_ID
)
REFERENCES MAXDAT.CC_S_AGENT
(
AGENT_ID
)
GO

ALTER TABLE MAXDAT.CC_S_ACD_INTERVAL
ADD CONSTRAINT CC_S_ACD_INTRVL_CC_S_CNTCTQ_FK FOREIGN KEY
(
CONTACT_QUEUE_ID
)
REFERENCES MAXDAT.CC_S_CONTACT_QUEUE
(
CONTACT_QUEUE_ID
)
GO

ALTER TABLE MAXDAT.CC_S_ACD_INTERVAL
ADD CONSTRAINT CC_S_ACD_INTRVL_CC_S_INTRVL_FK FOREIGN KEY
(
INTERVAL_ID
)
REFERENCES MAXDAT.CC_S_INTERVAL
(
INTERVAL_ID
)
GO

ALTER TABLE MAXDAT.CC_S_AGENT_ABSENCE
ADD CONSTRAINT CC_S_AGENT_ABS_CC_C_ACT_TYP_FK FOREIGN KEY
(
ACTIVITY_TYPE_ID
)
REFERENCES MAXDAT.CC_C_ACTIVITY_TYPE
(
ACTIVITY_TYPE_ID
)
GO

ALTER TABLE MAXDAT.CC_S_AGENT_ABSENCE
ADD CONSTRAINT CC_S_AGENT_ABS_CC_S_AGENT_FK FOREIGN KEY
(
AGENT_ID
)
REFERENCES MAXDAT.CC_S_AGENT
(
AGENT_ID
)
GO

ALTER TABLE MAXDAT.CC_S_AGENT
ADD CONSTRAINT CC_S_AGENT_CC_C_PRJ_CONFIG_FK FOREIGN KEY
(
PROJECT_CONFIG_ID
)
REFERENCES MAXDAT.CC_C_PROJECT_CONFIG
(
PROJECT_CONFIG_ID
)
GO

ALTER TABLE MAXDAT.CC_S_WFM_AGENT_ACTIVITY
ADD CONSTRAINT CC_S_AGT_ACT_CC_C_ACT_TYPE_FK FOREIGN KEY
(
ACTIVITY_TYPE_ID
)
REFERENCES MAXDAT.CC_C_ACTIVITY_TYPE
(
ACTIVITY_TYPE_ID
)
GO

ALTER TABLE MAXDAT.CC_S_WFM_AGENT_ACTIVITY
ADD CONSTRAINT CC_S_AGT_ACT_CC_S_AGT_FK FOREIGN KEY
(
AGENT_ID
)
REFERENCES MAXDAT.CC_S_AGENT
(
AGENT_ID
)
GO

ALTER TABLE MAXDAT.CC_S_AGENT_SUPERVISOR
ADD CONSTRAINT CC_S_AGT_SUP_CC_S_AGT_FK FOREIGN KEY
(
SUPERVISOR_AGENT_ID
)
REFERENCES MAXDAT.CC_S_AGENT
(
AGENT_ID
)
GO

ALTER TABLE MAXDAT.CC_S_AGENT_WORK_DAY
ADD CONSTRAINT CC_S_AGT_WORK_DAY_CC_S_AGT_FK FOREIGN KEY
(
AGENT_ID
)
REFERENCES MAXDAT.CC_S_AGENT
(
AGENT_ID
)
GO

ALTER TABLE MAXDAT.CC_S_CALL_DETAIL
ADD CONSTRAINT CC_S_CALL_DETAIL_CC_S_AGENT_FK FOREIGN KEY
(
AGENT_ID
)
REFERENCES MAXDAT.CC_S_AGENT
(
AGENT_ID
)
GO

ALTER TABLE MAXDAT.CC_S_CONTACT_QUEUE
ADD CONSTRAINT CC_S_CNTCT_Q_CC_C_UOW_FK FOREIGN KEY
(
UNIT_OF_WORK_ID
)
REFERENCES MAXDAT.CC_C_UNIT_OF_WORK
(
UNIT_OF_WORK_ID
)
GO

ALTER TABLE MAXDAT.CC_S_CONTACT_QUEUE
ADD CONSTRAINT CC_S_CNTCT_Q_CC_S_ABN_PRIOD_FK FOREIGN KEY
(
CALLS_ABANDOND_INTRVL_PRIOD_ID
)
REFERENCES MAXDAT.CC_S_ACD_INTERVAL_PERIOD
(
ACD_INTERVAL_PERIOD_ID
)
GO

ALTER TABLE MAXDAT.CC_S_CONTACT_QUEUE
ADD CONSTRAINT CC_S_CNTCT_Q_CC_S_ASA_PRIOD_FK FOREIGN KEY
(
AVG_SPEED_ANSR_INTRVL_PRIOD_ID
)
REFERENCES MAXDAT.CC_S_ACD_INTERVAL_PERIOD
(
ACD_INTERVAL_PERIOD_ID
)
GO

ALTER TABLE MAXDAT.CC_S_FCST_INTERVAL
ADD CONSTRAINT CC_S_FCST_INTRVL_CC_C_HRZN_FK FOREIGN KEY
(
PRODUCTION_PLAN_HORIZON_ID
)
REFERENCES MAXDAT.CC_S_PRODUCTION_PLAN_HORIZON
(
PRODUCTION_PLAN_HORIZON_ID
)
GO

ALTER TABLE MAXDAT.CC_S_FCST_INTERVAL
ADD CONSTRAINT CC_S_FCST_INTRVL_CC_C_UOW_FK FOREIGN KEY
(
UNIT_OF_WORK_ID
)
REFERENCES MAXDAT.CC_C_UNIT_OF_WORK
(
UNIT_OF_WORK_ID
)
GO

ALTER TABLE MAXDAT.CC_S_FCST_INTERVAL
ADD CONSTRAINT CC_S_FCST_INTRVL_CC_S_INT_FK FOREIGN KEY
(
INTERVAL_ID
)
REFERENCES MAXDAT.CC_S_INTERVAL
(
INTERVAL_ID
)
GO

ALTER TABLE MAXDAT.CC_S_IVR_INTERVAL
ADD CONSTRAINT CC_S_IVR_INTRVL_CC_S_INTRVL_FK FOREIGN KEY
(
INTERVAL_ID
)
REFERENCES MAXDAT.CC_S_INTERVAL
(
INTERVAL_ID
)
GO

ALTER TABLE MAXDAT.CC_S_IVR_INTERVAL
ADD CONSTRAINT CC_S_IVR_INT_CC_C_PRJ_CC_C_FK FOREIGN KEY
(
PROJECT_CONFIG_ID
)
REFERENCES MAXDAT.CC_C_PROJECT_CONFIG
(
PROJECT_CONFIG_ID
)
GO

ALTER TABLE MAXDAT.CC_S_IVR_SELF_SERVICE_USAGE
ADD CONSTRAINT CC_S_IVR_SVC_CC_S_SVC_PATH_FK FOREIGN KEY
(
IVR_SELF_SERVICE_PATH_ID
)
REFERENCES MAXDAT.CC_S_IVR_SELF_SERVICE_PATH
(
IVR_SELF_SERVICE_PATH_ID
)
GO

ALTER TABLE MAXDAT.CC_S_IVR_SELF_SERVICE_USAGE
ADD CONSTRAINT CC_S_IVR_USAGE_C_PRJ_CNFG_FK FOREIGN KEY
(
PROJECT_CONFIG_ID
)
REFERENCES MAXDAT.CC_C_PROJECT_CONFIG
(
PROJECT_CONFIG_ID
)
GO

ALTER TABLE MAXDAT.CC_S_IVR_SELF_SERVICE_USAGE
ADD CONSTRAINT CC_S_IVR_USAGE_S_INTERVAL_FK FOREIGN KEY
(
INTERVAL_ID
)
REFERENCES MAXDAT.CC_S_INTERVAL
(
INTERVAL_ID
)
GO

ALTER TABLE MAXDAT.CC_S_WFM_INTERVAL
ADD CONSTRAINT CC_S_WFM_INT_CC_S_CNTCT_Q_FK FOREIGN KEY
(
CONTACT_QUEUE_ID
)
REFERENCES MAXDAT.CC_S_CONTACT_QUEUE
(
CONTACT_QUEUE_ID
)
GO

ALTER TABLE MAXDAT.CC_S_WFM_INTERVAL
ADD CONSTRAINT CC_S_WFM_INT_CC_S_INTRVL_FK FOREIGN KEY
(
INTERVAL_ID
)
REFERENCES MAXDAT.CC_S_INTERVAL
(
INTERVAL_ID
)
GO

CREATE VIEW MAXDAT.CC_S_AGENT_SV AS 
SELECT MAXDAT.CC_S_AGENT.* FROM MAXDAT.CC_S_AGENT 
GO

CREATE VIEW MAXDAT.CC_S_CALL_DETAIL_SV AS 
SELECT MAXDAT.CC_S_CALL_DETAIL.* FROM  MAXDAT.CC_S_CALL_DETAIL 
GO

/*CREATE VIEW CC_S_TMP_IVR_STEP_SV AS 
SELECT iStep.ID,
 iStep.CONNID,
 iStep.STEPTIME,
 iStep.STEPNAME,
 iStep.STEPVALUE,
 iStep.NODENAME,
 CASE
 WHEN iStep.STEPVALUE LIKE 'mdiivrapp%'
 THEN NULL
 ELSE LAG(iStep.NODENAME, 1, NULL) OVER (ORDER BY iStep.CONNID, iStep.STEPTIME)
 END AS begin_node,
 iStep.NODENAME AS end_node,
 (
 CASE
 WHEN iStep.STEPNAME = 'RPT_IVRData'
 THEN iStep.STEPVALUE
 ELSE iStep.NODENAME
 END) AS ournodename
FROM MAXDAT.CC_S_TMP_IVR_STEP iStep
WHERE (iStep.STEPNAME = 'RPT_IVR_GetMenu')
OR (iStep.STEPNAME = 'RPT_IVR_GetData'
AND iStep.STEPVALUE LIKE 'mdiivrapp%')
OR (iStep.STEPNAME = 'RPT_IVRData'
AND iStep.STEPVALUE LIKE '%vcall')
ORDER BY iStep.CONNID,
 iStep.STEPTIME 
GO

*/
-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE 54
-- CREATE INDEX 48
-- ALTER TABLE 63
-- CREATE VIEW 3
-- CREATE PACKAGE 0
-- CREATE PACKAGE BODY 0
-- CREATE PROCEDURE 0
-- CREATE FUNCTION 0
-- CREATE TRIGGER 0
-- ALTER TRIGGER 0
-- CREATE DATABASE 0
-- CREATE DEFAULT 0
-- CREATE INDEX ON VIEW 0
-- CREATE ROLLBACK SEGMENT 0
-- CREATE ROLE 0
-- CREATE RULE 0
-- CREATE PARTITION FUNCTION 0
-- CREATE PARTITION SCHEME 0
-- 
-- DROP DATABASE 0
-- 
-- ERRORS 0
-- WARNINGS 0
