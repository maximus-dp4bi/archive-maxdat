CREATE TABLE KOFAX_MAXDAT_REPORTING_STG
(DB_RECORD_NUM NUMBER
 ,BATCH_ID NUMBER
 ,BATCH_CLASS VARCHAR2(32)
 ,BATCH_EXPORT_DATE DATE
 ,BATCH_CREATE_DATE DATE
 ,BATCH_DESCRIPTION VARCHAR2(80)
 ,BATCH_GUID VARCHAR2(38)
 ,BATCH_NAME VARCHAR2(255)
 ,BATCH_DOC_COUNT NUMBER
 ,BATCH_CREATION_STATION_ID VARCHAR2(32)
 ,ECN VARCHAR2(256)
 ,KOFAX_DCN VARCHAR2(256)
 ,DOC_TYPE VARCHAR2(70)
 ,DOC_PAGE_COUNT NUMBER
 ,DOCUMENT_NUMBER NUMBER
 ,BATCH_CREATED_BY VARCHAR2(80)
 ,DOCUMENT_NUM NUMBER) TABLESPACE MAXDAT_DATA;
 
 CREATE INDEX KOFAX_MAXDAT_RPTSTG_IDX1 ON KOFAX_MAXDAT_REPORTING_STG(BATCH_GUID) TABLESPACE MAXDAT_INDX;
 CREATE INDEX KOFAX_MAXDAT_RPTSTG_IDX2 ON KOFAX_MAXDAT_REPORTING_STG(BATCH_ID) TABLESPACE MAXDAT_INDX;
 CREATE INDEX KOFAX_MAXDAT_RPTSTG_IDX3 ON KOFAX_MAXDAT_REPORTING_STG(KOFAX_DCN) TABLESPACE MAXDAT_INDX;
  
 GRANT SELECT ON KOFAX_MAXDAT_REPORTING_STG TO MAXDAT_READ_ONLY; 
 
 CREATE TABLE APP_DOC_DATA_STG
(
  APP_DOC_DATA_ID NUMBER(18, 0) NOT NULL 
, RECEIVED_DATE DATE 
, ECN VARCHAR2(32 BYTE) 
, DCN VARCHAR2(32 BYTE) 
, DOCUMENT_TYPE_CD VARCHAR2(32 BYTE) 
, VERSION_ID NUMBER(18, 0) 
, APPLICATION_ID NUMBER(18, 0) 
, CREATE_TS DATE 
, UPDATE_TS DATE 
, CURRENT_TASK_QUEUE VARCHAR2(32 BYTE) 
, PRIORITY NUMBER(2, 0) 
, BARCODE_DATA VARCHAR2(64 BYTE) 
, DOCUMENT_SET_ID NUMBER(18, 0) 
, DOCUMENT_ID NUMBER(18, 0) 
, STATUS_CD VARCHAR2(32 BYTE) 
, STATUS_TS DATE 
, MEDIA_CD VARCHAR2(32 BYTE) 
, LETTER_REQUEST_ID NUMBER(18, 0) 
, DOCUMENT_SUB_TYPE VARCHAR2(32 BYTE) 
, CREATED_BY VARCHAR2(50 BYTE) 
, UPDATED_BY VARCHAR2(50 BYTE) 
, RENEWAL_IND NUMBER(1, 0) 
, PRIMARY_APP_IND NUMBER(1, 0) 
, HOW_HEARD_CD VARCHAR2(32 BYTE) 
, HOW_HEARD_OTHER VARCHAR2(32 BYTE) 
, EXT_APPLICATION_ID VARCHAR2(32 BYTE) 
, EXT_PROCESSED_IND NUMBER(1, 0)) TABLESPACE MAXDAT_DATA ;

CREATE INDEX APP_DOCDATA_STG_ECN ON APP_DOC_DATA_STG (ECN) TABLESPACE MAXDAT_INDX;
CREATE INDEX APP_DOCDATA_STG_DOCID ON APP_DOC_DATA_STG (DOCUMENT_ID) TABLESPACE MAXDAT_INDX;
CREATE INDEX APP_DOCDATA_STG_APPID ON APP_DOC_DATA_STG (APPLICATION_ID) TABLESPACE MAXDAT_INDX;
CREATE INDEX APP_DOCDATA_STG_DCN ON APP_DOC_DATA_STG (DCN) TABLESPACE MAXDAT_INDX;
CREATE UNIQUE INDEX APP_DOCDATA_STG_UKID ON APP_DOC_DATA_STG (APP_DOC_DATA_ID) TABLESPACE MAXDAT_INDX;

COMMENT ON COLUMN APP_DOC_DATA_STG.APP_DOC_DATA_ID IS 'Application Document Data - Unique ID';
COMMENT ON COLUMN APP_DOC_DATA_STG.RECEIVED_DATE IS 'Document received date.';
COMMENT ON COLUMN APP_DOC_DATA_STG.ECN IS 'Envelope control number, which identifies the envelope the document came in.';
COMMENT ON COLUMN APP_DOC_DATA_STG.DCN IS 'Document Control Number, which uniquely identifies this document. This is used to retrieve the document image.';
COMMENT ON COLUMN APP_DOC_DATA_STG.DOCUMENT_TYPE_CD IS 'Document Type Code.';
COMMENT ON COLUMN APP_DOC_DATA_STG.VERSION_ID IS 'Version ID. The current version of the document data will be stored here.';
COMMENT ON COLUMN APP_DOC_DATA_STG.APPLICATION_ID IS 'After document link, the application ID will be updated.';
COMMENT ON COLUMN APP_DOC_DATA_STG.CREATE_TS IS 'Record creation date.';
COMMENT ON COLUMN APP_DOC_DATA_STG.UPDATE_TS IS 'Record update date. When version ID or Current Task Queue name changes or Application ID gets populated, the update date will be updated.';
COMMENT ON COLUMN APP_DOC_DATA_STG.CURRENT_TASK_QUEUE IS 'Current Task queue name. When a document moves from one task queue to another, the new task queue name will be updated.';
COMMENT ON COLUMN APP_DOC_DATA_STG.PRIORITY IS 'Document Priority';
COMMENT ON TABLE APP_DOC_DATA_STG IS 'Application Document Data table, which carries the document data as received and edited. All document related data will be kept under this table and its related tables. The data are versioned.';

GRANT SELECT ON APP_DOC_DATA_STG TO MAXDAT_READ_ONLY;

CREATE TABLE DMS_ACTIVITIES_STG
(
  ACTIVITY_ID NUMBER(38, 0) NOT NULL 
, STATUS VARCHAR2(15 BYTE) 
, ACTIVITY_TYPE VARCHAR2(15 BYTE) 
, DATE_CREATED DATE  
, REQUESTOR VARCHAR2(4000 BYTE) 
, ERROR_TEXT VARCHAR2(4000 BYTE) 
, INITIATING_ACTIVITY_ID NUMBER(38, 0) 
, CREATION_DATE DATE 
, CREATED_BY VARCHAR2(30 BYTE) 
, LAST_UPDATED_BY VARCHAR2(30 BYTE) 
, LAST_UPDATE_DATE DATE  
, DCN NUMBER(38, 0) ) TABLESPACE MAXDAT_DATA ;

CREATE INDEX DMS_ACTIVITIES_STG_IDX1 ON dms_activities_stg(dcn) TABLESPACE MAXDAT_INDX;
CREATE INDEX DMS_ACTIVITIES_STG_IDX2 ON DMS_ACTIVITIES_STG (ACTIVITY_TYPE ) TABLESPACE MAXDAT_INDX ;
CREATE INDEX DMS_ACTIVITIES_STG_IDX3 ON DMS_ACTIVITIES_STG (STATUS)  TABLESPACE MAXDAT_INDX ;
CREATE UNIQUE INDEX DMS_ACTIVITIES_STG_UK ON DMS_ACTIVITIES_STG (ACTIVITY_ID ) TABLESPACE MAXDAT_INDX ;

COMMENT ON COLUMN DMS_ACTIVITIES_STG.ACTIVITY_ID IS 'Synthetic key generated by sequence';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.STATUS IS 'Status of the activity';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.ACTIVITY_TYPE IS 'Type of activity such as release, bulk unload, view';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.DATE_CREATED IS 'Date activity was created';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.REQUESTOR IS 'String identifying the source of the request';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.ERROR_TEXT IS 'Additional error text or reason for error';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.INITIATING_ACTIVITY_ID IS 'Activity ID of activity that initiated the current activity.  For example, a request would spawn creation of a zip file followed by delivery of the zip file.  Synthetic key generated by sequence to note the parent activity id .';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.CREATION_DATE IS 'Creation date of the record (audit attribute)';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.CREATED_BY IS 'Who created this record (audit attribute)';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.LAST_UPDATED_BY IS 'Who last updated this record (audit attribute)';
COMMENT ON COLUMN DMS_ACTIVITIES_STG.LAST_UPDATE_DATE IS 'When was the record last updated (audit attribute)';

GRANT SELECT ON DMS_ACTIVITIES_STG TO MAXDAT_READ_ONLY;


CREATE TABLE DMS_ACTIVITY_DETAILS_STG
(
  ACTIVITY_DETAIL_ID NUMBER(10, 0) NOT NULL 
, ACTIVITY_ID NUMBER(38, 0) 
, STATUS VARCHAR2(15 BYTE)  
, DCN_REQUESTED NUMBER(38, 0) 
, ERROR_TEXT VARCHAR2(4000 BYTE) 
, DCN NUMBER(38, 0) 
, CREATION_DATE DATE  
, CREATED_BY VARCHAR2(30 BYTE)  
, LAST_UPDATED_BY VARCHAR2(30 BYTE) 
, LAST_UPDATE_DATE DATE  ) TABLESPACE MAXDAT_DATA ;

CREATE INDEX DMS_ACTIVITY_DTL_STG_IDX1 ON DMS_ACTIVITY_DETAILS_STG (ACTIVITY_ID)  TABLESPACE MAXDAT_INDX ;
CREATE INDEX DMS_ACTIVITY_DTL_STG_IDX2 ON DMS_ACTIVITY_DETAILS_STG (DCN)   TABLESPACE MAXDAT_INDX ;
CREATE INDEX DMS_ACTIVITY_DTL_STG_IDX3 ON DMS_ACTIVITY_DETAILS_STG (STATUS)  TABLESPACE MAXDAT_INDX ;
CREATE UNIQUE INDEX DMS_ACTIVITY_DTL_STG_UK ON DMS_ACTIVITY_DETAILS_STG (ACTIVITY_DETAIL_ID)  TABLESPACE MAXDAT_INDX ;

COMMENT ON COLUMN DMS_ACTIVITY_DETAILS_STG.ACTIVITY_ID IS 'Parent key of the activity detail';
COMMENT ON COLUMN DMS_ACTIVITY_DETAILS_STG.STATUS IS 'Status of the Activity detail';
COMMENT ON COLUMN DMS_ACTIVITY_DETAILS_STG.DCN IS 'System generated sequence number';
COMMENT ON COLUMN DMS_ACTIVITY_DETAILS_STG.CREATION_DATE IS 'Creation date of the record (audit attribute)';
COMMENT ON COLUMN DMS_ACTIVITY_DETAILS_STG.CREATED_BY IS 'Who created this record (audit attribute)';
COMMENT ON COLUMN DMS_ACTIVITY_DETAILS_STG.LAST_UPDATED_BY IS 'Who last updated this record (audit attribute)';
COMMENT ON COLUMN DMS_ACTIVITY_DETAILS_STG.LAST_UPDATE_DATE IS 'When was the record last updated (audit attribute)';

GRANT SELECT ON DMS_ACTIVITY_DETAILS_STG TO MAXDAT_READ_ONLY;

CREATE TABLE DMS_DOCUMENTS_STG
(
  DCN NUMBER(38, 0) NOT NULL 
, BATCH_ID NUMBER(38, 0)  
, DATE_RECEIVED DATE  
, ORIGINAL_DOCUMENT VARCHAR2(1 BYTE) 
, AVAILABILITY_STATUS VARCHAR2(15 BYTE) 
, DOCUMENT_CLASS VARCHAR2(255 BYTE) 
, FORM_TYPE VARCHAR2(255 BYTE) 
, NUMBER_OF_PAGES NUMBER(10, 0) 
, ENDORSING_STRING VARCHAR2(255 BYTE) 
, ECN VARCHAR2(256) 
, FAX_NUMBER VARCHAR2(255 BYTE) 
, FAX_STATION_ID VARCHAR2(255 BYTE) 
, ORIGINAL_DCN NUMBER(38, 0) 
, KOFAX_DCN VARCHAR2(255 BYTE) 
, RELEASE_ACTIVE VARCHAR2(1 BYTE) 
, CREATION_DATE DATE 
, CREATED_BY VARCHAR2(30 BYTE) 
, LAST_UPDATED_BY VARCHAR2(30 BYTE)  
, LAST_UPDATE_DATE DATE  ) TABLESPACE MAXDAT_DATA;

CREATE INDEX DMS_DOCUMENTS_STG_IDX1 ON DMS_DOCUMENTS_STG (BATCH_ID)  TABLESPACE MAXDAT_INDX ;
CREATE INDEX DMS_DOCUMENTS_STG_IDX2 ON DMS_DOCUMENTS_STG (CREATION_DATE)  TABLESPACE MAXDAT_INDX ;
CREATE INDEX DMS_DOCUMENTS_STG_IDX3 ON DMS_DOCUMENTS_STG (ORIGINAL_DCN)  TABLESPACE MAXDAT_INDX ;
CREATE INDEX DMS_DOCUMENTS_STG_IDX4 ON dms_documents_stg(kofax_dcn) TABLESPACE MAXDAT_INDX;
CREATE UNIQUE INDEX DMS_DOCUMENTS_STG_UK ON DMS_DOCUMENTS_STG (DCN)  TABLESPACE MAXDAT_INDX ;
CREATE INDEX DMSDOCUMENTSTG_PK_FN ON dms_documents_stg(TO_CHAR(dcn)) TABLESPACE MAXDAT_INDX;  

COMMENT ON COLUMN DMS_DOCUMENTS_STG.DCN IS 'System generated sequence number';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.BATCH_ID IS 'Synthetic key generated by sequence';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.DATE_RECEIVED IS 'Date document was received based on timestamp of fax file or date scanned (with override option for scan operator)';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.ORIGINAL_DOCUMENT IS 'Indicator Y/N showing that this document was rescanned.  Look to this document for original scan date.';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.AVAILABILITY_STATUS IS 'Status of document availability like availabile, expired, replaced, deleted';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.DOCUMENT_CLASS IS 'Document class passed from Kofax';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.FORM_TYPE IS 'Value passed from capture software showing type of form identified';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.NUMBER_OF_PAGES IS 'Number of pages in the document';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.ENDORSING_STRING IS 'Value passed from capture software showing the string printed on the first page of the document';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.ECN IS 'Assigned Envelope Control Number';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.FAX_NUMBER IS 'Phone number used to send the fax (stored if fax software can provide the information)';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.FAX_STATION_ID IS 'Station ID value for the designated fax.';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.ORIGINAL_DCN IS 'Original DCN number that this document replaces';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.KOFAX_DCN IS 'KOFAX generated DCN number that this document replaces';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.RELEASE_ACTIVE IS 'To indicate if the document should be released to interface.';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.CREATION_DATE IS 'Creation date of the record (audit attribute)';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.CREATED_BY IS 'Who created this record (audit attribute)';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.LAST_UPDATED_BY IS 'Who last updated this record (audit attribute)';
COMMENT ON COLUMN DMS_DOCUMENTS_STG.LAST_UPDATE_DATE IS 'When was the record last updated (audit attribute)';

GRANT SELECT ON DMS_DOCUMENTS_STG TO MAXDAT_READ_ONLY;

CREATE TABLE DMS_BATCHES_STG
(
  BATCH_ID NUMBER(38, 0) NOT NULL 
, SOURCE VARCHAR2(15 BYTE)
, DATE_CAPTURED DATE 
, CAPTURE_BATCH_ID VARCHAR2(4000 BYTE) 
, BATCH_CLASS VARCHAR2(255 BYTE) 
, PRIORITY NUMBER(10, 0) 
, NAME VARCHAR2(255 BYTE) 
, DESCRIPTION VARCHAR2(4000 BYTE) 
, DOCUMENT_COUNT NUMBER(10, 0) 
, NUMBER_OF_PAGES NUMBER(10, 0) 
, SCAN_STATION VARCHAR2(255 BYTE) 
, SCAN_USERID VARCHAR2(255 BYTE) 
, VALIDATION_STATION VARCHAR2(255 BYTE) 
, VALIDATION_USERID VARCHAR2(255 BYTE) 
, VERIFICATION_STATION VARCHAR2(255 BYTE) 
, VERIFICATION_USERID VARCHAR2(255 BYTE) 
, CREATION_DATE DATE  
, CREATED_BY VARCHAR2(30 BYTE) 
, LAST_UPDATED_BY VARCHAR2(30 BYTE) 
, LAST_UPDATE_DATE DATE  
, ORIGINAL_SYSTEM_NAME VARCHAR2(4000 BYTE) ) TABLESPACE MAXDAT_DATA;

CREATE INDEX DMS_BATCHES_STG_IDX1 ON DMS_BATCHES_STG (DATE_CAPTURED) TABLESPACE MAXDAT_INDX ;
CREATE INDEX DMS_BATCHES_STG_IDX2 ON DMS_BATCHES_STG (SOURCE) TABLESPACE MAXDAT_INDX ;
CREATE UNIQUE INDEX DMS_BATCHES_STG_UK ON DMS_BATCHES_STG (BATCH_ID) TABLESPACE MAXDAT_INDX ;

COMMENT ON COLUMN DMS_BATCHES_STG.BATCH_ID IS 'Synthetic key generated by sequence';
COMMENT ON COLUMN DMS_BATCHES_STG.SOURCE IS 'Source of batch.  Examples include fax, scan, and bulk load.';
COMMENT ON COLUMN DMS_BATCHES_STG.DATE_CAPTURED IS 'Date document was captured into system for processing.';
COMMENT ON COLUMN DMS_BATCHES_STG.CAPTURE_BATCH_ID IS 'Batch ID sent from document capture system';
COMMENT ON COLUMN DMS_BATCHES_STG.BATCH_CLASS IS 'Batch Class configured in image capture software';
COMMENT ON COLUMN DMS_BATCHES_STG.PRIORITY IS 'Numberic value depicting priority with smaller number being higher priority';
COMMENT ON COLUMN DMS_BATCHES_STG.NAME IS 'Name of batch';
COMMENT ON COLUMN DMS_BATCHES_STG.DESCRIPTION IS 'Description of batch';
COMMENT ON COLUMN DMS_BATCHES_STG.DOCUMENT_COUNT IS 'Number of documents in batch';
COMMENT ON COLUMN DMS_BATCHES_STG.NUMBER_OF_PAGES IS 'Number of pages in batch';
COMMENT ON COLUMN DMS_BATCHES_STG.SCAN_STATION IS 'Workstation used to scan the batch';
COMMENT ON COLUMN DMS_BATCHES_STG.SCAN_USERID IS 'User ID of the user who scanned the batch';
COMMENT ON COLUMN DMS_BATCHES_STG.VALIDATION_STATION IS 'Workstation used to validate the batch';
COMMENT ON COLUMN DMS_BATCHES_STG.VALIDATION_USERID IS 'User ID of the user who validated the batch';
COMMENT ON COLUMN DMS_BATCHES_STG.VERIFICATION_STATION IS 'Workstation used to verify the batch validation (double-check subset of validation values)';
COMMENT ON COLUMN DMS_BATCHES_STG.VERIFICATION_USERID IS 'User ID of the user who verified the batch.';
COMMENT ON COLUMN DMS_BATCHES_STG.CREATION_DATE IS 'Creation date of the record (audit attribute)';
COMMENT ON COLUMN DMS_BATCHES_STG.CREATED_BY IS 'Who created this record (audit attribute)';
COMMENT ON COLUMN DMS_BATCHES_STG.LAST_UPDATED_BY IS 'Who last updated this record (audit attribute)';
COMMENT ON COLUMN DMS_BATCHES_STG.LAST_UPDATE_DATE IS 'When was the record last updated (audit attribute)';
COMMENT ON COLUMN DMS_BATCHES_STG.ORIGINAL_SYSTEM_NAME IS 'Original System name for the batch';

GRANT SELECT ON DMS_BATCHES_STG TO MAXDAT_READ_ONLY;

CREATE TABLE doc_flex_field_stg
(DOCUMENT_SET_ID	NUMBER(18,0),
DOCUMENT_ID	NUMBER(18,0),
GROUP_TYPE	VARCHAR2(256),
GROUP_ID	VARCHAR2(256),
NAME	VARCHAR2(256),
VALUE	VARCHAR2(256),
TYPE	VARCHAR2(256),
CREATED_BY	VARCHAR2(80),
CREATE_TS	DATE,
UPDATED_BY	VARCHAR2(80),
UPDATE_TS	DATE,
DOC_FLEX_FIELD_ID	NUMBER(18,0)) TABLESPACE MAXDAT_DATA;

CREATE UNIQUE INDEX DOC_FLEX_FIELD_UK ON DOC_FLEX_FIELD_STG(DOC_FLEX_FIELD_ID) TABLESPACE MAXDAT_INDX;
CREATE INDEX IDX01_DOC_FLEX_FIELD ON DOC_FLEX_FIELD_STG(NAME) TABLESPACE MAXDAT_INDX;

GRANT SELECT ON DOC_FLEX_FIELD_STG to MAXDAT_READ_ONLY;
