DROP TABLE DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP;

CREATE TABLE DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP(
TARGET_TABLE			VARCHAR2(100 CHAR)		NOT NULL,
TARGET_COLUMN			VARCHAR2(100 CHAR)		NOT NULL,
DROP_DOWN_ORDER			NUMBER(5)               NOT NULL,
DROP_DOWN_value			VARCHAR2(100 CHAR)		NOT NULL,
Effective_date			date,
END_DATE				date,
DROP_DOWN_METRIC		NUMBER(5),
DROP_DOWN_RANGE_LOW		NUMBER(5),
DROP_DOWN_RANGE_HIGH	NUMBER(5)
);

GRANT SELECT ON DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP TO MAXDAT;
GRANT SELECT ON DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP TO MAXDAT_REPORTS;
GRANT SELECT ON DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP TO MAXDAT_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP TO DP_SCORECARD_READ_ONLY;

CREATE OR REPLACE VIEW DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP_SV
AS
SELECT  
TARGET_TABLE,
TARGET_COLUMN,
DROP_DOWN_ORDER,
DROP_DOWN_value,
case when drop_down_metric is not null
	then
	DROP_DOWN_value||' ('||drop_down_metric||')' 
	else Drop_down_value 
end as Drop_down_text,
Effective_date,
trunc(nvl(END_DATE,sysdate)) as END_DATE,
DROP_DOWN_METRIC,
DROP_DOWN_RANGE_LOW,
DROP_DOWN_RANGE_HIGH
FROM DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
order by target_table, target_column, drop_down_order, drop_down_text;

GRANT SELECT ON DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP_SV TO MAXDAT;
GRANT SELECT ON DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP_SV TO MAXDAT_REPORTS;
GRANT SELECT ON DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP_SV TO MAXDAT_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP_SV TO DP_SCORECARD_READ_ONLY;



insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN, DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','Review_Sessions_COMPLTD_Rating',  1, 'Exceeds',	12);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','Review_Sessions_COMPLTD_Rating',  2, 'Acceptable',	6 );

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','Review_Sessions_COMPLTD_Rating',  3, 'Unacceptable',	0 );
	
-------

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','Live_Obsrv_COMPLTD_rating', 1, 'Exceeds',	12 );

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','Live_Obsrv_COMPLTD_Rating',	2, 'Acceptable', 6 );

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','Live_Obsrv_COMPLTD_Rating',	3, 'Unacceptable',	0 );

		
--


insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Checklist_COMPLTD_rating',1,'Exceeds',	12);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Checklist_COMPLTD_rating',2,'Acceptable', 6);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Checklist_COMPLTD_rating',3,'Unacceptable',	0);

--

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Quality_Score_1_rating',1,'Exceeds (>95%)',		6);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Quality_Score_1_rating',2,'Acceptable (Quality score remained the same or improved)',		3);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Quality_Score_1_rating',3,'Unacceptable (Quality Score Decreased)',	0);

--
insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Quality_Score_2_rating',1,'Exceeds (>95%)',		6);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Quality_Score_2_rating',2,'Acceptable (Quality score remained the same or improved)',		3);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN,  DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_METRIC)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Quality_Score_2_rating',3,'Unacceptable (Quality Score Decreased)',	0);

COMMIT;--

---------------------------------------------------------------------------

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN, DROP_DOWN_ORDER, DROP_DOWN_VALUE)
VALUES( 'SC_AUDIT_TEAM_LEAD_QUIZ','CBT_EXAM_TIMELINESS',1,'On Time');

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN, DROP_DOWN_ORDER, DROP_DOWN_VALUE)
VALUES('SC_AUDIT_TEAM_LEAD_QUIZ','CBT_EXAM_TIMELINESS',2,'Overdue');

COMMIT;

-----------------------------------------------------------------------------

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN, DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_RANGE_LOW, DROP_DOWN_RANGE_HIGH)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Evaluation_Rating',1,'5 - Superior',		43,  99999);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN, DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_RANGE_LOW, DROP_DOWN_RANGE_HIGH)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Evaluation_Rating',2,'4 - Above Expectations',	31, 42);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN, DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_RANGE_LOW, DROP_DOWN_RANGE_HIGH)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Evaluation_Rating',3,'3 - Meets Expectatins', 19, 30);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN, DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_RANGE_LOW, DROP_DOWN_RANGE_HIGH)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Evaluation_Rating',4,'2 - Below Expectations',	15, 18);

insert into DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
(TARGET_TABLE, TARGET_COLUMN, DROP_DOWN_ORDER, DROP_DOWN_VALUE, DROP_DOWN_RANGE_LOW, DROP_DOWN_RANGE_HIGH)
values('SC_AUDIT_TEAM_LEAD_QUALITY','QPP_Evaluation_Rating',5,'1 - Unacceptable', 0, 14);
		
commit;
		
update DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP		
set target_table = upper(target_table), target_column = upper(target_column);

COMMIT;		

update DP_SCORECARD.SCORECARD_DROP_DOWN_LKUP
set Effective_date	= to_date('20170101','yyyymmdd')
where effective_date is null;

commit;



