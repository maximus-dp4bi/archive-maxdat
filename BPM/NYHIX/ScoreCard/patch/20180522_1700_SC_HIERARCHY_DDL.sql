--------------------------------------------------------------
--------------------------------------------------------------
--------------------------------------------------------------

-- drop TABLE DP_SCORECARD.SC_HIERARCHY_SERVING_TEAM;

CREATE TABLE DP_SCORECARD.SC_HIERARCHY_SERVING_TEAM
(
  STAFF_ID            NUMBER(38)                NOT NULL,
  HIERARCHY_RUN_DATE  DATE,
  EVENT_ID            NUMBER(38)                NOT NULL,
  EVENT_NAME          VARCHAR2(250 BYTE)
)
TABLESPACE MAXDAT_DATA
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE INDEX DP_SCORECARD.SC_HIER_SERVING_TEAM_IDX1 ON DP_SCORECARD.SC_HIERARCHY_SERVING_TEAM
(STAFF_ID)
LOGGING
TABLESPACE MAXDAT_INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_SERVING_TEAM TO MAXDAT_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_SERVING_TEAM TO DP_SCORECARD_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_SERVING_TEAM TO MAXDAT;

--------------------------------------------------------
--------------------------------------------------------
--------------------------------------------------------
-- drop TABLE DP_SCORECARD.SC_HIERARCHY_STAFF;

CREATE TABLE DP_SCORECARD.SC_HIERARCHY_STAFF
(
  STAFF_ID                  NUMBER(38)          NOT NULL,
  NATIONAL_ID               VARCHAR2(250 BYTE)  NOT NULL,
  LAST_NAME                 VARCHAR2(50 BYTE)   NOT NULL,
  FIRST_NAME                VARCHAR2(50 BYTE),
  MIDDLE_NAME               VARCHAR2(50 BYTE),
  SUFFIX                    VARCHAR2(50 BYTE),
  HIRE_DATE                 DATE                NOT NULL,
  TERMINATION_DATE          DATE,
  SCHEDULE_TYPE             NUMBER(38),
  SENIORITY_EFFECTIVE_DATE  DATE,
  OWNER_USER                NUMBER(38)          NOT NULL,
  MODIFY_USER               NUMBER(38),
  OWNER_DATE                DATE                NOT NULL,
  MODIFY_DATE               DATE,
  EMAIL_ADDRESS             VARCHAR2(250 BYTE),
  COMMAND_SCRIPT            VARCHAR2(4000 BYTE),
  MESSAGE_BUFFER            VARCHAR2(4000 BYTE),
  SECONDARY_ID              VARCHAR2(250 BYTE),
  ADDRESS                   VARCHAR2(2000 BYTE),
  WORK_PHONE                VARCHAR2(28 BYTE),
  HOME_PHONE                VARCHAR2(28 BYTE),
  TERMINATION_POLICY_ID     NUMBER(38),
  TERMINATION_REASON        VARCHAR2(2000 BYTE),
  PIP_ADDRESS               VARCHAR2(250 BYTE),
  TEXT_ADDRESS              VARCHAR2(250 BYTE),
  CELL_PHONE                VARCHAR2(28 BYTE),
  EXTRACT_DT                DATE,
  LAST_UPDATE_DT            DATE,
  LAST_UPDATED_BY           VARCHAR2(30 BYTE)   NOT NULL
)
TABLESPACE MAXDAT_DATA
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE UNIQUE INDEX DP_SCORECARD.SC_HIER_STAFF_IDX1 ON DP_SCORECARD.SC_HIERARCHY_STAFF
(STAFF_ID)
LOGGING
TABLESPACE MAXDAT_INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );		   
		   
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF TO MAXDAT_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF TO DP_SCORECARD_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF TO MAXDAT;

--------------------------------------------------------
--------------------------------------------------------
--------------------------------------------------------
	
-- DROP TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_2_STAFF_WRK CASCADE CONSTRAINTS;

CREATE TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_2_STAFF_WRK
(
  CYCLE_ERROR        NUMBER,
  ROOT_STAFF_ID      NUMBER,
  STAFF_ID           NUMBER(38),
  STAFF_NATID        VARCHAR2(250 BYTE),
  EFFECTIVE_DATE     DATE,
  ADJUSTED_END_DATE  DATE,
  SUPERVISOR_ID      NUMBER(38),
  SUPERVISOR_NATID   VARCHAR2(250 BYTE),
  FIRST_NAME         VARCHAR2(50 BYTE),
  LAST_NAME          VARCHAR2(50 BYTE),
  HIRE_DATE          DATE,
  TERMINATION_DATE   DATE,
  LVL                NUMBER,
  JOB_CODE           NUMBER(22),
  JOB_LEVEL          CHAR(1 BYTE),
  POSITION           VARCHAR2(50 BYTE)
)
TABLESPACE MAXDAT_DATA
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;	

GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_2_STAFF_WRK TO MAXDAT_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_2_STAFF_WRK TO DP_SCORECARD_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_2_STAFF_WRK TO MAXDAT;

--------------------------------------------------------
--------------------------------------------------------
--------------------------------------------------------

--DROP TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_TO_DEPT CASCADE CONSTRAINTS;

CREATE TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_TO_DEPT
(
  STAFF_ID           NUMBER(22)                 NOT NULL,
  START_DATE         DATE,
  END_DATE           DATE,
  ADJUSTED_END_DATE  DATE,
  DEPARTMENT         VARCHAR2(50 BYTE)          NOT NULL
)
TABLESPACE MAXDAT_DATA
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE INDEX DP_SCORECARD.SC_HIER_STAFF_2_DEPT_IDX1 ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_DEPT
(STAFF_ID)
LOGGING
TABLESPACE MAXDAT_INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_DEPT TO MAXDAT_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_DEPT TO DP_SCORECARD_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_DEPT TO MAXDAT;

--------------------------------------------------------
--------------------------------------------------------
--------------------------------------------------------

--DROP TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_TO_JOB CASCADE CONSTRAINTS;

CREATE TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_TO_JOB
(
  STAFF_ID           NUMBER(22)                 NOT NULL,
  START_DATE         DATE,
  END_DATE           DATE,
  ADJUSTED_END_DATE  DATE,
  JOB_CODE           NUMBER(22)                 NOT NULL,
  JOB_LEVEL          CHAR(1 BYTE),
  POSITION           VARCHAR2(50 BYTE)
)
TABLESPACE MAXDAT_DATA
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE INDEX DP_SCORECARD.SC_HIER_STAFF_JOB_CODE_IDX1 ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_JOB
(STAFF_ID)
LOGGING
TABLESPACE MAXDAT_INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_JOB TO MAXDAT_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_JOB TO DP_SCORECARD_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_JOB TO MAXDAT;

--------------------------------------------------------
--------------------------------------------------------
--------------------------------------------------------

--DROP TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_TO_OFFICE CASCADE CONSTRAINTS;

CREATE TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_TO_OFFICE
(
  STAFF_ID           NUMBER(22)                 NOT NULL,
  EFFECTIVE_DATE     DATE,
  OFFICE_ID          NUMBER(22)                 NOT NULL,
  OFFICE             VARCHAR2(50 BYTE),
  BUILDING           VARCHAR2(100 BYTE),
  END_DATE           DATE,
  ADJUSTED_END_DATE  DATE
)
TABLESPACE MAXDAT_DATA
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE INDEX DP_SCORECARD.SC_HIER_STAFF_2_OFFICE_IDX1 ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_OFFICE
(STAFF_ID)
LOGGING
TABLESPACE MAXDAT_INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );
		   
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_OFFICE TO MAXDAT_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_OFFICE TO DP_SCORECARD_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_OFFICE TO MAXDAT;

--------------------------------------------------------
--------------------------------------------------------
--------------------------------------------------------

-- DROP TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_TO_STAFF CASCADE CONSTRAINTS;

CREATE TABLE DP_SCORECARD.SC_HIERARCHY_STAFF_TO_STAFF
(
  STAFF_ID           NUMBER(38)                 NOT NULL,
  STAFF_NATID        VARCHAR2(250 BYTE)         NOT NULL,
  SUPERVISOR_ID      NUMBER(38)                 NOT NULL,
  SUPERVISOR_NATID   VARCHAR2(250 BYTE)         NOT NULL,
  EFFECTIVE_DATE     DATE,
  LAST_UPDATE_DT     DATE                       NOT NULL,
  END_DATE           DATE,
  TERMINATION_DATE   DATE,
  ADJUSTED_END_DATE  DATE,
  E_STAFF_ID         NUMBER(38),
  E_SUPERVISOR_ID    NUMBER(38),
  E_EFFECTIVE_DATE   DATE,
  E_END_DATE         DATE,
  E_LAST_UPDATE_DT   DATE
)
TABLESPACE MAXDAT_DATA
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE INDEX DP_SCORECARD.SC_HIER_STAFF_2_STAFF_IDX1 ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_STAFF
(STAFF_ID)
LOGGING
TABLESPACE MAXDAT_INDX
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_STAFF TO MAXDAT_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_STAFF TO DP_SCORECARD_READ_ONLY;
GRANT SELECT ON DP_SCORECARD.SC_HIERARCHY_STAFF_TO_STAFF TO MAXDAT;

-------------------------------------------------------
--------------------------------------------------------
--------------------------------------------------------

