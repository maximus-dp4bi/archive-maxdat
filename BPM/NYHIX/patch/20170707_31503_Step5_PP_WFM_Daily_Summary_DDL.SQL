--drop table DP_SCORECARD.PP_WFM_Daily_Summary_WRK;

CREATE TABLE DP_SCORECARD.PP_WFM_Daily_Summary_WRK 
   (
	EVENT_DATE 				DATE NOT NULL ENABLE, 
	STAFF_ID 				NUMBER NOT NULL ENABLE,   
	EVENT_ID 				NUMBER NOT NULL ENABLE, 
    ---------------------------------------------------
    -- THE FOLLLOWING ARE FROM THE SCORECARD_HIERARCHY
    --------------------------------------------------- 
	SUPERVISOR_STAFF_ID 	NUMBER, 
	STAFF_HIRE_DATE     	DATE,
	STAFF_TERMINATION_DATE  DATE,
	OFFICE                  VARCHAR(50 BYTE),
    ---------------------------------------------------    
	DEPARTMENT              VARCHAR(50 BYTE),
	BUILDING                VARCHAR(100 BYTE),
    ---------------------------------------------------    
	SCORECARD_GROUP  		VARCHAR2(512 BYTE), 
    SCORECARD_FLAG   		VARCHAR2(1 BYTE),
	EE_ADHERENCE      		VARCHAR2(1 BYTE),
	SUBACTIVITY_FLAG    	VARCHAR2(1 BYTE),
	SUBACTIVITY_LOGGED 		NUMBER(22),
	RECORD_COUNT     		NUMBER(22),
	TOTAL_LOGGED            NUMBER(22),
	HANDLE_TIME_IN_SECONDS  NUMBER(8),
	----------------------------------------------------
	-- the following are from maxdat.PP_BO_EVENT_TARGET_LKUP
	----------------------------------------------------
    target                 	NUMBER,
    ops_group              	VARCHAR2(25 byte)
   ) 
   PCTFREE 10 PCTUSED 0 INITRANS 1 MAXTRANS 255 
  NOCOMPRESS  LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE MAXDAT_DATA 
  PARTITION BY RANGE (EVENT_DATE) INTERVAL (NUMTOYMINTERVAL(1, 'MONTH')) 
 (PARTITION P0  VALUES LESS THAN (TO_DATE(' 2016-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN')) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 0 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE MAXDAT_DATA ) 
  PARALLEL ;
  
grant all on DP_SCORECARD.PP_WFM_DAILY_SUMMARY_WRK to MAXDAT;

GRANT SELECT ON DP_SCORECARD.PP_WFM_DAILY_SUMMARY_WRK TO MAXDAT;

GRANT SELECT ON DP_SCORECARD.PP_WFM_DAILY_SUMMARY_WRK TO DP_SCORECARD_READ_ONLY;

GRANT SELECT ON DP_SCORECARD.PP_WFM_DAILY_SUMMARY_WRK TO MAXDAT_READ_ONLY;


  
create index DP_SCORECARD.PP_WFM_Daily_Sumry_WRK_TASK_dt
on DP_SCORECARD.PP_WFM_Daily_Summary_WRK(EVENT_DATE) local
tablespace maxdat_indx;

create index DP_SCORECARD.PP_WFM_Daily_Sumry_WRK_STAF_id
on DP_SCORECARD.PP_WFM_Daily_Summary_WRK(staff_id) 
tablespace maxdat_indx;

create index DP_SCORECARD.PP_WFM_Daily_Sumry_WRK_evnt_ID
on DP_SCORECARD.PP_WFM_Daily_Summary_WRK(event_id) 
tablespace maxdat_indx;


-------------------------------------------------------------------
-------------------------------------------------------------------
-------------------------------------------------------------------
-------------------------------------------------------------------

--DROP TABLE 		DP_SCORECARD.PP_WFM_DAILY_SUMMARY;

CREATE TABLE 	DP_SCORECARD.PP_WFM_DAILY_SUMMARY 
   (
	EVENT_DATE DATE NOT NULL ENABLE, 
	STAFF_ID NUMBER NOT NULL ENABLE,   
	EVENT_ID NUMBER NOT NULL ENABLE, 
    ---------------------------------------------------
    -- THE FOLLLOWING ARE FROM THE SCORECARD_HIERARCHY
    --------------------------------------------------- 
	SUPERVISOR_STAFF_ID NUMBER, 
	STAFF_HIRE_DATE     DATE,
	STAFF_TERMINATION_DATE  DATE,
	OFFICE                  VARCHAR(50 BYTE),
	-- DEPARTMENT AND BUILDING ARE FROM SCORECARD_HIERARCHY_SV
	DEPARTMENT              VARCHAR(50 BYTE),
	BUILDING                VARCHAR(100 BYTE),
    ---------------------------------------------------    
	SCORECARD_GROUP  		VARCHAR2(512 BYTE), 
    SCORECARD_FLAG   		VARCHAR2(1 BYTE),	
	EE_ADHERENCE      		VARCHAR2(1 BYTE),
	SUBACTIVITY_FLAG    	VARCHAR2(1 BYTE),
	SUBACTIVITY_LOGGED 		NUMBER(22),
	RECORD_COUNT     		NUMBER(22),
	TOTAL_LOGGED            NUMBER(22),
	HANDLE_TIME_IN_SECONDS  NUMBER(8),
    TARGET                 NUMBER,
    OPS_GROUP              VARCHAR2(25 BYTE)
   ) 
   PCTFREE 10 PCTUSED 0 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS  LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE MAXDAT_DATA 
  PARTITION BY RANGE (EVENT_DATE) INTERVAL (NUMTOYMINTERVAL(1, 'MONTH')) 
 (PARTITION P0  VALUES LESS THAN (TO_DATE(' 2016-01-01 00:00:00', 'SYYYY-MM-DD HH24:MI:SS', 'NLS_CALENDAR=GREGORIAN')) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 0 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE MAXDAT_DATA ) 
  PARALLEL ;
  
 
create index DP_SCORECARD.PP_WFM_DAILY_SUMMARY_EVNT_DT
on DP_SCORECARD.PP_WFM_DAILY_SUMMARY(EVENT_DATE) local
tablespace maxdat_indx;

create index DP_SCORECARD.WFL_PP_DAILY_SUMMARY_STAF_id
on DP_SCORECARD.PP_WFM_DAILY_SUMMARY(staff_id) 
tablespace maxdat_indx;

create index DP_SCORECARD.WFL_PP_DAILY_SUMMARY_event
on DP_SCORECARD.PP_WFM_DAILY_SUMMARY(event_id) 
tablespace maxdat_indx;

grant all on DP_SCORECARD.PP_WFM_DAILY_SUMMARY to MAXDAT;

GRANT SELECT ON DP_SCORECARD.PP_WFM_DAILY_SUMMARY TO MAXDAT;

GRANT SELECT ON DP_SCORECARD.PP_WFM_DAILY_SUMMARY TO DP_SCORECARD_READ_ONLY;

GRANT SELECT ON DP_SCORECARD.PP_WFM_DAILY_SUMMARY TO MAXDAT_READ_ONLY;

------------1------------------------------------------------------------------
------------------------------------------------------------------------------
------------------------------------------------------------------------------

