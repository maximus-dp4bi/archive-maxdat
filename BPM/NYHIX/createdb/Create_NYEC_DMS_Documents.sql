declare  c int;
 begin
    select count(*) into c from user_tables where table_name ='D_NYEC_DOCUMENTS';
    if c = 1 then
       execute immediate 'drop table D_NYEC_DOCUMENTS cascade constraints';
    end if;
 end;
 /



CREATE TABLE MAXDAT.D_NYEC_DOCUMENTS
    (
      DCN              NUMBER (38) NOT NULL
    , BATCH_ID         NUMBER (38) NOT NULL
    , DATE_RECEIVED    DATE NOT NULL
    , FORM_TYPE        VARCHAR2 (255)
    , NUMBER_OF_PAGES  NUMBER (10)
    , ECN              NUMBER (38)
    , KOFAX_DCN        VARCHAR2 (255)
    , CREATION_DATE    DATE NOT NULL
    , LAST_UPDATE_DATE DATE NOT NULL,
    CONSTRAINT NYEC_DOC_PK PRIMARY KEY (DCN)
    )
    TABLESPACE MAXDAT_DATA
    STORAGE (BUFFER_POOL DEFAULT);


COMMENT ON COLUMN MAXDAT.D_NYEC_DOCUMENTS.DCN IS 'System generated sequence number';
COMMENT ON COLUMN MAXDAT.D_NYEC_DOCUMENTS.BATCH_ID IS 'Synthetic key generated by sequence';
COMMENT ON COLUMN MAXDAT.D_NYEC_DOCUMENTS.DATE_RECEIVED IS 'Date document was received based on timestamp of fax file or date scanned (with override option for scan operator)';
COMMENT ON COLUMN MAXDAT.D_NYEC_DOCUMENTS.FORM_TYPE IS 'Value passed from capture software showing type of form identified';
COMMENT ON COLUMN MAXDAT.D_NYEC_DOCUMENTS.NUMBER_OF_PAGES IS 'Number of pages in the document';
COMMENT ON COLUMN MAXDAT.D_NYEC_DOCUMENTS.ECN IS 'Assigned Envelope Control Number';
COMMENT ON COLUMN MAXDAT.D_NYEC_DOCUMENTS.KOFAX_DCN IS 'KOFAX generated DCN number that this document replaces';
COMMENT ON COLUMN MAXDAT.D_NYEC_DOCUMENTS.CREATION_DATE IS 'Creation date of the record (audit attribute)';
COMMENT ON COLUMN MAXDAT.D_NYEC_DOCUMENTS.LAST_UPDATE_DATE IS 'When was the record last updated (audit attribute)';
CREATE INDEX D_NYEC_DOC_BATCH_ID_IDX
    ON MAXDAT.D_NYEC_DOCUMENTS (BATCH_ID)
    TABLESPACE MAXDAT_INDX;

CREATE INDEX D_NYEC_DOC_CREATED_DATE_IDX
    ON MAXDAT.D_NYEC_DOCUMENTS (CREATION_DATE)
    TABLESPACE MAXDAT_INDX;



GRANT SELECT ON MAXDAT.D_NYEC_DOCUMENTS TO MAXDAT_READ_ONLY;

