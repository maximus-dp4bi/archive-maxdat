--DROP TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY;

CREATE TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY
TABLESPACE MAXDAT_DATA
AS
SELECT 
--CREATE NYHIX_MFB_V2 FROM  D_MFB_CURRENT AND CORP_ETL_MFB_BATCH
D.MFB_BI_ID							AS MFB_V2_BI_ID,
D.BATCH_GUID						AS BATCH_GUID,
batch.STG_EXTRACT_DATE				AS MFB_V2_CREATE_DATE,
batch.STG_LAST_UPDATE_DATE			AS MFB_V2_UPDATE_DATE,
'N'									AS UPDATED,
D.REPROCESSED_FLAG					AS REPROCESSED_FLAG,
D.CREATE_DT							AS CREATE_DT,
D.BATCH_COMPLETE_DT					AS BATCH_COMPLETE_DT,
D.INSTANCE_STATUS					AS INSTANCE_STATUS,
batch.CEJS_JOB_ID					AS MFB_V2_PARENT_JOB_ID,
D.BATCH_ID							AS EXTERNAL_BATCH_ID,
D.BATCH_NAME						AS BATCH_NAME,
D.SOURCE_SERVER						AS SOURCE_SERVER,
D.BATCH_DESCRIPTION					AS BATCH_DESCRIPTION,
D.CREATION_STATION_ID				AS CREATION_STATION_ID,
D.BATCH_CREATED_BY					AS CREATION_USER_NAME,
D.CREATION_USER_ID					AS CREATION_USER_ID,
D.BATCH_CLASS						AS BATCH_CLASS,
D.BATCH_CLASS_DESCRIPTION			AS BATCH_CLASS_DES,
D.BATCH_TYPE						AS BATCH_TYPE,
D.COMPLETE_DT						AS COMPLETE_DT,
D.INSTANCE_STATUS_DT				AS INSTANCE_STATUS_DT,
D.BATCH_PAGE_COUNT					AS BATCH_PAGE_COUNT,
D.BATCH_DOC_COUNT					AS BATCH_DOC_COUNT,
D.BATCH_ENVELOPE_COUNT				AS BATCH_ENVELOPE_COUNT,
D.CANCEL_DT							AS CANCEL_DT,
D.CANCEL_BY							AS CANCEL_BY,
D.CANCEL_REASON						AS CANCEL_REASON,
D.CANCEL_METHOD						AS CANCEL_METHOD,
D.SCAN_BATCH_FLAG					AS ASF_SCAN_BATCH,
D.PERFORM_SCAN_START				AS ASSD_SCAN_BATCH,
D.PERFORM_SCAN_END					AS ASED_SCAN_BATCH,
D.PERFORM_SCAN_PERFORMED_BY			AS ASPB_SCAN_BATCH,
D.PERFORM_QC_FLAG					AS ASF_PERFORM_QC,
D.PERFORM_QC_START					AS ASSD_PERFORM_QC,
D.PERFORM_QC_END					AS ASED_PERFORM_QC,
D.PERFORM_QC_PERFORMED_BY			AS ASPB_PERFORM_QC,
D.KOFAX_QC_REASON					AS KOFAX_QC_REASON,
D.CLASSIFICATION_FLAG				AS ASF_CLASSIFICATION,
D.CLASSIFICATION_START				AS ASSD_CLASSIFICATION,
D.CLASSIFICATION_END				AS ASED_CLASSIFICATION,
D.CLASSIFICATION_DT					AS CLASSIFICATION_DT,
D.RECOGNITION_FLAG					AS ASF_RECOGNITION,
D.RECOGNITION_START					AS ASSD_RECOGNITION,
D.RECOGNITION_END					AS ASED_RECOGNITION,
D.RECOGNITION_DT					AS RECOGNITION_DT,
D.VALIDATE_DATA_FLAG				AS ASF_VALIDATE_DATA,
D.VALIDATE_DATA_START				AS ASSD_VALIDATE_DATA,
D.VALIDATE_DATA_END					AS ASED_VALIDATE_DATA,
D.VALIDATE_DATA_PERFORMED_BY		AS ASPB_VALIDATE_DATA,
D.VALIDATION_DT						AS VALIDATION_DT,
D.CREATE_PDF_FLAG					AS ASF_CREATE_PDF,
D.CREATE_PDFS_START					AS ASSD_CREATE_PDF,
D.CREATE_PDFS_END					AS ASED_CREATE_PDF,
D.POPULATE_REPORTS_DATA_FLAG		AS ASF_POPULATE_REPORTS,
D.POPULATE_REPORTS_DATA_START		AS ASSD_POPULATE_REPORTS,
D.POPULATE_REPORTS_DATA_END			AS ASED_POPULATE_REPORTS,
D.RELEASE_TO_DMS_FLAG				AS ASF_RELEASE_DMS,
D.RELEASE_TO_DMS_START				AS ASSD_RELEASE_DMS,
D.RELEASE_TO_DMS_END				AS ASED_RELEASE_DMS,
D.BATCH_PRIORITY					AS BATCH_PRIORITY,
D.BATCH_DELETED						AS BATCH_DELETED,
D.PAGES_SCANNED						AS PAGES_SCANNED_FLAG,
D.DOCUMENTS_CREATED					AS DOCS_CREATED_FLAG,
D.DOCUMENTS_DELETED					AS DOCS_DELETED_FLAG,
D.PAGES_REPLACED_FLAG				AS PAGES_REPLACED_FLAG,
D.PAGES_DELETED_FLAG				AS PAGES_DELETED_FLAG,
D.CURRENT_BATCH_MODULE_ID			AS CURRENT_BATCH_MODULE_ID,
D.GWF_QC_REQUIRED					AS GWF_QC_REQUIRED,
D.CURRENT_STEP						AS CURRENT_STEP,
D.VALIDATE_DATA_PERF_BY_USER_ID		AS ASPB_VALIDATE_DATA_USER_ID,
D.FAX_BATCH_SOURCE					AS FAX_BATCH_SOURCE,
D.AGE_IN_BUSINESS_DAYS				AS AGE_IN_BUSINESS_DAYS,
D.AGE_IN_CALENDAR_DAYS				AS AGE_IN_CALENDAR_DAYS,
D.TIMELINESS_STATUS					AS TIMELINESS_STATUS,
D.TIMELINESS_DAYS					AS TIMELINESS_DAYS,
D.TIMELINESS_DAYS_TYPE				AS TIMELINESS_DAYS_TYPE,
D.TIMELINESS_DT						AS TIMELINESS_DT,
D.JEOPARDY_FLAG						AS JEOPARDY_FLAG,
D.JEOPARDY_DAYS						AS JEOPARDY_DAYS,
D.JEOPARDY_DAYS_TYPE				AS JEOPARDY_DAYS_TYPE,
D.JEOPARDY_DT						AS JEOPARDY_DT,
D.TARGET_DAYS						AS TARGET_DAYS
FROM
	MAXDAT.D_MFB_CURRENT D
JOIN	
	MAXDAT.CORP_ETL_MFB_BATCH batch
ON D.BATCH_GUID = BATCH.BATCH_GUID;


-- ******************************************************
GRANT SELECT ON MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY TO MAXDAT_READ_ONLY;
GRANT SELECT ON MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY TO MAXDAT_REPORTS;
-- ******************************************************

ALTER TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY
ADD (
LAST_EVENT_STATUS	VARCHAR2(30 BYTE),
LAST_EVENT_MODULE_NAME	VARCHAR2(32 BYTE)
REPROCESSED_DATE		date,
ELAPSED_HOURS			number
); 
 
ALTER TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY MODIFY  MFB_V2_UPDATE_DATE 	 NULL;
ALTER TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY MODIFY  INSTANCE_STATUS        NULL;
ALTER TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY MODIFY  CREATION_STATION_ID    NULL;
ALTER TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY MODIFY  CREATION_USER_ID       NULL;
ALTER TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY MODIFY  INSTANCE_STATUS_DT     NULL;
ALTER TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY MODIFY  BATCH_PRIORITY         NULL;


--------------------------------------------------------
--  DDL for Index NYHIX_MFB_V2_BATCH_SUMMARY_PK
--------------------------------------------------------

CREATE UNIQUE INDEX MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY_PK 
ON MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY (BATCH_GUID) 
TABLESPACE MAXDAT_INDX ;

CREATE UNIQUE INDEX MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY_UK 
ON MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY (MFB_V2_BI_ID) 
TABLESPACE MAXDAT_INDX ;


--------------------------------------------------------
--  DDL for Trigger TRG_BIU_NYHIX_MFB_V2_BATCH_SUMMARY
--------------------------------------------------------

CREATE OR REPLACE EDITIONABLE TRIGGER MAXDAT.TRG_BIU_NYHIX_MFB_V2_BATCH_SUMMARY 
BEFORE INSERT OR UPDATE ON MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY
FOR EACH ROW
BEGIN

IF INSERTING THEN
	:NEW.MFB_V2_CREATE_DATE := SYSDATE;
	:NEW.MFB_V2_UPDATE_DATE := NULL;
	
	IF :NEW.MFB_V2_BI_ID IS NULL
		THEN
		:NEW.MFB_V2_BI_ID := SEQ_NYHIX_MFB_BATCH_SUMMARY_ID.NEXTVAL;
	END IF;
	
END IF;

IF UPDATING THEN
:NEW.MFB_V2_CREATE_DATE := :OLD.MFB_V2_CREATE_DATE;
:NEW.MFB_V2_UPDATE_DATE := SYSDATE;
END IF;
END;
/

ALTER TRIGGER MAXDAT.TRG_BIU_NYHIX_MFB_V2_BATCH_SUMMARY ENABLE;

--------------------------------------------------------
--  Constraints for Table NYHIX_MFB_V2_BATCH_SUMMARY
--------------------------------------------------------

ALTER TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY 
ADD CONSTRAINT NYHIX_MFB_V2_BATCH_SUMMARY_PK PRIMARY KEY (BATCH_GUID)
USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
TABLESPACE MAXDAT_INDX  ENABLE;


-- ******************************************************
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_GUID" IS 'Unique identifier for the batch in KOFAX.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."EXTERNAL_BATCH_ID" IS 'Batch ID in KOFAX.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_NAME" IS 'Name assigned to the batch when it is created.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_DESCRIPTION" IS 'Batch Description, may contain a batch_name if reprocessed';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."REPROCESSED_FLAG" IS 'Reprocessed Flag identifies records that were not previously successfully processed';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CREATION_STATION_ID" IS 'Identifies the KOFAX Capture station where the batch is created. The Station ID is assigned during the installation process.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CREATION_USER_NAME" IS 'This is the Windows login name for the user who creates the batch.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CREATION_USER_ID" IS 'If the User Profiles feature is enabled, the KOFAX Capture login ID for the user who creates the batch.  If User Profiles are not enabled, this is the Windows login name for the user who creates the batch.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_CLASS" IS 'Name of the batch class.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_CLASS_DES" IS 'Description of the batch class on which the batch is based. ';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_TYPE" IS 'The type of batch. ';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CREATE_DT" IS 'The date that the batch is initially scanned.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."COMPLETE_DT" IS 'The date the batch was successfully released to DMS, cancelled, or otherwise deleted.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."INSTANCE_STATUS" IS 'Instance Status indicates if the batch is in process or not. When the batch is created the status is set to ''Active'', and it remains open until the batch has been successfully released to DMS,  is cancelled, or otherwise deleted when it is then set to ''Complete''.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."INSTANCE_STATUS_DT" IS 'The date and time the batch was created.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_PAGE_COUNT" IS 'The total number of pages that are scanned in a single batch.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_DOC_COUNT" IS 'Displays the total number of documents scanned in the batch.   The value is set based on the number of document separator sheets read through KOFAX.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_ENVELOPE_COUNT" IS 'The total number of envelopes in the batch.  This number is entered manually at the beginning of the scanning process.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CANCEL_DT" IS 'The date when a worker initiated the cancelling of a batch. The date/time that the batch was deleted from the source system. If the date is unknown, the date this condition was detected.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CANCEL_BY" IS 'The performer who cancelled the batch.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CANCEL_REASON" IS 'The reason the instance was cancelled.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CANCEL_METHOD" IS 'The method by which the instance was cancelled.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASF_SCAN_BATCH" IS 'ASF_SCAN_BATCH';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASSD_SCAN_BATCH" IS 'The date and time work started on the Scan Batch activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASED_SCAN_BATCH" IS 'Date and time all work was completed for the Scan Batch activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASPB_SCAN_BATCH" IS 'The name of the staff member who completed the Scan Batch activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASF_PERFORM_QC" IS 'ASF_PERFORM_QC';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASSD_PERFORM_QC" IS 'The date and time work started on a batch for the Perform QC activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASED_PERFORM_QC" IS 'Date and time all work was completed for a batch for the Perform QC activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASPB_PERFORM_QC" IS 'The name of the staff member who completed the Perform QC activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."KOFAX_QC_REASON" IS 'The KOFAX QC Reason explains what occurred during the scanning process that requires the batch and its contents to be reviewed by a worker in the Perform QC Activity Step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASF_CLASSIFICATION" IS 'ASF_CLASSIFICATION';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASSD_CLASSIFICATION" IS 'Date and time work started on a batch for the Recognition activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASED_CLASSIFICATION" IS 'Date and time work was completed for a batch for the Classification activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CLASSIFICATION_DT" IS 'Date and time that indicates when the document was classified.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASF_RECOGNITION" IS 'ASF_RECOGNITION';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASSD_RECOGNITION" IS 'Date and time work started on a batch for the Recognition activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASED_RECOGNITION" IS 'Date and time work was completed for a batch for the Recognition activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."RECOGNITION_DT" IS 'Date and time that indicates when the document completed Recognition. ';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASF_VALIDATE_DATA" IS 'ASF_VALIDATE_DATA';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASSD_VALIDATE_DATA" IS 'Date and time work started on a batch for the Verify Results activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASED_VALIDATE_DATA" IS 'Date and time work was completed for a batch for the Verify Results activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASPB_VALIDATE_DATA" IS 'Name of the staff member who completed the Verify Results activity step.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."VALIDATION_DT" IS 'Date and time that indicates when the document was validated. ';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASF_CREATE_PDF" IS 'ASF_CREATE_PDF';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASSD_CREATE_PDF" IS 'Date and time when the PDF Generator module begins.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASED_CREATE_PDF" IS 'Date and time when the PDF Generator module completed converting each page of a document in a batch to a PDF. ';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASF_POPULATE_REPORTS" IS 'ASF_POPULATE_REPORTS';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASSD_POPULATE_REPORTS" IS 'Date and time when the KOFAX Advanced Reports custom workflow agent begins capturing and storing the batch  information required for reporting';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASED_POPULATE_REPORTS" IS 'Date and time when the KOFAX Advanced Reports custom workflow agent completes capturing and storing the batch  information required for reporting';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASF_RELEASE_DMS" IS 'ASF_RELEASE_DMS';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASSD_RELEASE_DMS" IS 'Date and time when the KOFAX Export Module begins to process the scanned and imported documents through the Export engine designed to create documents with associated metadata and place them into a managed folder (DMS)';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."ASED_RELEASE_DMS" IS 'Date and time when the KOFAX Export Module completed processing the scanned and imported documents through the Export engine designed to create documents with associated metadata and place them into a managed folder (DMS)';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_PRIORITY" IS 'The priority of the batch.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_DELETED" IS 'Flag that indicates that the batch was deleted during the current processing session. ';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."PAGES_SCANNED_FLAG" IS 'Flag that indicates the number of pages scanned changed during the current processing session.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."DOCS_CREATED_FLAG" IS 'Flag that indicates that documents were created during the current processing session.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."DOCS_DELETED_FLAG" IS 'Flag that indicates that documents were replaced during the current processing session';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."PAGES_REPLACED_FLAG" IS 'Flag that indicates pages replaced during the current processing session.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."PAGES_DELETED_FLAG" IS 'Flag indicating that pages were deleted during at any time during processing. ';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."BATCH_COMPLETE_DT" IS 'The date/timestamp that KOFAX considers the batch completed successfully (i.e. Released to DMS).';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CURRENT_BATCH_MODULE_ID" IS 'Identifier for the current record in Master Batch Module Staging.  It is NA if the batch is completed in KOFAX.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."GWF_QC_REQUIRED" IS 'QC Required Gateway Flag.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CURRENT_STEP" IS 'Current Activity Step for this Instance.';
COMMENT ON COLUMN "MAXDAT"."NYHIX_MFB_V2_BATCH_SUMMARY"."CEJS_JOB_ID" IS 'Batch Job ID from CORP_ETL_MFB_CONTROL for MicroStrategy Cache Updating';


CREATE TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY_DELETED
(
  RECORD_DELETED_DATE         DATE,
  MFB_V2_BI_ID                NUMBER,
  BATCH_GUID                  VARCHAR2(38 BYTE),
  MFB_V2_CREATE_DATE          DATE,
  MFB_V2_UPDATE_DATE          DATE,
  UPDATED                     CHAR(1 BYTE),
  REPROCESSED_FLAG            VARCHAR2(1 BYTE),
  CREATE_DT                   DATE,
  BATCH_COMPLETE_DT           DATE,
  INSTANCE_STATUS             VARCHAR2(30 BYTE),
  MFB_V2_PARENT_JOB_ID        NUMBER,
  EXTERNAL_BATCH_ID           NUMBER,
  BATCH_NAME                  VARCHAR2(255 BYTE),
  SOURCE_SERVER               VARCHAR2(255 BYTE),
  BATCH_DESCRIPTION           VARCHAR2(80 BYTE),
  CREATION_STATION_ID         VARCHAR2(32 BYTE),
  CREATION_USER_NAME          VARCHAR2(80 BYTE),
  CREATION_USER_ID            VARCHAR2(50 BYTE),
  BATCH_CLASS                 VARCHAR2(32 BYTE),
  BATCH_CLASS_DES             VARCHAR2(80 BYTE),
  BATCH_TYPE                  VARCHAR2(38 BYTE),
  COMPLETE_DT                 DATE,
  INSTANCE_STATUS_DT          DATE,
  BATCH_PAGE_COUNT            NUMBER,
  BATCH_DOC_COUNT             NUMBER,
  BATCH_ENVELOPE_COUNT        NUMBER,
  CANCEL_DT                   DATE,
  CANCEL_BY                   VARCHAR2(80 BYTE),
  CANCEL_REASON               VARCHAR2(80 BYTE),
  CANCEL_METHOD               VARCHAR2(80 BYTE),
  ASF_SCAN_BATCH              VARCHAR2(1 BYTE),
  ASSD_SCAN_BATCH             DATE,
  ASED_SCAN_BATCH             DATE,
  ASPB_SCAN_BATCH             VARCHAR2(80 BYTE),
  ASF_PERFORM_QC              VARCHAR2(1 BYTE),
  ASSD_PERFORM_QC             DATE,
  ASED_PERFORM_QC             DATE,
  ASPB_PERFORM_QC             VARCHAR2(80 BYTE),
  KOFAX_QC_REASON             VARCHAR2(100 BYTE),
  ASF_CLASSIFICATION          VARCHAR2(1 BYTE),
  ASSD_CLASSIFICATION         DATE,
  ASED_CLASSIFICATION         DATE,
  CLASSIFICATION_DT           DATE,
  ASF_RECOGNITION             VARCHAR2(1 BYTE),
  ASSD_RECOGNITION            DATE,
  ASED_RECOGNITION            DATE,
  RECOGNITION_DT              DATE,
  ASF_VALIDATE_DATA           VARCHAR2(1 BYTE),
  ASSD_VALIDATE_DATA          DATE,
  ASED_VALIDATE_DATA          DATE,
  ASPB_VALIDATE_DATA          VARCHAR2(80 BYTE),
  VALIDATION_DT               DATE,
  ASF_CREATE_PDF              VARCHAR2(1 BYTE),
  ASSD_CREATE_PDF             DATE,
  ASED_CREATE_PDF             DATE,
  ASF_POPULATE_REPORTS        VARCHAR2(1 BYTE),
  ASSD_POPULATE_REPORTS       DATE,
  ASED_POPULATE_REPORTS       DATE,
  ASF_RELEASE_DMS             VARCHAR2(1 BYTE),
  ASSD_RELEASE_DMS            DATE,
  ASED_RELEASE_DMS            DATE,
  BATCH_PRIORITY              NUMBER,
  BATCH_DELETED               VARCHAR2(1 BYTE),
  PAGES_SCANNED_FLAG          VARCHAR2(1 BYTE),
  DOCS_CREATED_FLAG           VARCHAR2(1 BYTE),
  DOCS_DELETED_FLAG           VARCHAR2(1 BYTE),
  PAGES_REPLACED_FLAG         VARCHAR2(1 BYTE),
  PAGES_DELETED_FLAG          VARCHAR2(1 BYTE),
  CURRENT_BATCH_MODULE_ID     VARCHAR2(38 BYTE),
  GWF_QC_REQUIRED             VARCHAR2(1 BYTE),
  CURRENT_STEP                VARCHAR2(100 BYTE),
  ASPB_VALIDATE_DATA_USER_ID  VARCHAR2(32 BYTE),
  FAX_BATCH_SOURCE            VARCHAR2(100 BYTE),
  AGE_IN_BUSINESS_DAYS        NUMBER,
  AGE_IN_CALENDAR_DAYS        NUMBER,
  TIMELINESS_STATUS           VARCHAR2(20 BYTE),
  TIMELINESS_DAYS             NUMBER,
  TIMELINESS_DAYS_TYPE        VARCHAR2(2 BYTE),
  TIMELINESS_DT               DATE,
  JEOPARDY_FLAG               VARCHAR2(3 BYTE),
  JEOPARDY_DAYS               NUMBER,
  JEOPARDY_DAYS_TYPE          VARCHAR2(2 BYTE),
  JEOPARDY_DT                 DATE,
  TARGET_DAYS                 NUMBER,
  LAST_EVENT_STATUS           VARCHAR2(30 BYTE),
  LAST_EVENT_MODULE_NAME      VARCHAR2(32 BYTE),
  REPROCESSED_DATE            DATE,
  ELAPSED_HOURS               NUMBER
);

GRANT SELECT ON CREATE TABLE MAXDAT.NYHIX_MFB_V2_BATCH_SUMMARY_DELETED
TO MAXDAT_READ_ONLY;