
CREATE TABLE COST_SHARE_DETAILS_NEW_STG
(
CS_DETAILS_ID	NUMBER(10),
CASE_ID	NUMBER,
PAYMENT_LIMIT	NUMBER,
CAP_AMOUNT	NUMBER,
CAP_MET_DATE	DATE,
CAP_MET_AMOUNT	NUMBER,
CS_PERIOD_START_DATE	DATE,
CS_PERIOD_END_DATE	DATE,
ENROLLMENT_START_DATE	DATE,
ENROLLMENT_END_DATE	DATE,
TOTAL_EXPENSE_AMOUNT	NUMBER,
FPIL	NUMBER,
NET_AMOUNT	NUMBER,
FAMILY_SIZE	NUMBER,
FEE_EXEMPT	VARCHAR2(10),
ENROLLMENT_FEE	NUMBER,
CREATED_BY	VARCHAR2(256),
CREATE_TS	DATE,
UPDATED_BY	VARCHAR2(256),
UPDATE_TS	DATE,
DATE_FEE_PAID	DATE,
FEE_PAID_FLAG	VARCHAR2(1),
NSF_FLAG	VARCHAR2(1),
PLAN_NOTIFIED_DATE	DATE,
P030_EXCLUDE	VARCHAR2(1),
CE_FLAG	VARCHAR2(1 BYTE),
ORIGINAL_TRAN_TYPE	VARCHAR2(10),
cost_share_updates_id  NUMBER,
cs_updates_created_by  VARCHAR2(256),
cs_updates_updated_by  VARCHAR2(256),
cs_updates_create_ts   DATE,
cs_updates_update_ts   DATE,
fee_status_date        DATE,
fee_status             VARCHAR2(10),
lpd_date               DATE
) TABLESPACE MAXDAT_DATA;

ALTER TABLE cost_share_details_new_stg
add constraint PK_CSDETAILS_ID primary key (CS_DETAILS_ID, COST_SHARE_UPDATES_ID) USING INDEX   TABLESPACE MAXDAT_INDX;

grant select on cost_share_details_new_stg to MAXDAT_READ_ONLY;

insert into CORP_ETL_CONTROL
SELECT 'COST_SHARE_RUN_FLAG','V','N','Include/Exclude cost share extract in Run Initialization', sysdate, sysdate
FROM corp_etl_control
WHERE name = 'COST_SHARE_RUN_FLAG'
HAVING COUNT(*) = 0;

commit;
 