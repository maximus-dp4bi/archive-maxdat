CREATE SEQUENCE  "HCO_SEQ_CAMPAIGNTRK_ID"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 582 CACHE 5 NOORDER  NOCYCLE ;

GRANT SELECT ON "HCO_SEQ_CAMPAIGNTRK_ID" TO "MAXDAT_READ_ONLY";

CREATE TABLE HCO_C_CAMPAIGN_TRACKING
(c_campaign_id NUMBER,
 campaign_name VARCHAR2(200),
 campaign_display_name VARCHAR2(200)
) TABLESPACE MAXDAT_DATA;

GRANT SELECT ON HCO_C_CAMPAIGN_TRACKING TO MAXDAT_READ_ONLY;

CREATE INDEX IDX01_CAMPAIGNTRACKING ON HCO_C_CAMPAIGN_TRACKING(c_campaign_id) TABLESPACE MAXDAT_INDX;

CREATE OR REPLACE TRIGGER "BIR_CAMPAIGN_TRACKING" 
 BEFORE INSERT
 ON hco_C_campaign_tracking
 FOR EACH ROW
DECLARE
    v_seq_id     HCO_C_CAMPAIGN_TRACKING.c_campaign_id%TYPE;
BEGIN
  IF :NEW.c_campaign_id IS NULL THEN
    SElECT HCO_SEQ_CAMPAIGNTRK_ID.NEXTVAL
    INTO v_seq_id
    FROM dual;

    :NEW.c_campaign_id   := v_seq_id;
  END IF;
END BIR_CAMPAIGN_TRACKING;
/
ALTER TRIGGER "BIR_CAMPAIGN_TRACKING" ENABLE;
/

CREATE OR REPLACE VIEW HCO_C_CAMPAIGN_TRACKING_SV
AS
SELECT c_campaign_id
,campaign_name
,campaign_display_name
FROM hco_c_campaign_tracking;

GRANT SELECT ON HCO_C_CAMPAIGN_TRACKING_SV TO MAXDAT_READ_ONLY;

INSERT INTO hco_c_campaign_tracking(campaign_name,campaign_display_name) VALUES('CAHCO_IPDS_BAENG_001', 'Return Mail');
INSERT INTO hco_c_campaign_tracking(campaign_name,campaign_display_name) VALUES('CAHCO_IPDS_BASPA_001','Return Mail');
INSERT INTO hco_c_campaign_tracking(campaign_name,campaign_display_name) VALUES ('CAHCO_IPDS_IAENG_001','IA Letter');

commit;
