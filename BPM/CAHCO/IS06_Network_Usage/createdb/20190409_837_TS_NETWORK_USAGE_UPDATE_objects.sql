CREATE OR REPLACE Procedure TS_NETWORK_USAGE_UPDATE
    (
   IN_NETWORK_USAGE_ID	      IN NUMBER,
   IN_NETWORK_USAGE_DATETIME	      IN DATE,
   IN_NETWORK_USAGE_VOLUME  IN NUMBER,
   IN_NETWORK_USAGE_DELETE_FLAG IN NUMBER,
   IN_STAFF_ID      IN VARCHAR2
   )
     
AS
   
BEGIN
if IN_NETWORK_USAGE_DELETE_FLAG = 1 then
     delete from TS_NETWORK_USAGE where NETWORK_USAGE_ID = IN_NETWORK_USAGE_ID;
     commit;
elsif  
length(IN_NETWORK_USAGE_VOLUME) is NULL then
     /*do nothing*/
      null;
   else
       
       update TS_NETWORK_USAGE
      set NETWORK_USAGE_VOLUME = case when (length(IN_NETWORK_USAGE_VOLUME)> 0) then IN_NETWORK_USAGE_VOLUME else  NETWORK_USAGE_VOLUME end,
      LAST_UPDATE_BY = IN_STAFF_ID,
      LAST_UPDATE_DATE = sysdate
      where NETWORK_USAGE_ID = IN_NETWORK_USAGE_ID;

       commit;

   end if;
   NULL;

END;
/    