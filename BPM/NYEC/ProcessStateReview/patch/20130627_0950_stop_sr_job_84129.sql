execute PROCESS_BPM_QUEUE_JOB_CONTROL.STOP_JOB_BY_ID(84129);

-- Ignore "An object of the wrong type was specified." error if this line fails.  Job already stopped.
execute dbms_scheduler.stop_job('PROCESS_Q_BY_BSL_84129');

insert into BPM_UPDATE_EVENT_QUEUE_ARCHIVE 
      (BUEQ_ID,BSL_ID,BIL_ID,IDENTIFIER,EVENT_DATE,QUEUE_DATE,PROCESS_BUEQ_ID,BUE_ID,WROTE_BPM_EVENT_DATE,WROTE_BPM_SEMANTIC_DATE,DATA_VERSION,OLD_DATA,NEW_DATA)
select BUEQ_ID,BSL_ID,BIL_ID,IDENTIFIER,EVENT_DATE,QUEUE_DATE,null,BUE_ID,WROTE_BPM_EVENT_DATE,WROTE_BPM_SEMANTIC_DATE,DATA_VERSION,OLD_DATA,NEW_DATA
from BPM_UPDATE_EVENT_QUEUE
where 
  BUEQ_ID = 51844854
  and BSL_ID = 7
  and PROCESS_BUEQ_ID = 5059198
  and WROTE_BPM_EVENT_DATE is not null
  and WROTE_BPM_SEMANTIC_DATE is not null;
    
delete 
from BPM_UPDATE_EVENT_QUEUE
where
  BUEQ_ID = 51844854
  and BSL_ID = 7
  and PROCESS_BUEQ_ID = 5059198
  and WROTE_BPM_EVENT_DATE is not null
  and WROTE_BPM_SEMANTIC_DATE is not null;

commit;
  
update BPM_UPDATE_EVENT_QUEUE
set PROCESS_BUEQ_ID = null
where
  PROCESS_BUEQ_ID = 5059198
  and BSL_ID = 7;

commit;