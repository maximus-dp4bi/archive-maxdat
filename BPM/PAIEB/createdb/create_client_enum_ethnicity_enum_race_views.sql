--Script to create three views CLIENT_SV, ENUM_ETHNICITY, ENUM_RACE
--PAXDELIVERY-1447 

CREATE OR REPLACE VIEW MAXDAT_SUPPORT.CLIENT_SV AS
SELECT
	CLNT_CLIENT_ID
	, CLNT_CLNT_CLIENT_ID
	, CLNT_FNAME
	, FIRST_NAME_CANON
	, FIRST_NAME_SOUNDLIKE
	, CLNT_LNAME
	, LAST_NAME_CANON
	, LAST_NAME_SOUNDLIKE
	, CLNT_MI
	, CLNT_GENDER_CD
	, CLNT_CITIZEN
	, CLNT_ETHNICITY
	, CLNT_RACE
	, CLNT_DOB
	, CLNT_DOD
	, CLNT_TPL_PRESENT
	, CLNT_SSN
	, CLNT_NATIONAL_ID
	, CLNT_FROM_PACMIS
	, CLNT_SHARE_PREMIUM
	, CLNT_NOT_BORN
	, CLNT_HIPAA_PRIVACY_IND
	, CLNT_FINET_VENDOR_NBR
	, CLNT_ENROLL_STATUS
	, CLNT_ENROLL_STATUS_DATE
	, SCHED_AUTO_ASSIGN_DATE
	, CLNT_CIN
	, CLNT_COMMENT
	, CREATED_BY
	, CREATION_DATE
	, LAST_UPDATED_BY
	, LAST_UPDATE_DATE
	, CLNT_PSEUDO_ID
	, CLNT_DISPLAY_NAME
	, SSNVL_ID
	, NOTE_REF_ID
	, CLNT_MARITAL_CD
	, CLNT_STATUS_CD
	, CLNT_EXPECTED_DOB
	, CLNT_PREG_TERM_DATE
	, CLNT_PREG_TERM_REAS_CD
	, CLIENT_TYPE_CD
	, SUPPLEMENTAL_NBR
	, CLIENT_LANGUAGE
	, STATE_LANGUAGE
	, DO_NOT_CALL_IND
	, WRITTEN_LANGUAGE
	, SUFFIX
	, SALUTATION_CD
	, DOMESTIC_VIOLENCE_IND
	, ENGLISH_FLUENCY_CD
	, ENGLISH_LITERACY_CD
	, TRIBE_CD
	, CLNT_GENERIC_FIELD1_DATE
	, CLNT_GENERIC_FIELD2_DATE
	, CLNT_GENERIC_FIELD3_NUM
	, CLNT_GENERIC_FIELD4_NUM
	, CLNT_GENERIC_FIELD5_TXT
	, CLNT_GENERIC_FIELD6_TXT
	, CLNT_GENERIC_FIELD7_TXT
	, CLNT_GENERIC_FIELD8_TXT
	, CLNT_GENERIC_FIELD9_TXT
	, CLNT_GENERIC_FIELD10_TXT
	, CLNT_GENERIC_REF11_ID
	, CLNT_GENERIC_REF12_ID
	, DOD_SOURCE_CD
	, DO_NOT_TEXT_IND
	, DO_NOT_EMAIL_IND
	, LAST_STATE_UPDATE_TS
	, LAST_STATE_UPDATED_BY
	, COMPARABLE_KEY
FROM EB.CLIENT;

GRANT SELECT ON MAXDAT_SUPPORT.CLIENT_SV TO MAXDAT_SUPPORT_READ_ONLY;
GRANT SELECT ON MAXDAT_SUPPORT.CLIENT_SV TO MAXDAT_READ_ONLY;
GRANT SELECT ON MAXDAT_SUPPORT.CLIENT_SV TO MAXDAT_REPORTS;


CREATE OR REPLACE VIEW MAXDAT_SUPPORT.ENUM_ETHNICITY_SV AS 
SELECT
	VALUE
	, DESCRIPTION
	, REPORT_LABEL
	, SCOPE
	, CREATED_BY
	, CREATE_TS
	, UPDATED_BY
	, UPDATE_TS
	, ORDER_BY_DEFAULT
	, EFFECTIVE_START_DATE
	, EFFECTIVE_END_DATE
FROM EB.ENUM_ETHNICITY;

GRANT SELECT ON MAXDAT_SUPPORT.ENUM_ETHNICITY_SV TO MAXDAT_SUPPORT_READ_ONLY;
GRANT SELECT ON MAXDAT_SUPPORT.ENUM_ETHNICITY_SV TO MAXDAT_READ_ONLY;
GRANT SELECT ON MAXDAT_SUPPORT.ENUM_ETHNICITY_SV TO MAXDAT_REPORTS;


CREATE OR REPLACE VIEW MAXDAT_SUPPORT.ENUM_RACE_SV AS
SELECT
	VALUE
	, DESCRIPTION
	, REPORT_LABEL
	, SCOPE
	, CREATED_BY
	, CREATE_TS
	, UPDATED_BY
	, UPDATE_TS
	, ORDER_BY_DEFAULT
	, EFFECTIVE_START_DATE
	, EFFECTIVE_END_DATE
	, HIPAA_VALUE
FROM EB.ENUM_RACE;

GRANT SELECT ON MAXDAT_SUPPORT.ENUM_RACE_SV TO MAXDAT_SUPPORT_READ_ONLY;
GRANT SELECT ON MAXDAT_SUPPORT.ENUM_RACE_SV TO MAXDAT_READ_ONLY;
GRANT SELECT ON MAXDAT_SUPPORT.ENUM_RACE_SV TO MAXDAT_REPORTS;

