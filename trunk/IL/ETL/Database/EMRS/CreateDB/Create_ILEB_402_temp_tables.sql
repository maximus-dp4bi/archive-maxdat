-- Use this script to create the ILEB Report staging tables

--drop table "MAXDAT"."EMRS_ILEB_402_SELTRANS" ;
--drop table "MAXDAT"."EMRS_ILEB_402_MI";
--drop table "MAXDAT"."EMRS_ILEB_402_CURSTATDATE";
--drop table "MAXDAT"."EMRS_ILEB_402_UPLOADEDDATE";
--drop table "MAXDAT"."EMRS_ILEB_402_REPORT";
--commit;

---------------------------------
-- SVN_FILE_URL        = $URL$ 
-- SVN_REVISION        = $Revision$ 
-- SVN_REVISION_DATE   = $Date$
-- SVN_REVISION_AUTHOR = $Author$
---------------------------------


CREATE TABLE "MAXDAT"."EMRS_ILEB_402_SELTRANS" 
   (	"SELECTION_TRANSACTION_ID" NUMBER(22,0) NOT NULL ENABLE, 
	"CLIENT_NUMBER" NUMBER(22,0),
  "REPORT_DATE" VARCHAR(22 BYTE) 
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_DATA" ;

  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_SELTRANS_IDX2" ON "MAXDAT"."EMRS_ILEB_402_SELTRANS" ("REPORT_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;

  CREATE UNIQUE INDEX "MAXDAT"."EMRS_ILEB_402_SELTRANS_IDX1" ON "MAXDAT"."EMRS_ILEB_402_SELTRANS" (SELECTION_TRANSACTION_ID, REPORT_DATE) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;

--------------------------------------------

  CREATE TABLE "MAXDAT"."EMRS_ILEB_402_MI" 
   (	"SELECTION_TRANSACTION_ID" NUMBER(22,0) NOT NULL ENABLE, 
	"REJECTION_CODE" VARCHAR2(4000 BYTE), 
	"REJECTION_ERROR_DESCRIPTION" VARCHAR2(4000 BYTE),
  "REPORT_DATE" VARCHAR(22 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_DATA" ;
 
  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_MI_IDX1" ON "MAXDAT"."EMRS_ILEB_402_MI" ("SELECTION_TRANSACTION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;

  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_MI_IDX3" ON "MAXDAT"."EMRS_ILEB_402_MI" ("REPORT_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;
  
  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_MI_IDX2" ON "MAXDAT"."EMRS_ILEB_402_MI" (SELECTION_TRANSACTION_ID, REPORT_DATE, REJECTION_CODE) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;
 
-----------------------------------------------------

  CREATE TABLE "MAXDAT"."EMRS_ILEB_402_CURSTATDATE" 
   (	"SELECTION_TRANSACTION_ID" NUMBER(22,0) NOT NULL ENABLE, 
	"MOST_CURRENT_STATUS_DATE" DATE,
  "REPORT_DATE" VARCHAR(22 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_DATA" ;
 
  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_CURSTATDATE_IDX1" ON "MAXDAT"."EMRS_ILEB_402_CURSTATDATE" ("SELECTION_TRANSACTION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;

   CREATE INDEX "MAXDAT"."EMRS_ILEB_402_CURSTATDATE_IDX3" ON "MAXDAT"."EMRS_ILEB_402_CURSTATDATE" ("REPORT_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;
  
  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_CURSTATDATE_IDX2" ON "MAXDAT"."EMRS_ILEB_402_CURSTATDATE" (SELECTION_TRANSACTION_ID, MOST_CURRENT_STATUS_DATE, REPORT_DATE) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;
 
-----------------------------------------------------

  CREATE TABLE "MAXDAT"."EMRS_ILEB_402_UPLOADEDDATE" 
   (	"SELECTION_TRANSACTION_ID" NUMBER(22,0) NOT NULL ENABLE, 
	"SENT_TO_PLAN_DATE" DATE,
  "REPORT_DATE" VARCHAR(22 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_DATA" ;
 
  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_UPLOADEDDATEIDX1" ON "MAXDAT"."EMRS_ILEB_402_UPLOADEDDATE" ("SELECTION_TRANSACTION_ID", "SENT_TO_PLAN_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;
 
  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_UPLOADEDDATEIDX3" ON "MAXDAT"."EMRS_ILEB_402_UPLOADEDDATE" ("REPORT_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;
 
  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_UPLOADEDDATEIDX2" ON "MAXDAT"."EMRS_ILEB_402_UPLOADEDDATE" (SELECTION_TRANSACTION_ID, SENT_TO_PLAN_DATE, REPORT_DATE) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;
 
-----------------------------------------------------

  CREATE TABLE "MAXDAT"."EMRS_ILEB_402_REPORT" 
   (	"PROGRAM" VARCHAR2(20 BYTE), 
	"PLAN_NAME" VARCHAR2(64 BYTE), 
	"ENROLLMENT_SOURCE" VARCHAR2(18 BYTE), 
	"ENROLLMENT_SOURCE_CODE" VARCHAR2(32 BYTE), 
	"ENROLLMENT_TRANSACTION_TYPE" VARCHAR2(32 BYTE), 
	"CASE_CIN" VARCHAR2(30 BYTE), 
	"MEMBER_FIRST_NAME" VARCHAR2(30 BYTE), 
	"MEMBER_LAST_NAME" VARCHAR2(30 BYTE), 
	"MEMBER_RIN" VARCHAR2(30 BYTE), 
	"TERM_DATE" DATE, 
	"DATE_RECEIVED" DATE, 
	"STATUS" VARCHAR2(32 BYTE), 
	"MOST_CURRENT_STATUS_DATE" DATE, 
	"REJECTION_ERROR_DESCRIPTION" VARCHAR2(4000 BYTE), 
	"REJECTION_CODE" VARCHAR2(4000 BYTE), 
	"SENT_TO_PLAN_DATE" DATE, 
	"SELECTION_TRANSACTION_ID" NUMBER(22,0) NOT NULL ENABLE,
  "REPORT_DATE" VARCHAR(22 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "MAXDAT_DATA" ;
 
  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_REPORT_IDX1" ON "MAXDAT"."EMRS_ILEB_402_REPORT" ("SELECTION_TRANSACTION_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;

  CREATE INDEX "MAXDAT"."EMRS_ILEB_402_REPORT_IDX3" ON "MAXDAT"."EMRS_ILEB_402_REPORT" ("REPORT_DATE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;

  CREATE UNIQUE INDEX "MAXDAT"."EMRS_ILEB_402_REPORT_IDX2" ON "MAXDAT"."EMRS_ILEB_402_REPORT" (SELECTION_TRANSACTION_ID, REPORT_DATE) 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "MAXDAT_INDX" ;