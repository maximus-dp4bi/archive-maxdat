<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>TN_CIR_Create_Output_onetime</name>
    <description>5.2 Version</description>
    <extended_description>

---------------------------------
SVN_FILE_URL        = $URL: $ 
SVN_REVISION        = $Revision: $ 
SVN_REVISION_DATE   = $Date: $
SVN_REVISION_AUTHOR = $Author: $
---------------------------------
</extended_description>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2015/02/03 16:42:00.485</created_date>
    <modified_user>-</modified_user>
    <modified_date>2015/02/03 16:42:00.485</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>MAXDAT</name>
    <server>${DB_MAXDAT_HOSTNAME_TX}</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>${DB_MAXDAT_NAME_TX}</database>
    <port>${DB_MAXDAT_PORT_TX}</port>
    <username>${DB_MAXDAT_USER_TX}</username>
    <password>Encrypted 2be98afc83f9f9addac0daf728ac6a4dd</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>INITIAL_POOL_SIZE</code>
        <attribute>5</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>MAXIMUM_POOL_SIZE</code>
        <attribute>10</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>${DB_MAXDAT_PORT_TX}</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STRICT_NUMBER_38_INTERPRETATION</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>Y</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>OLTP_SOURCE</name>
    <server>${DB_OLTP_HOSTNAME_TX}</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>${DB_OLTP_NAME_TX}</database>
    <port>${DB_OLTP_PORT_TX}</port>
    <username>${DB_OLTP_USER_TX}</username>
    <password>${DB_OLTP_PASSWORD_TX}</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>${DB_OLTP_PORT_TX}</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STRICT_NUMBER_38_INTERPRETATION</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Database join - Get client info</from>
      <to>Database join - Get res address info</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get res address info</from>
      <to>Database join - Get mailing address info </to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get mailing address info </from>
      <to>Database join - Get phone info</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get phone info</from>
      <to>Database join - Get app missing info</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get app outcome</from>
      <to>Database join - Get aid cat desc</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get aid cat desc</from>
      <to>Select values</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get hfca refer date</from>
      <to>Database join - Get elig end date</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get elig end date</from>
      <to>Database join - Get app receipt date</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get app missing info</from>
      <to>Database join - Get effective date</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get app doc rcpt date</from>
      <to>Database join - Get trans info</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get app receipt date</from>
      <to>Database join - Get latest app receipt date</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get latest app receipt date</from>
      <to>Database join - Get app doc rcpt date</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get renewal packet info</from>
      <to>Database join - Get authorized rep</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get authorized rep</from>
      <to>Database join - Get hfca refer date</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get trans info</from>
      <to>Database join - Get accent info</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get accent info</from>
      <to>Database join - Get client info</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Table Input - Get Member records</from>
      <to>Database join - Get letter mailed dates</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get letter mailed dates</from>
      <to>Database join - Get renewal packet info</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Database join - Get effective date</from>
      <to>Database join - Get app outcome</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values</from>
      <to>Table output</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Database join - Get accent info</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT *
FROM (
       SELECT process_ts accent_processed_date,
              ROW_NUMBER() OVER (ORDER BY create_ts DESC,etl_e_daily_accent_staging_id DESC) rn                      
       FROM etl_e_daily_accent_staging_stg
       WHERE transaction_cd = 'A'
       AND process_ts IS NOT NULL
       AND application_id = ? ) das
WHERE rn = 1

</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>APPLICATION_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>883</xloc>
      <yloc>174</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get aid cat desc</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>  
SELECT (SELECT report_label FROM subprogram_type_lkup WHERE value = ?) previous_aid_category_desc
       ,(SELECT report_label FROM subprogram_type_lkup WHERE value = ?) new_aid_category_desc
FROM dual
 
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>PREVIOUS_AID_CATEGORY</name>
        <type>String</type>
      </field>
      <field>
        <name>NEW_AID_CATEGORY</name>
        <type>String</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1486</xloc>
      <yloc>410</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get app doc rcpt date</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT received_date appdoc_received_date, doc_type_cd app_doc_type
FROM(
SELECT s.received_date,doc_type_cd,ROW_NUMBER() OVER (PARTITION BY dl.link_ref_id ORDER BY s.received_date DESC) rn
FROM document_stg d 
 INNER JOIN document_set_stg s 
   ON d.document_set_id = s.document_set_id 
 INNER JOIN doc_link_stg dl 
   ON d.document_id = dl.document_id  
WHERE 1=1
AND doc_type_cd IN('APPLICATION' ,'INSURANCE_PROOF','INCOME_PROOF','CITIZENSHIP_PROOF')
AND link_type_cd = 'APPLICATION'
AND link_ref_id = ?)
WHERE rn = 1 </sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>APPLICATION_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>680</xloc>
      <yloc>189</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get app missing info</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT MAX(satisfied_date) verification_return_date
       ,(SELECT CASE WHEN MAX(satisfied_date) IS NOT NULL THEN 'Y' ELSE 'N' END FROM app_missing_info_stg i 
         WHERE satisfied_reason_cd = 'work_num' AND i.application_id = ah.application_id) work_num_verified
FROM app_header_stg ah
 LEFT OUTER JOIN app_missing_info_stg m
   ON ah.application_id = m.application_id
WHERE ah.application_id = ?
GROUP BY ah.application_id</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>APPLICATION_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1382</xloc>
      <yloc>28</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get app outcome</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>  
SELECT
 CASE WHEN medicaid_approved = 'Y' THEN program_subtype_cd ELSE null END new_aid_category
 ,CASE WHEN supplemental_nbr IS NOT NULL THEN
    CASE WHEN medicaid_approved = 'Y' THEN clnt_cin ELSE null END
   ELSE clnt_cin END rids_id
 ,CASE WHEN supplemental_nbr IS NOT NULL THEN
    CASE WHEN medicaid_approved = 'Y' THEN case_cin ELSE supplemental_nbr END
   ELSE case_cin END state_case_id
 ,denial_reason
 ,pending_status
,elig_outcome_cd
,elig_outcome_reason_cd
FROM (
SELECT 
 CASE WHEN ? = 'Y' AND elig_outcome_cd IN('APPROVED','STATE APPROVED') AND program_cd != 'CHIP' THEN  'Y'
      WHEN ? IS NOT NULL AND program_cd != 'CHIP' THEN 'Y' ELSE 'N' END medicaid_approved
,CASE WHEN ? = 'Y' AND elig_outcome_cd IN('REJECTED','STATE REJECTED') THEN (SELECT report_label FROM elig_outcome_reason_lkup r WHERE r.value = eo.elig_outcome_reason_cd)
    ELSE NULL END denial_reason
,CASE WHEN status_cd IN('TIMEOUT','DISREGARDED','COMPLETED','RENEWAL_INITIATED') THEN 'N' ELSE 
  CASE WHEN EXISTS(SELECT 1 FROM document_set_stg ds JOIN document_stg d ON ds.document_set_id = d.document_set_id 
                     JOIN doc_link_stg dl ON d.document_id = dl.document_id 
                   WHERE dl.link_ref_id = ah.application_id
                   AND dl.link_type_cd = 'APPLICATION') THEN  'Y'  ELSE 'N' END END pending_status
,cl.supplemental_nbr
,cl.clnt_cin
,cl.case_cin
,eo.program_subtype_cd
,elig_outcome_cd
,elig_outcome_reason_cd
FROM app_header_stg ah
 INNER JOIN app_individual_stg ai 
   ON ah.application_id = ai.application_id
 INNER JOIN client_stg cl
  ON ai.client_id = cl.client_id
 LEFT OUTER JOIN app_elig_outcome_stg eo
   ON ah.application_id = eo.application_id
   AND eo.app_individual_id = ?
WHERE ah.application_id = ? )
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>APPROVAL_LTR_MAILED</name>
        <type>String</type>
      </field>
      <field>
        <name>ACCENT_PROCESSED_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>DENIAL_LTR_MAILED</name>
        <type>String</type>
      </field>
      <field>
        <name>APP_INDIVIDUAL_ID</name>
        <type>Number</type>
      </field>
      <field>
        <name>APPLICATION_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1484</xloc>
      <yloc>308</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get app receipt date</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT received_date,
       scan_date,
       CASE WHEN TRUNC(received_date) > ? AND TRUNC(received_date) &lt;= ? + 90 THEN 'Y' ELSE 'N' END rcvd_during_reconsider_prd,
       method_of_receipt
FROM (       
SELECT received_date,ds.report_label method_of_receipt, link_ref_id,d.scan_date,ROW_NUMBER() OVER (ORDER BY received_date) rn
FROM document_stg d 
 INNER JOIN document_set_stg s 
   ON d.document_set_id = s.document_set_id 
 INNER JOIN doc_link_stg dl 
   ON d.document_id = dl.document_id  
 INNER JOIN document_source_lkup ds
   ON s.doc_source_cd = ds.value
WHERE doc_type_cd = 'APPLICATION' 
AND link_type_cd = 'APPLICATION'
--AND link_ref_id = ?
AND case_id = ? ) 
WHERE rn = 1</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>ELIG_END_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>ELIG_END_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>CASE_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>529</xloc>
      <yloc>171</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get authorized rep</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT authorized_representative
FROM (SELECT ac_first_name||' '||ac_last_name authorized_representative
             ,ROW_NUMBER() OVER (ORDER BY authorized_contact_id DESC) rn
      FROM authorized_contact_stg      
      WHERE ac_case_id = ?
      AND ac_type_code = 'AUTH_REP'
      AND ac_status_code != 'V'
      AND ac_end_date IS NULL)
WHERE rn = 1</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CASE_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>269</xloc>
      <yloc>21</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get client info</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>0</rowlimit>
    <sql>SELECT clnt_fname first_name
      ,clnt_mi middle_name
      ,clnt_lname last_name
      ,clnt_dob dob
      ,clnt_ssn ssn     
      ,DECODE(clnt_gender_cd, 'M','Male','F','Female',null) gender 
      ,CASE WHEN cl.supplemental_nbr IS NULL THEN clnt_generic_field1_date ELSE NULL END select_date
      ,CASE WHEN cl.supplemental_nbr IS NULL THEN TO_CHAR(clnt_generic_field1_date,'YYYYMMDD') ELSE NULL END redetermination_batch_id
      ,ROUND(months_between(trunc(sysdate),clnt_dob)/12) clnt_age
      ,CASE WHEN cl.supplemental_nbr IS NULL THEN 
        CASE WHEN clnt_generic_field8_txt IS NOT NULL THEN
         (SELECT value
          FROM case_client_stg cc INNER JOIN aid_category_lkup ea ON cc.cscl_adlk_id = ea.value         
          WHERE cc.client_id =  cl.client_id 
          AND cc.cscl_adlk_id != '00'
          AND cscl_id = (SELECT MAX(cscl_id) FROM case_client_stg cc1 
                         WHERE cc.client_id = cc1.client_id
                         AND cc1.cscl_adlk_id != '00'))||' '||clnt_generic_field8_txt 
        ELSE (SELECT subprogram_codes
              FROM case_client_stg cc INNER JOIN aid_category_lkup ea ON cc.cscl_adlk_id = ea.value         
              WHERE cc.client_id =  cl.client_id 
              AND cc.cscl_adlk_id != '00'
              AND cscl_id = (SELECT MAX(cscl_id) FROM case_client_stg cc1 
                             WHERE cc.client_id = cc1.client_id
                             AND cc1.cscl_adlk_id != '00')) END 
       ELSE NULL END previous_aid_category
      ,'Self' relationship_person1
      ,CASE WHEN cl.supplemental_nbr IS NOT NULL THEN clnt_generic_field1_date ELSE NULL END ck_select_date
FROM client_stg cl  
WHERE cl.client_id = ?</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CLIENT_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>975</xloc>
      <yloc>27</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get effective date</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT CASE WHEN effective_date IS NOT NULL THEN null ELSE ? END eligibility_end_date
       ,effective_date
FROM(
SELECT CASE 
      WHEN ? IS NOT NULL THEN
        (SELECT CASE WHEN TO_CHAR(mailed_date + 20,'D') IN ('1','7') OR EXISTS(SELECT 1 FROM holidays h WHERE h.holiday_date = TRUNC(mailed_date)+20) THEN
                get_business_date(TRUNC(mailed_date+20),1) ELSE TRUNC(mailed_date)+20 END +1 
         FROM
           (SELECT ? mailed_date FROM dual))
      WHEN ? IS NOT NULL AND COALESCE(?,?,?) IS NOT NULL THEN ? +1   
      WHEN ? IS NOT NULL THEN ?   
      WHEN ? IS NOT NULL THEN ?
      WHEN ? IS NOT NULL THEN ?
      WHEN ? IS NOT NULL THEN ?      
      WHEN ? IS NOT NULL THEN ?
	  WHEN ? IS NOT NULL AND COALESCE(?,?) IS NOT NULL THEN ? + 1
      ELSE null END effective_date 
FROM dual )
</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>ELIG_END_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN405_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN405_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN405A_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN408FTP_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN409FTP_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN411_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>ELIG_END_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN403_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>APPDOC_RECEIVED_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN402_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>LATEST_APP_RECEIPT_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN404_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>LATEST_APP_RECEIPT_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN403QMB_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN403QMB_EFFECTIVE_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN413_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>LATEST_APP_RECEIPT_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN413A_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN411_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>TN408FTP_MAIL_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>ELIG_END_DATE</name>
        <type>Date</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1475</xloc>
      <yloc>168</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get elig end date</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT MAX(response_due_date) elig_end_date
FROM letters_stg lr 
--  INNER JOIN letter_request_link_stg ls
  --  ON lr.letter_id = ls.lmreq_id
WHERE lr.letter_type_cd IN('TN 411', 'TN 408', 'TN 408ftp', 'TN 409', 'TN 409ftp','TN 410msp') 
AND lr.letter_status_cd = 'MAIL'
AND lr.letter_case_id = ?
--AND ls.reference_id  = ?
--AND ls.reference_type = 'APP_HEADER' </sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CASE_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>439</xloc>
      <yloc>42</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get hfca refer date</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT create_ts date_hcfa_referral, t.task_name referral_task_type
FROM step_instance_stg s
 INNER JOIN d_task_types t
   ON s.step_definition_id = t.task_type_id
WHERE task_name IN('Voluntary Terminations','LTSS+','Other Non-MAGI+','MSP Only','Medically Eligible Review')
AND ref_type = 'APP_HEADER'
AND ref_id = ?
AND step_instance_id = (SELECT MAX(step_instance_id)
                        FROM step_instance_stg si
						 INNER JOIN d_task_types ti
						   ON si.step_definition_id = ti.task_type_id
                        WHERE s.ref_type = si.ref_type
                        AND s.ref_id = si.ref_id					
                       -- AND ti.task_name = t.task_name
						)</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>APPLICATION_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>358</xloc>
      <yloc>200</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get latest app receipt date</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT received_date latest_app_receipt_date
FROM (       
SELECT received_date,ROW_NUMBER() OVER (ORDER BY received_date DESC) rn
FROM document_stg d 
 INNER JOIN document_set_stg s 
   ON d.document_set_id = s.document_set_id 
 INNER JOIN doc_link_stg dl 
   ON d.document_id = dl.document_id  
WHERE doc_type_cd = 'APPLICATION' 
AND link_type_cd = 'APPLICATION'
--AND link_ref_id = ?
AND case_id = ? ) 
WHERE rn = 1</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CASE_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>624</xloc>
      <yloc>31</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get letter mailed dates</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>

SELECT TN412_mail_date
	   ,TN401_mail_date
	   ,TN401a_mail_date
	   ,TN402_mail_date
	   ,TN403_mail_date
	   ,TN404_mail_date
	   ,TN405_mail_date
	   ,TN405a_mail_date
	   ,TN406a_mail_date
	   ,TN406b_mail_date
	   ,TN406c_mail_date
	   ,TN406d_mail_date
	   ,TN406e_mail_date
	   ,TN406f_mail_date
	   ,TN406g_mail_date
	   ,TN406h_mail_date
	   ,TN406j_mail_date
	   ,TN406i_mail_date
	   ,TN406l_mail_date
	   ,TN406m_mail_date
	   ,TN406n_mail_date
       ,TN406o_mail_date
       ,TN407_mail_date
       ,TN408_mail_date
       ,TN409_mail_date
       ,TN411_mail_date
       ,TN408ftp_mail_date
       ,TN409ftp_mail_date  
       ,TN403qmb_mail_date  
       ,TN410msp_mail_date 
       ,TN401R_last_mail_date
       ,TN401aR_last_mail_date
       ,TN413_mail_date
       ,TN413a_mail_date
       ,TN401R_initial_mail_date
       ,TN401aR_initial_mail_date       
       ,CASE WHEN TN405_mail_date IS NOT NULL OR TN405a_mail_date IS NOT NULL OR TN402_mail_date IS NOT NULL OR
                  TN403_mail_date IS NOT NULL OR TN404_mail_date IS NOT NULL OR TN403qmb_mail_date IS NOT NULL THEN 'Y' ELSE 'N' END approval_ltr_mailed
       ,CASE WHEN TN408_mail_date IS NOT NULL OR TN409_mail_date IS NOT NULL OR TN410msp_mail_date IS NOT NULL OR
                  TN408ftp_mail_date IS NOT NULL OR TN409ftp_mail_date IS NOT NULL OR TN411_mail_date IS NOT NULL THEN 'Y' ELSE 'N' END denial_ltr_mailed
       ,CASE WHEN TN403qmb_mail_date IS NOT NULL AND ? = 'COMPLETED' THEN ADD_MONTHS(TRUNC(?,'mm'),1) ELSE NULL END TN403qmb_effective_date
FROM (
  SELECT 
       ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 412') TN412_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 401') TN401_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 401a') TN401a_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 401R') TN401R_initial_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 401aR') TN401aR_initial_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 402') TN402_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 403') TN403_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 404') TN404_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 405') TN405_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 405a') TN405a_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406a') TN406a_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406b') TN406b_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406c') TN406c_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406d') TN406d_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406e') TN406e_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406f') TN406f_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406g') TN406g_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406h') TN406h_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406j') TN406j_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406i') TN406i_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406l') TN406l_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406m') TN406m_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406n') TN406n_mail_date
	   ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 406o') TN406o_mail_date
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 407') TN407_mail_date
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 408') TN408_mail_date
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 409') TN409_mail_date
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 411') TN411_mail_date
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 408ftp') TN408ftp_mail_date
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 409ftp') TN409ftp_mail_date  
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 403qmb') TN403qmb_mail_date  
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 410msp') TN410msp_mail_date  
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 413') TN413_mail_date  
       ,ETL_PROCESS_LETTERS_PKG.get_min_mail_date(acl.case_id,'TN 413a') TN413a_mail_date   
       ,(SELECT MAX(letter_mailed_date) FROM letters_stg lr WHERE letter_type_cd = 'TN 401R' AND lr.letter_case_id = acl.case_id AND lr.letter_status_cd = 'MAIL') TN401R_last_mail_date
       ,(SELECT MAX(letter_mailed_date) FROM letters_stg lr WHERE letter_type_cd = 'TN 401aR' AND lr.letter_case_id = acl.case_id AND lr.letter_status_cd = 'MAIL') TN401aR_last_mail_date
  FROM app_case_link_stg acl
  WHERE case_id = ? )</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>APPLICATION_STATUS</name>
        <type>String</type>
      </field>
      <field>
        <name>STATUS_DATE</name>
        <type>Date</type>
      </field>
      <field>
        <name>CASE_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>99</xloc>
      <yloc>41</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get mailing address info </name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT ad.addr_street_1 as ml_street_address1
      ,ad.addr_street_2 as ml_street_address2
      ,ad.addr_city as ml_city
      ,ad.addr_state_cd as ml_state
      ,ad.addr_zip as ml_zip_code
      ,ec.report_label ml_county
      ,ad.addr_id mail_addr_id
FROM address_stg ad     
  LEFT OUTER JOIN county_lkup ec    
    ON ad.addr_ctlk_id = ec.value  
WHERE ad.addr_type_cd IN('ML','MM')
AND ad.addr_end_date IS NULL
AND ad.addr_case_id = ?
ORDER BY DECODE(ad.addr_type_cd,'ML',1,2)</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CASE_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1175</xloc>
      <yloc>29</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get phone info</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>OLTP_SOURCE</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT COALESCE((SELECT hpn.phon_area_code||hpn.phon_phone_number 
				 FROM phone_number hpn 
				 WHERE hpn.phon_type_cd = 'HM' 
				 AND hpn.phon_end_date IS NULL 
                 AND hpn.phon_case_id = cs.case_id
                 AND hpn.phon_id = (SELECT MAX(phon_id)
									FROM phone_number n
									WHERE n.phon_case_id = hpn.phon_case_id
                                    AND n.phon_type_cd = hpn.phon_type_cd
                                    AND n.phon_end_date IS NULL))
       ,(SELECT cpn.phon_area_code||cpn.phon_phone_number 
		 FROM phone_number cpn 
		 WHERE cpn.phon_type_cd = 'CM' 
	     AND cpn.phon_end_date IS NULL 
         AND cpn.phon_case_id = cs.case_id
         AND cpn.phon_id = (SELECT MAX(phon_id)
 	  			  		    FROM phone_number n
							WHERE n.phon_case_id = cpn.phon_case_id
                            AND n.phon_type_cd = cpn.phon_type_cd
                            AND n.phon_end_date IS NULL))) phone
FROM ats.cases cs
WHERE case_id = ?</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CASE_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1251</xloc>
      <yloc>183</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get renewal packet info</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>
SELECT lmreq_id, letter_type
FROM(
SELECT letter_id lmreq_id,letter_type, ROW_NUMBER() OVER(PARTITION BY letter_case_id ORDER BY letter_create_ts) rn
FROM letters_stg lr
WHERE lr.letter_type_cd IN('TN 401','TN 401a')
AND lr.letter_status_cd = 'MAIL'
AND letter_case_id = ?)
WHERE rn = 1

                     </sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CASE_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>217</xloc>
      <yloc>174</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get res address info</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT ad.addr_street_1 as res_street_address1
      ,ad.addr_street_2 as res_street_address2
      ,ad.addr_city as res_city
      ,ad.addr_state_cd as res_state
      ,ad.addr_zip as res_zip_code
      ,ec.report_label res_county
      ,ad.addr_id res_addr_id
FROM address_stg ad     
  LEFT OUTER JOIN county_lkup ec    
    ON ad.addr_ctlk_id = ec.value  
WHERE ad.addr_type_cd IN('RS','MR')
AND ad.addr_end_date IS NULL
AND ad.addr_case_id = ?
ORDER BY DECODE(ad.addr_type_cd,'MR',1,2)</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CASE_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1042</xloc>
      <yloc>190</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Database join - Get trans info</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>2</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <rowlimit>1</rowlimit>
    <sql>SELECT process_ts last_status_update_date,mmis_app_status status_code
FROM etl_e_app_status_staging_stg ss
WHERE process_ts = (SELECT MAX(process_ts)
                    FROM etl_e_app_status_staging_stg ss1 
                    WHERE ss1.application_id = ss.application_id)
--AND process_ts IS NOT NULL
AND application_id = ?

</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>APPLICATION_ID</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>821</xloc>
      <yloc>30</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>REDETERMINATION_BATCH_ID</name>
        <rename>MEDICAID_RFI_SELECTION_DATE</rename>
      </field>
      <field>
        <name>RIDS_ID</name>
        <rename>RID</rename>
      </field>
      <field>
        <name>STATE_CASE_ID</name>
        <rename>CASE_CIN</rename>
      </field>
      <field>
        <name>FIRST_NAME</name>
      </field>
      <field>
        <name>MIDDLE_NAME</name>
      </field>
      <field>
        <name>LAST_NAME</name>
      </field>
      <field>
        <name>GENDER</name>
      </field>
      <field>
        <name>DOB</name>
        <rename>DATE_OF_BIRTH</rename>
      </field>
      <field>
        <name>SSN</name>
      </field>
      <field>
        <name>PREVIOUS_AID_CATEGORY</name>
      </field>
      <field>
        <name>PREVIOUS_AID_CATEGORY_DESC</name>
      </field>
      <field>
        <name>NEW_AID_CATEGORY</name>
      </field>
      <field>
        <name>NEW_AID_CATEGORY_DESC</name>
      </field>
      <field>
        <name>PHONE</name>
      </field>
      <field>
        <name>LMREQ_ID</name>
        <rename>RENEWAL_PACKET_ID</rename>
      </field>
      <field>
        <name>LETTER_TYPE</name>
        <rename>RENEWAL_PACKET_TYPE</rename>
      </field>
      <field>
        <name>METHOD_OF_RECEIPT</name>
      </field>
      <field>
        <name>RES_STREET_ADDRESS1</name>
        <rename>HOME_ADDRESS1</rename>
      </field>
      <field>
        <name>RES_STREET_ADDRESS2</name>
        <rename>HOME_ADDRESS2</rename>
      </field>
      <field>
        <name>RES_CITY</name>
        <rename>HOME_ADDRESS_CITY</rename>
      </field>
      <field>
        <name>RES_STATE</name>
        <rename>HOME_ADDRESS_STATE</rename>
      </field>
      <field>
        <name>RES_ZIP_CODE</name>
        <rename>HOME_ADDRESS_ZIP</rename>
      </field>
      <field>
        <name>RES_COUNTY</name>
        <rename>HOME_ADDRESS_COUNTY</rename>
      </field>
      <field>
        <name>ML_STREET_ADDRESS1</name>
        <rename>MAIL_ADDRESS1</rename>
      </field>
      <field>
        <name>ML_STREET_ADDRESS2</name>
        <rename>MAIL_ADDRESS2</rename>
      </field>
      <field>
        <name>ML_CITY</name>
        <rename>MAIL_ADDRESS_CITY</rename>
      </field>
      <field>
        <name>ML_STATE</name>
        <rename>MAIL_ADDRESS_STATE</rename>
      </field>
      <field>
        <name>ML_ZIP_CODE</name>
        <rename>MAIL_ADDRESS_ZIP</rename>
      </field>
      <field>
        <name>ML_COUNTY</name>
        <rename>MAIL_ADDRESS_COUNTY</rename>
      </field>
      <field>
        <name>EFFECTIVE_DATE</name>
        <rename>APPROVAL_NOTICE_EFFECTIVE_DATE</rename>
      </field>
      <field>
        <name>ELIGIBILITY_END_DATE</name>
      </field>
      <field>
        <name>TN412_MAIL_DATE</name>
      </field>
      <field>
        <name>TN401_MAIL_DATE</name>
      </field>
      <field>
        <name>TN401A_MAIL_DATE</name>
      </field>
      <field>
        <name>TN402_MAIL_DATE</name>
      </field>
      <field>
        <name>TN403_MAIL_DATE</name>
      </field>
      <field>
        <name>TN403QMB_MAIL_DATE</name>
      </field>
      <field>
        <name>TN404_MAIL_DATE</name>
      </field>
      <field>
        <name>TN405_MAIL_DATE</name>
      </field>
      <field>
        <name>TN405A_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406A_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406B_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406C_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406D_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406E_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406F_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406G_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406H_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406J_MAIL_DATE</name>
      </field>
      <field>
        <name>TN407_MAIL_DATE</name>
      </field>
      <field>
        <name>TN408_MAIL_DATE</name>
      </field>
      <field>
        <name>TN409_MAIL_DATE</name>
      </field>
      <field>
        <name>TN401R_INITIAL_MAIL_DATE</name>
      </field>
      <field>
        <name>TN401AR_INITIAL_MAIL_DATE</name>
      </field>
      <field>
        <name>TN401R_LAST_MAIL_DATE</name>
      </field>
      <field>
        <name>TN401AR_LAST_MAIL_DATE</name>
      </field>
      <field>
        <name>TN411_MAIL_DATE</name>
      </field>
      <field>
        <name>TN408FTP_MAIL_DATE</name>
      </field>
      <field>
        <name>TN409FTP_MAIL_DATE</name>
      </field>
      <field>
        <name>TN410MSP_MAIL_DATE</name>
      </field>
      <field>
        <name>SELECT_DATE</name>
        <rename>POOL_FILE_SELECT_DATE</rename>
      </field>
      <field>
        <name>RECEIVED_DATE</name>
        <rename>RENEWAL_RECEIPT_DATE</rename>
      </field>
      <field>
        <name>WORK_NUM_VERIFIED</name>
        <rename>WORK_NUMBER_VERIFIED</rename>
      </field>
      <field>
        <name>LAST_STATUS_UPDATE_DATE</name>
        <rename>LAST_STATUS_SENT_TO_MMIS</rename>
      </field>
      <field>
        <name>STATUS_CODE</name>
        <rename>STATUS_CODE_SENT_TO_MMIS</rename>
      </field>
      <field>
        <name>VERIFICATION_RETURN_DATE</name>
      </field>
      <field>
        <name>RELATIONSHIP_PERSON1</name>
      </field>
      <field>
        <name>APPLICATION_STATUS</name>
        <rename>MAXE_ATS_APPLICATION_STATUS</rename>
      </field>
      <field>
        <name>IN_RFI_YN</name>
      </field>
      <field>
        <name>DENIAL_REASON</name>
      </field>
      <field>
        <name>DATE_HCFA_REFERRAL</name>
      </field>
      <field>
        <name>RCVD_DURING_RECONSIDER_PRD</name>
      </field>
      <field>
        <name>REFERRAL_TASK_TYPE</name>
      </field>
      <field>
        <name>SCAN_DATE</name>
      </field>
      <field>
        <name>TN406I_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406L_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406M_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406N_MAIL_DATE</name>
      </field>
      <field>
        <name>TN406O_MAIL_DATE</name>
      </field>
      <field>
        <name>TN413_MAIL_DATE</name>
      </field>
      <field>
        <name>TN413A_MAIL_DATE</name>
      </field>
      <field>
        <name>PENDING_STATUS</name>
      </field>
      <field>
        <name>COB_INDICATOR</name>
      </field>
      <field>
        <name>CK_SELECT_DATE</name>
        <rename>CK_POOL_FILE_SELECTION_DATE</rename>
      </field>
      <field>
        <name>AUTHORIZED_REPRESENTATIVE</name>
      </field>
      <field>
        <name>APPLICATION_ID</name>
      </field>
      <field>
        <name>APP_INDIVIDUAL_ID</name>
      </field>
      <field>
        <name>ACCENT_PROCESSED_DATE</name>
      </field>
      <field>
        <name>CLIENT_ID</name>
      </field>
      <field>
        <name>CASE_ID</name>
      </field>
      <field>
        <name>LATEST_APP_RECEIPT_DATE</name>
      </field>
      <field>
        <name>APPDOC_RECEIVED_DATE</name>
      </field>
      <field>
        <name>STATUS_DATE</name>
      </field>
      <field>
        <name>APP_FORM_CD</name>
      </field>
      <field>
        <name>DENIAL_LTR_MAILED</name>
      </field>
      <field>
        <name>APPROVAL_LTR_MAILED</name>
      </field>
      <field>
        <name>ELIG_OUTCOME_CD</name>
      </field>
      <field>
        <name>ELIG_OUTCOME_REASON_CD</name>
      </field>
      <field>
        <name>RES_ADDR_ID</name>
      </field>
      <field>
        <name>MAIL_ADDR_ID</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1297</xloc>
      <yloc>415</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Table Input - Get Member records</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <sql>
SELECT application_id
      -- ,state_case_id
       ,case_id
      -- ,rids_id
       ,app_individual_id
       ,client_id
       ,received_via  
       ,application_status
       ,status_date        
       ,in_rfi_yn
       ,cob_indicator
       ,app_form_cd
FROM (
  SELECT ah.application_id
      -- ,acl.case_cin state_case_id
       ,acl.case_id
      -- ,ai.client_cin rids_id
       ,ai.app_individual_id
     --  ,ai.client_cin member_id
       ,ai.client_id     
       ,dsl.report_label received_via  
       ,ah.status_cd application_status  
       ,ah.status_date
       ,CASE WHEN EXISTS(SELECT 1 FROM etl_l_app_renewal_stg r WHERE r.matched_client_id = ai.client_id) THEN 'Y' ELSE 'N' END in_rfi_yn
       ,CASE WHEN ah.ref_value_1 = '1' THEN 'Yes' ELSE 'No' END cob_indicator
       ,ah.app_form_cd
  FROM app_header_stg ah
   INNER JOIN app_individual_stg ai
     ON ah.application_id = ai.application_id
   INNER JOIN app_case_link_stg acl
     ON ah.application_id = acl.application_id   
   LEFT OUTER JOIN document_source_lkup dsl
    ON ah.app_media_cd = dsl.value
 WHERE ((ah.app_form_cd IN('RENEWAL','LTSS') AND ah.status_cd NOT IN('TIMEOUT','DISREGARDED'))  OR (ah.app_form_cd IS NULL AND ah.status_cd = 'DISREGARDED') 
    OR (ah.app_form_cd IS NULL AND EXISTS(SELECT 1 FROM letters_stg s INNER JOIN letter_request_link_stg l ON s.letter_id = l.lmreq_id 
								          WHERE letter_type_cd LIKE 'TN 401%' 
                                          AND letter_status_cd = 'MAIL' 
                                          AND l.reference_id = ah.application_id
                                          AND l.reference_type = 'APP_HEADER'))
    OR (ah.app_form_cd = 'APPLICATION_PACKET' AND ah.status_cd NOT IN('TIMEOUT','DISREGARDED') 
         AND NOT EXISTS(SELECT 1 FROM app_header_stg ahr, app_individual_stg air 
                                                             WHERE ahr.application_id = air.application_id 
                                                             AND air.client_id = ai.client_id
                                                             AND ahr.app_form_cd IN('RENEWAL')
                                                             AND ahr.status_cd NOT IN('DISREGARDED','TIMEOUT')))  
     /*OR (ah.app_form_cd IN('RENEWAL','LTSS','APPLICATION_PACKET') AND ah.status_cd IN('DISREGARDED','TIMEOUT') AND NOT EXISTS(SELECT 1 FROM app_header_stg ahr, app_individual_stg air 
                                                             WHERE ahr.application_id = air.application_id 
                                                             AND air.client_id = ai.client_id
                                                             AND ahr.application_id != ah.application_id
															 --AND ahr.app_form_cd != ah.app_form_cd 
                                                             ))  */
     OR (ah.app_form_cd IN('RENEWAL','LTSS','APPLICATION_PACKET') AND ah.status_cd IN('DISREGARDED','TIMEOUT') AND NOT EXISTS(SELECT 1 FROM app_header_stg ahr, app_individual_stg air 
                                                             WHERE ahr.application_id = air.application_id 
                                                             AND air.client_id = ai.client_id
                                                             AND ahr.application_id > ah.application_id
                                                             )
                                                             AND NOT EXISTS(SELECT 1 FROM app_header_stg ahr, app_individual_stg air 
                                                             WHERE ahr.application_id = air.application_id 
                                                             AND air.client_id = ai.client_id
                                                             AND ahr.application_id != ah.application_id
                                                             AND ahr.status_cd NOT IN('DISREGARDED','TIMEOUT')                               
                                                             ))  
)
  AND ah.application_id >= 320 -- filter out test data
  AND acl.case_cin IS NOT NULL
-- AND ah.create_ts >= TO_DATE('${CIR_REPORT_START_DATE}','YYYY/MM/DD')

)</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>77</xloc>
      <yloc>204</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Table output</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>5</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <schema/>
    <table>tn_current_cir_data</table>
    <commit>100</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>N</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>MEDICAID_RFI_SELECTION_DATE</column_name>
        <stream_name>MEDICAID_RFI_SELECTION_DATE</stream_name>
      </field>
      <field>
        <column_name>RID</column_name>
        <stream_name>RID</stream_name>
      </field>
      <field>
        <column_name>CASE_CIN</column_name>
        <stream_name>CASE_CIN</stream_name>
      </field>
      <field>
        <column_name>FIRST_NAME</column_name>
        <stream_name>FIRST_NAME</stream_name>
      </field>
      <field>
        <column_name>MIDDLE_NAME</column_name>
        <stream_name>MIDDLE_NAME</stream_name>
      </field>
      <field>
        <column_name>LAST_NAME</column_name>
        <stream_name>LAST_NAME</stream_name>
      </field>
      <field>
        <column_name>GENDER</column_name>
        <stream_name>GENDER</stream_name>
      </field>
      <field>
        <column_name>DATE_OF_BIRTH</column_name>
        <stream_name>DATE_OF_BIRTH</stream_name>
      </field>
      <field>
        <column_name>SSN</column_name>
        <stream_name>SSN</stream_name>
      </field>
      <field>
        <column_name>PREVIOUS_AID_CATEGORY</column_name>
        <stream_name>PREVIOUS_AID_CATEGORY</stream_name>
      </field>
      <field>
        <column_name>PREVIOUS_AID_CATEGORY_DESC</column_name>
        <stream_name>PREVIOUS_AID_CATEGORY_DESC</stream_name>
      </field>
      <field>
        <column_name>NEW_AID_CATEGORY</column_name>
        <stream_name>NEW_AID_CATEGORY</stream_name>
      </field>
      <field>
        <column_name>NEW_AID_CATEGORY_DESC</column_name>
        <stream_name>NEW_AID_CATEGORY_DESC</stream_name>
      </field>
      <field>
        <column_name>PHONE</column_name>
        <stream_name>PHONE</stream_name>
      </field>
      <field>
        <column_name>RENEWAL_PACKET_ID</column_name>
        <stream_name>RENEWAL_PACKET_ID</stream_name>
      </field>
      <field>
        <column_name>RENEWAL_PACKET_TYPE</column_name>
        <stream_name>RENEWAL_PACKET_TYPE</stream_name>
      </field>
      <field>
        <column_name>METHOD_OF_RECEIPT</column_name>
        <stream_name>METHOD_OF_RECEIPT</stream_name>
      </field>
      <field>
        <column_name>HOME_ADDRESS1</column_name>
        <stream_name>HOME_ADDRESS1</stream_name>
      </field>
      <field>
        <column_name>HOME_ADDRESS2</column_name>
        <stream_name>HOME_ADDRESS2</stream_name>
      </field>
      <field>
        <column_name>HOME_ADDRESS_CITY</column_name>
        <stream_name>HOME_ADDRESS_CITY</stream_name>
      </field>
      <field>
        <column_name>HOME_ADDRESS_STATE</column_name>
        <stream_name>HOME_ADDRESS_STATE</stream_name>
      </field>
      <field>
        <column_name>HOME_ADDRESS_ZIP</column_name>
        <stream_name>HOME_ADDRESS_ZIP</stream_name>
      </field>
      <field>
        <column_name>HOME_ADDRESS_COUNTY</column_name>
        <stream_name>HOME_ADDRESS_COUNTY</stream_name>
      </field>
      <field>
        <column_name>MAIL_ADDRESS1</column_name>
        <stream_name>MAIL_ADDRESS1</stream_name>
      </field>
      <field>
        <column_name>MAIL_ADDRESS2</column_name>
        <stream_name>MAIL_ADDRESS2</stream_name>
      </field>
      <field>
        <column_name>MAIL_ADDRESS_CITY</column_name>
        <stream_name>MAIL_ADDRESS_CITY</stream_name>
      </field>
      <field>
        <column_name>MAIL_ADDRESS_STATE</column_name>
        <stream_name>MAIL_ADDRESS_STATE</stream_name>
      </field>
      <field>
        <column_name>MAIL_ADDRESS_ZIP</column_name>
        <stream_name>MAIL_ADDRESS_ZIP</stream_name>
      </field>
      <field>
        <column_name>MAIL_ADDRESS_COUNTY</column_name>
        <stream_name>MAIL_ADDRESS_COUNTY</stream_name>
      </field>
      <field>
        <column_name>APPROVAL_NOTICE_EFFECTIVE_DATE</column_name>
        <stream_name>APPROVAL_NOTICE_EFFECTIVE_DATE</stream_name>
      </field>
      <field>
        <column_name>ELIGIBILITY_END_DATE</column_name>
        <stream_name>ELIGIBILITY_END_DATE</stream_name>
      </field>
      <field>
        <column_name>TN412_MAIL_DATE</column_name>
        <stream_name>TN412_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN401_MAIL_DATE</column_name>
        <stream_name>TN401_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN401A_MAIL_DATE</column_name>
        <stream_name>TN401A_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN402_MAIL_DATE</column_name>
        <stream_name>TN402_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN403_MAIL_DATE</column_name>
        <stream_name>TN403_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN403QMB_MAIL_DATE</column_name>
        <stream_name>TN403QMB_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN404_MAIL_DATE</column_name>
        <stream_name>TN404_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN405_MAIL_DATE</column_name>
        <stream_name>TN405_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN405A_MAIL_DATE</column_name>
        <stream_name>TN405A_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406A_MAIL_DATE</column_name>
        <stream_name>TN406A_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406B_MAIL_DATE</column_name>
        <stream_name>TN406B_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406C_MAIL_DATE</column_name>
        <stream_name>TN406C_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406D_MAIL_DATE</column_name>
        <stream_name>TN406D_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406E_MAIL_DATE</column_name>
        <stream_name>TN406E_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406F_MAIL_DATE</column_name>
        <stream_name>TN406F_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406G_MAIL_DATE</column_name>
        <stream_name>TN406G_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406H_MAIL_DATE</column_name>
        <stream_name>TN406H_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406J_MAIL_DATE</column_name>
        <stream_name>TN406J_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN407_MAIL_DATE</column_name>
        <stream_name>TN407_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN408_MAIL_DATE</column_name>
        <stream_name>TN408_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN409_MAIL_DATE</column_name>
        <stream_name>TN409_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN401R_INITIAL_MAIL_DATE</column_name>
        <stream_name>TN401R_INITIAL_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN401AR_INITIAL_MAIL_DATE</column_name>
        <stream_name>TN401AR_INITIAL_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN401R_LAST_MAIL_DATE</column_name>
        <stream_name>TN401R_LAST_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN401AR_LAST_MAIL_DATE</column_name>
        <stream_name>TN401AR_LAST_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN411_MAIL_DATE</column_name>
        <stream_name>TN411_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN408FTP_MAIL_DATE</column_name>
        <stream_name>TN408FTP_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN409FTP_MAIL_DATE</column_name>
        <stream_name>TN409FTP_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN410MSP_MAIL_DATE</column_name>
        <stream_name>TN410MSP_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>POOL_FILE_SELECT_DATE</column_name>
        <stream_name>POOL_FILE_SELECT_DATE</stream_name>
      </field>
      <field>
        <column_name>RENEWAL_RECEIPT_DATE</column_name>
        <stream_name>RENEWAL_RECEIPT_DATE</stream_name>
      </field>
      <field>
        <column_name>WORK_NUMBER_VERIFIED</column_name>
        <stream_name>WORK_NUMBER_VERIFIED</stream_name>
      </field>
      <field>
        <column_name>LAST_STATUS_SENT_TO_MMIS</column_name>
        <stream_name>LAST_STATUS_SENT_TO_MMIS</stream_name>
      </field>
      <field>
        <column_name>STATUS_CODE_SENT_TO_MMIS</column_name>
        <stream_name>STATUS_CODE_SENT_TO_MMIS</stream_name>
      </field>
      <field>
        <column_name>VERIFICATION_RETURN_DATE</column_name>
        <stream_name>VERIFICATION_RETURN_DATE</stream_name>
      </field>
      <field>
        <column_name>RELATIONSHIP_PERSON1</column_name>
        <stream_name>RELATIONSHIP_PERSON1</stream_name>
      </field>
      <field>
        <column_name>MAXE_ATS_APPLICATION_STATUS</column_name>
        <stream_name>MAXE_ATS_APPLICATION_STATUS</stream_name>
      </field>
      <field>
        <column_name>IN_RFI_YN</column_name>
        <stream_name>IN_RFI_YN</stream_name>
      </field>
      <field>
        <column_name>DENIAL_REASON</column_name>
        <stream_name>DENIAL_REASON</stream_name>
      </field>
      <field>
        <column_name>DATE_HCFA_REFERRAL</column_name>
        <stream_name>DATE_HCFA_REFERRAL</stream_name>
      </field>
      <field>
        <column_name>RCVD_DURING_RECONSIDER_PRD</column_name>
        <stream_name>RCVD_DURING_RECONSIDER_PRD</stream_name>
      </field>
      <field>
        <column_name>REFERRAL_TASK_TYPE</column_name>
        <stream_name>REFERRAL_TASK_TYPE</stream_name>
      </field>
      <field>
        <column_name>SCAN_DATE</column_name>
        <stream_name>SCAN_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406I_MAIL_DATE</column_name>
        <stream_name>TN406I_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406L_MAIL_DATE</column_name>
        <stream_name>TN406L_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406M_MAIL_DATE</column_name>
        <stream_name>TN406M_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406N_MAIL_DATE</column_name>
        <stream_name>TN406N_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN406O_MAIL_DATE</column_name>
        <stream_name>TN406O_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN413_MAIL_DATE</column_name>
        <stream_name>TN413_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>TN413A_MAIL_DATE</column_name>
        <stream_name>TN413A_MAIL_DATE</stream_name>
      </field>
      <field>
        <column_name>PENDING_STATUS</column_name>
        <stream_name>PENDING_STATUS</stream_name>
      </field>
      <field>
        <column_name>COB_INDICATOR</column_name>
        <stream_name>COB_INDICATOR</stream_name>
      </field>
      <field>
        <column_name>CK_POOL_FILE_SELECTION_DATE</column_name>
        <stream_name>CK_POOL_FILE_SELECTION_DATE</stream_name>
      </field>
      <field>
        <column_name>AUTHORIZED_REPRESENTATIVE</column_name>
        <stream_name>AUTHORIZED_REPRESENTATIVE</stream_name>
      </field>
      <field>
        <column_name>APPLICATION_ID</column_name>
        <stream_name>APPLICATION_ID</stream_name>
      </field>
      <field>
        <column_name>APP_INDIVIDUAL_ID</column_name>
        <stream_name>APP_INDIVIDUAL_ID</stream_name>
      </field>
      <field>
        <column_name>ACCENT_PROCESSED_DATE</column_name>
        <stream_name>ACCENT_PROCESSED_DATE</stream_name>
      </field>
      <field>
        <column_name>CLIENT_ID</column_name>
        <stream_name>CLIENT_ID</stream_name>
      </field>
      <field>
        <column_name>CASE_ID</column_name>
        <stream_name>CASE_ID</stream_name>
      </field>
      <field>
        <column_name>LATEST_APP_RECEIPT_DATE</column_name>
        <stream_name>LATEST_APP_RECEIPT_DATE</stream_name>
      </field>
      <field>
        <column_name>LATEST_DOC_RECEIPT_DATE</column_name>
        <stream_name>APPDOC_RECEIVED_DATE</stream_name>
      </field>
      <field>
        <column_name>STATUS_DATE</column_name>
        <stream_name>STATUS_DATE</stream_name>
      </field>
      <field>
        <column_name>APP_FORM_CD</column_name>
        <stream_name>APP_FORM_CD</stream_name>
      </field>
      <field>
        <column_name>DENIAL_LTR_MAILED</column_name>
        <stream_name>DENIAL_LTR_MAILED</stream_name>
      </field>
      <field>
        <column_name>APPROVAL_LTR_MAILED</column_name>
        <stream_name>APPROVAL_LTR_MAILED</stream_name>
      </field>
      <field>
        <column_name>ELIG_OUTCOME_CD</column_name>
        <stream_name>ELIG_OUTCOME_CD</stream_name>
      </field>
      <field>
        <column_name>ELIG_OUTCOME_REASON_CD</column_name>
        <stream_name>ELIG_OUTCOME_REASON_CD</stream_name>
      </field>
      <field>
        <column_name>RES_ADDR_ID</column_name>
        <stream_name>RES_ADDR_ID</stream_name>
      </field>
      <field>
        <column_name>MAIL_ADDR_ID</column_name>
        <stream_name>MAIL_ADDR_ID</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1177</xloc>
      <yloc>422</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
  <attributes/>
</transformation>
