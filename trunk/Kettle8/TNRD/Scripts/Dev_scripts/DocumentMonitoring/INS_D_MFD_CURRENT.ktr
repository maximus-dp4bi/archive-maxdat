<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>INS_UPD_D_MFD_CURRENT</name>
    <description/>
    <extended_description>Do not edit these four SVN_* variable values.  They are populated when you commit code to SVN and used later to identify deployed code. 
---------------------------------------------------------------- 

--------------------------------- 
SVN_FILE_URL        = $URL: svn://svn-staging.maximus.com/dev1d/maxdat/trunk/TNRD/scripts/DocumentMonitoring/INS_D_MFD_CURRENT.ktr $ 
SVN_REVISION        = $Revision: 24736 $ 
SVN_REVISION_DATE   = $Date: 2018-08-31 10:25:45 -0700 (Fri, 31 Aug 2018) $ 
SVN_REVISION_AUTHOR = $Author: gt83345 $ 
--------------------------------- </extended_description>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2018/08/17 10:54:06.688</created_date>
    <modified_user>-</modified_user>
    <modified_date>2018/08/17 10:54:06.688</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>MAXDAT</name>
    <server>${DB_MAXDAT_HOSTNAME_TX}</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>${DB_MAXDAT_NAME_TX}</database>
    <port>${DB_MAXDAT_PORT_TX}</port>
    <username>${DB_MAXDAT_USER_TX}</username>
    <password>Encrypted 2be98afc83f9f9addac0daf728ac6a4dd</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>INITIAL_POOL_SIZE</code>
        <attribute>5</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>MAXIMUM_POOL_SIZE</code>
        <attribute>10</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>${DB_MAXDAT_PORT_TX}</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>STRICT_NUMBER_38_INTERPRETATION</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>Y</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Merge Rows (diff)</from>
      <to>Filter Insert rows</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter Insert rows</from>
      <to>Filter Update rows</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter Update rows</from>
      <to>Dummy Not New or Update</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get D_MFD_CURRENT from source</from>
      <to>Select values Source</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values Source</from>
      <to>Merge Rows (diff)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get D_MFD_CURRENT from MAXDAT</from>
      <to>Select values MAXDAT</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values MAXDAT</from>
      <to>Merge Rows (diff)</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter Update rows</from>
      <to>Dummy Update</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy Update</from>
      <to>Update D_MFD_CURRENT</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Add constants</from>
      <to>Get transformation name</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get System Info</from>
      <to>Add constants</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get transformation name</from>
      <to>Table output - Corp_ETL_Error_Log</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Insert D_MFD_CURRENT</from>
      <to>Get System Info</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Add constants 2</from>
      <to>Get transformation name 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get System Info 2</from>
      <to>Add constants 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get transformation name 2</from>
      <to>Table output - Corp_ETL_Error_Log 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Update D_MFD_CURRENT</from>
      <to>Get System Info 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Dummy Insert</from>
      <to>Insert D_MFD_CURRENT</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filter Insert rows</from>
      <to>Dummy Insert</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Add constants</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ERR_LEVEL</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>CRITICAL</nullif>
        <length>0</length>
        <precision>0</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>PROCESS_NAME</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>DOCUMENT_MONITORING</nullif>
        <length>0</length>
        <precision>0</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>DRIVER_TABLE_NAME</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>D_MFD_CURRENT_INS</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>930</xloc>
      <yloc>220</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Add constants 2</name>
    <type>Constant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ERR_LEVEL</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>CRITICAL</nullif>
        <length>0</length>
        <precision>0</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>PROCESS_NAME</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>DOCUMENT_MONITORING</nullif>
        <length>0</length>
        <precision>0</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>DRIVER_TABLE_NAME</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>D_MFD_CURRENT_UPD</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1069</xloc>
      <yloc>640</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Dummy Insert</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>679</xloc>
      <yloc>237</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Dummy Not New or Update</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>547</xloc>
      <yloc>501</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Dummy Update</name>
    <type>Dummy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>796</xloc>
      <yloc>484</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Filter Insert rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Dummy Insert</send_true_to>
    <send_false_to>Filter Update rows</send_false_to>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>flagfield</leftvalue>
        <function>=</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>String</type>
          <text>new</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask/>
        </value>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>557</xloc>
      <yloc>323</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Filter Update rows</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Dummy Update</send_true_to>
    <send_false_to>Dummy Not New or Update</send_false_to>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>flagfield</leftvalue>
        <function>=</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>String</type>
          <text>changed</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask/>
        </value>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>679</xloc>
      <yloc>409</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get D_MFD_CURRENT from MAXDAT</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <sql>SELECT
    DCN
    , CREATE_DT
    , RECEIVED_DT
    , DOC_TYPE_CD
    , PAGE_COUNT
    , ECN
    , KOFAX_DCN
    , BATCH_ID
    , BATCH_NAME
    , CHANNEL
    , DOC_STATUS_CD
    , DOC_STATUS_DT
    , DOC_UPDATE_DT
    , DOC_UPDATED_BY_STAFF_ID
    , PRIORITY
    , APP_DOC_DATA_ID
    , FORM_TYPE_CD
    , SCAN_DT
    , RELEASE_DT
    , MAXE_ORIGINATION_DT
    , RESCANNED_IND
    , RETURN_MAIL_IND
    , RETURN_MAIL_REASON
    , RESCAN_COUNT
    , NOTE_ID
    , EXPEDITED_IND
    , RESEARCH_REQUESTED_IND
    , ORIG_DOC_TYPE_CD
    , ORIG_DOC_FORM_TYPE_CD
    , TRASHED_DOC_IND
    , TRASHED_BY
    , TRASHED_DT
    , FORM_TYPE
    , LINK_ID
    , LINKED_CLIENT
    , AUTO_LINKED_IND
    , LINK_DT
    , TIMELINESS_DAYS
    , TIMELINESS_DAYS_TYPE
    , JEOPARDY_DAYS
    , JEOPARDY_DAYS_TYPE
    , CURR_AGE_IN_CALENDAR_DAYS
    , CURR_AGE_IN_BUSINESS_DAYS
    , CURR_JEOPARDY_FLAG
    , CURR_TIMELINESS_STATUS
    , INSTANCE_STATUS
    , COMPLETE_DT
    , CANCEL_DT
    , CANCEL_REASON
    , CANCEL_METHOD
    , AUTO_POPULATE
    , KOFAX_STATION_ID
    , LINK_SLA_TIMELINESS
    , LINK_BUSINESS_DAYS_AGE
    , LINK_CALENDAR_DAYS_AGE
    , LINK_SLA_DAYS
    , LINKED_BY
    , RECIPIENT_ID
    , DS_TASK_COMPLETE_DATE
    , PROCESSED_DT
    , PROCESSED_MONTH
    , CYCLE_START_DATE
    , CYCLE_START_MONTH
    , LINK_JEOPARDY_STATUS
    , SCAN_PROCESSED_MONTH
    , FACILITY_RECEIPT_DATE
    , DS_TASK_TYPE
    , BUSINESS_UNIT_NAME
    , FOLSOM_RECEIPT_DATE
FROM MAXDAT.D_MFD_CURRENT
order by dcn
,create_dt
,link_id
,batch_id

</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>224</xloc>
      <yloc>501</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get D_MFD_CURRENT from source</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <sql>SELECT
dcn
,create_dt
,received_dt
,doc_type_cd
,page_count
,ecn
,kofax_dcn
,batch_id
,batch_name
,channel
,doc_status_cd
,doc_status_dt
,doc_update_dt
,doc_updated_by_staff_id
,priority
,app_doc_data_id
,form_type_cd
,scan_dt
,release_dt
,maxe_origination_dt
,rescanned_ind
,return_mail_ind
,return_mail_reason
,rescan_count
,note_id
,expedited_ind
,research_requested_ind
,orig_doc_type_cd
,orig_doc_form_type_cd
,trashed_doc_ind
,trashed_by
,trashed_dt
,form_type
,case when link_id is null then 0 else link_id end link_id
,linked_client
,auto_linked_ind
,link_dt
,timeliness_days
,timeliness_days_type
,jeopardy_days
,jeopardy_days_type
,CASE WHEN scan_dt IS NULL THEN TRUNC(sysdate) - COALESCE(facility_receipt_date,TRUNC(received_dt))
    ELSE COALESCE(TRUNC(scan_dt),TRUNC(SYSDATE)) - COALESCE(facility_receipt_date,TRUNC(received_dt)) END curr_age_in_calendar_days
,CASE WHEN scan_dt IS NULL THEN BPM_COMMON.BUS_DAYS_BETWEEN (COALESCE(facility_receipt_date,TRUNC(received_dt)),TRUNC(sysdate))
   ELSE BPM_COMMON.BUS_DAYS_BETWEEN(COALESCE(facility_receipt_date,TRUNC(received_dt)) ,TRUNC(scan_dt)) END curr_age_in_business_days
,CASE WHEN scan_dt IS NOT NULL THEN 'NA' ELSE
  CASE WHEN jeopardy_days_type IS NULL THEN 'NA'
       WHEN jeopardy_days_type = 'B' THEN
         CASE WHEN BPM_COMMON.BUS_DAYS_BETWEEN( COALESCE(facility_receipt_date,TRUNC(received_dt)), TRUNC(sysdate)) >= jeopardy_days
           THEN 'Y' ELSE 'N' END
       WHEN jeopardy_days_type = 'C' THEN
         CASE WHEN TRUNC(sysdate) - COALESCE(facility_receipt_date,TRUNC(received_dt)) >= jeopardy_days THEN 'Y' ELSE 'N' END END
END curr_jeopardy_flag
,CASE WHEN scan_dt IS NULL THEN 'Not Processed' ELSE
  CASE WHEN timeliness_days_type IS NULL THEN 'Not Required'
       WHEN timeliness_days_type = 'B' THEN
         CASE WHEN BPM_COMMON.BUS_DAYS_BETWEEN( COALESCE(facility_receipt_date,TRUNC(received_dt)) , TRUNC(scan_dt)) &lt;= timeliness_days
           THEN 'Timely' ELSE 'Untimely' END
       WHEN timeliness_days_type = 'C' THEN
         CASE WHEN TRUNC(scan_dt) - COALESCE(facility_receipt_date,TRUNC(received_dt)) &lt;= timeliness_days THEN 'Timely' ELSE 'Untimely' END END
END curr_timeliness_status
,instance_status
,complete_dt
,cancel_dt
,cancel_reason
,cancel_method
,auto_populate
,kofax_station_id
,CASE WHEN scan_dt IS NULL THEN 'Not Processed' ELSE
   CASE WHEN link_sla_days_type = 'B' THEN
     CASE WHEN processed_dt IS NULL THEN 'Not Linked' ELSE
        CASE WHEN link_business_days_age &lt;= link_sla_days THEN 'Timely' ELSE 'Untimely' END END
   ELSE
     CASE WHEN processed_dt IS NULL THEN 'Not Linked' ELSE
        CASE WHEN link_calendar_days_age &lt;= link_sla_days THEN 'Timely' ELSE 'Untimely' END END
   END
  END link_sla_timeliness
,link_business_days_age
,link_calendar_days_age
,link_sla_days
,linked_by
,recipient_id
,ds_task_complete_date
,processed_dt
,processed_month
,cycle_start_date
,cycle_start_month
,CASE WHEN scan_dt IS NULL THEN 'NA' ELSE
   CASE WHEN jeopardy_days_type = 'B' THEN
     CASE WHEN processed_dt IS NOT NULL THEN 'NA' ELSE
        CASE WHEN link_business_days_age >= link_jeopardy_days THEN 'Y' ELSE 'N' END END
   ELSE
     CASE WHEN processed_dt IS NOT NULL THEN 'NA' ELSE
        CASE WHEN link_calendar_days_age &lt;= link_jeopardy_days THEN 'Y' ELSE 'N' END END
   END
  END link_jeopardy_status
,scan_processed_month
,COALESCE(facility_receipt_date,TRUNC(received_dt)) facility_receipt_date
,ds_task_type
,business_unit_name
,folsom_receipt_date
FROM
(
SELECT TO_CHAR(d.dcn) dcn
       ,CASE WHEN to_number(substr(to_char(d.creation_date,'mm/dd/yyyy'), (length(to_char(d.creation_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(d.creation_date) end  create_dt
       ,CASE WHEN to_number(substr(to_char(d.date_received,'mm/dd/yyyy'), (length(to_char(d.date_received,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(d.date_received) end received_dt
       ,COALESCE(d.form_type,'N/A') doc_type_cd
       ,d.number_of_pages page_count
       ,COALESCE(TO_CHAR(d.ecn),'N/A')  ecn
       ,d.kofax_dcn
       ,b.batch_id batch_id
       ,(SELECT MAX(batch_name) FROM kofax_maxdat_reporting_stg k WHERE k.kofax_dcn = d.kofax_dcn) batch_name
       ,CASE WHEN b.source = 'SCAN' THEN 'Mail'
             WHEN b.source = 'FAX' THEN 'Fax'
        ELSE b.source END channel
       ,'IN DMS' doc_status_cd
       ,CASE WHEN to_number(substr(to_char(d.creation_date,'mm/dd/yyyy'), (length(to_char(d.creation_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(d.creation_date) end doc_status_dt
       ,null doc_update_dt
       ,null doc_updated_by_staff_id
       ,null priority
       ,null app_doc_data_id
       ,null form_type_cd
       ,null scan_dt
       ,null release_dt
       ,null maxe_origination_dt
       ,null rescanned_ind
       ,null return_mail_ind
       ,null return_mail_reason
       ,null rescan_count
       ,null note_id
       ,null expedited_ind
       ,null research_requested_ind
       ,null orig_doc_type_cd
       ,null orig_doc_form_type_cd
       ,null trashed_doc_ind
       ,null trashed_by
       ,null trashed_dt
       ,null form_type
       ,null link_id
       ,null linked_client
       ,null auto_linked_ind
       ,null link_dt
       ,(SELECT TO_NUMBER(out_var) FROM corp_etl_list_lkup WHERE name = 'MFD_TIMELINESS_DAYS' AND value = 'APPLICATION') timeliness_days
       ,(SELECT out_var FROM corp_etl_list_lkup WHERE name = 'MFD_TIMELINESS_DAYS_TYPE' AND value = 'APPLICATION') timeliness_days_type
       ,(SELECT TO_NUMBER(out_var) FROM corp_etl_list_lkup WHERE name = 'MFD_JEOPARDY_DAYS' AND value = 'APPLICATION') jeopardy_days
       ,(SELECT out_var FROM corp_etl_list_lkup WHERE name = 'MFD_JEOPARDY_DAYS_TYPE' AND value = 'APPLICATION') jeopardy_days_type
       ,'Active' instance_status
       ,null complete_dt
       ,null cancel_dt
       ,null cancel_reason
       ,null cancel_method
       ,null auto_populate
       ,b.scan_station kofax_station_id
       ,(SELECT TO_NUMBER(out_var) FROM corp_etl_list_lkup WHERE name = 'MFD_LINKING_SLA_DAYS' AND value = 'LINK') link_sla_days
       ,(SELECT out_var FROM corp_etl_list_lkup WHERE name = 'MFD_LINKING_SLA_DAYS_TYPE' AND value = 'LINK') link_sla_days_type
       ,(SELECT TO_NUMBER(out_var) FROM corp_etl_list_lkup WHERE name = 'MFD_LINKING_JEOPARDY_DAYS' AND value = 'LINK') link_jeopardy_days
       ,(SELECT out_var FROM corp_etl_list_lkup WHERE name = 'MFD_LINKING_JEOPARDY_DAYS_TYPE' AND value = 'LINK') link_jeopardy_days_type
       ,null link_business_days_age
       ,null link_calendar_days_age
       ,null linked_by
       ,null recipient_id
       ,null ds_task_complete_date
       ,null processed_dt
       ,null processed_month
       ,null cycle_start_date
       ,null cycle_start_month
       ,null scan_processed_month
       ,CASE WHEN to_number(substr(to_char(d.date_received,'mm/dd/yyyy'), (length(to_char(d.date_received,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(d.date_received) end facility_receipt_date
       ,null ds_task_type
       ,null business_unit_name
       ,null folsom_receipt_date
FROM dms_documents_stg d
  INNER JOIN dms_batches_stg b
    ON d.batch_id = b.batch_id
  INNER JOIN dms_activities_stg da
    ON d.dcn = da.dcn
WHERE da.status = 'SUCCESS'
AND da.activity_type = 'ENVELOPERELEASE'
AND NOT EXISTS(SELECT 1 FROM document_stg s WHERE TO_CHAR(d.dcn) = s.dcn)
UNION
SELECT
  ad.dcn
  ,CASE WHEN to_number(substr(to_char(ad.create_ts,'mm/dd/yyyy'), (length(to_char(ad.create_ts,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(ad.create_ts) end create_dt
  ,CASE WHEN to_number(substr(to_char(ad.received_date,'mm/dd/yyyy'), (length(to_char(ad.received_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(ad.received_date) end received_dt
  ,ad.document_type_cd doc_type_cd
  ,d.page_count page_count
  ,TO_CHAR(ad.ecn) ecn
  ,dd.kofax_dcn kofax_dcn
  ,dd.batch_id batch_id
  ,(SELECT MAX(batch_name) FROM kofax_maxdat_reporting_stg k WHERE k.kofax_dcn = dd.kofax_dcn) batch_name
  ,CASE WHEN ds.doc_source_cd IN('MAIL','SCAN') THEN 'Mail'
        WHEN ds.doc_source_cd = 'FAX' THEN 'Fax'
   ELSE ds.doc_source_cd END channel
  ,ad.status_cd doc_status_cd
  ,CASE WHEN to_number(substr(to_char(ad.status_ts,'mm/dd/yyyy'), (length(to_char(ad.status_ts,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL Else ad.status_ts end doc_status_dt
  ,CASE WHEN to_number(substr(to_char(dl.update_ts,'mm/dd/yyyy'), (length(to_char(dl.update_ts,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL Else dl.update_ts end doc_update_dt
  ,dl.updated_by doc_updated_by_staff_id
  ,ad.priority
  ,ad.app_doc_data_id
  ,ad.document_sub_type form_type_cd
  ,CASE WHEN to_number(substr(to_char(d.scan_date,'mm/dd/yyyy'), (length(to_char(d.scan_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(d.scan_date) end scan_dt
  ,CASE WHEN to_number(substr(to_char(d.release_date,'mm/dd/yyyy'), (length(to_char(d.release_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(d.release_date) end release_dt
  ,CASE WHEN to_number(substr(to_char(ad.create_ts,'mm/dd/yyyy'), (length(to_char(ad.create_ts,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(ad.create_ts) end maxe_origination_dt
  ,CASE WHEN d.rescan_ind = 0 THEN 'N' ELSE 'Y' END rescanned_ind
  ,CASE WHEN d.return_mail_ind = 0 THEN 'N' ELSE 'Y' END return_mail_ind
  ,d.return_mail_reason_cd return_mail_reason
  ,d.rescan_count
  ,d.note_ref_id note_id
  ,CASE WHEN d.expedited_ind = 0 THEN 'N' ELSE 'Y' END expedited_ind
  ,CASE WHEN d.research_requested_ind = 0 THEN 'N' ELSE 'Y' END research_requested_ind
  ,d.orig_doc_type_cd
  ,d.orig_doc_form_type orig_doc_form_type_cd
  ,CASE WHEN d.trashed_doc_ind = 0 THEN 'N' ELSE 'Y' END  trashed_doc_ind
  ,d.last_trashed_by trashed_by
  ,d.last_trashed_ts trashed_dt
  ,COALESCE((SELECT report_label FROM document_type_lkup t WHERE t.value = ad.document_type_cd)
             ,(SELECT report_label FROM document_type_lkup t WHERE t.value = ad.document_sub_type), ad.document_sub_type) form_type
  ,dl.doc_link_id link_id
  ,dl.client_id linked_client
  ,CASE WHEN dl.auto_linked_ind = 1 THEN 'Y'
        WHEN dl.auto_linked_ind = 0 THEN 'N'
   ELSE null END auto_linked_ind
   ,dl.create_ts link_dt
   ,(SELECT TO_NUMBER(out_var) FROM corp_etl_list_lkup WHERE name = 'MFD_TIMELINESS_DAYS' AND value = 'APPLICATION') timeliness_days
   ,(SELECT out_var FROM corp_etl_list_lkup WHERE name = 'MFD_TIMELINESS_DAYS_TYPE' AND value = 'APPLICATION') timeliness_days_type
   ,(SELECT TO_NUMBER(out_var) FROM corp_etl_list_lkup WHERE name = 'MFD_JEOPARDY_DAYS' AND value = 'APPLICATION') jeopardy_days
   ,(SELECT out_var FROM corp_etl_list_lkup WHERE name = 'MFD_JEOPARDY_DAYS_TYPE' AND value = 'APPLICATION') jeopardy_days_type
   ,CASE WHEN ad.status_cd IN('LINKED') THEN 'Complete' ELSE 'Active' END instance_status
   ,CASE WHEN ad.status_cd IN('LINKED') THEN ad.status_ts ELSE null END complete_dt
   ,CASE WHEN ad.status_cd IN('TRASH','DELETED') THEN d.last_trashed_ts ELSE null END cancel_dt
   ,CASE WHEN ad.status_cd IN('TRASH','DELETED') THEN 'Deleted(Trashed)' ELSE null END cancel_reason
   ,CASE WHEN ad.status_cd IN('TRASH','DELETED') THEN 'Normal' ELSE null END cancel_method
   ,CASE WHEN ad.barcode_data IS NOT NULL AND dl.updated_by &lt; 0 THEN 'Y' ELSE 'N' END auto_populate
   ,ds.scan_station kofax_station_id
   ,(SELECT TO_NUMBER(out_var) FROM corp_etl_list_lkup WHERE name = 'MFD_LINKING_SLA_DAYS' AND value = 'LINK') link_sla_days
   ,(SELECT out_var FROM corp_etl_list_lkup WHERE name = 'MFD_LINKING_SLA_DAYS_TYPE' AND value = 'LINK') link_sla_days_type
   ,(SELECT TO_NUMBER(out_var) FROM corp_etl_list_lkup WHERE name = 'MFD_LINKING_JEOPARDY_DAYS' AND value = 'LINK') link_jeopardy_days
   ,(SELECT out_var FROM corp_etl_list_lkup WHERE name = 'MFD_LINKING_JEOPARDY_DAYS_TYPE' AND value = 'LINK') link_jeopardy_days_type
   ,CASE WHEN d.scan_date IS NULL THEN NULL
         WHEN to_number(substr(to_char(d.scan_date,'mm/dd/yyyy'), (length(to_char(d.scan_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL
      ELSE BPM_COMMON.BUS_DAYS_BETWEEN(TRUNC(d.scan_date),COALESCE(TRUNC(LEAST(COALESCE(dl.create_ts,ds_task_complete_date),COALESCE(ds_task_complete_date,dl.create_ts))),TRUNC(sysdate)) ) END link_business_days_age
   ,CASE WHEN d.scan_date IS NULL THEN NULL
      ELSE COALESCE(TRUNC(LEAST(COALESCE(dl.create_ts,ds_task_complete_date),COALESCE(ds_task_complete_date,dl.create_ts))),TRUNC(sysdate)) - TRUNC(d.scan_date) END link_calendar_days_age
   ,ss.first_name||' '||ss.last_name linked_by
   --,ai.client_cin recipient_id
  -- ,(SELECT client_cin FROM app_individual_stg ai WHERE ai.application_id = ad.application_id AND ai.client_id = dl.client_id) recipient_id
   ,clnt_cin recipient_id
   ,CASE WHEN to_number(substr(to_char(ds_task_complete_date,'mm/dd/yyyy'), (length(to_char(ds_task_complete_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL Else ds_task_complete_date END ds_task_complete_date
   ,TRUNC(LEAST(COALESCE(dl.create_ts,ds_task_complete_date),COALESCE(ds_task_complete_date,dl.create_ts))) processed_dt
   ,TRUNC(LEAST(COALESCE(dl.create_ts,ds_task_complete_date),COALESCE(ds_task_complete_date,dl.create_ts)),'mm') processed_month
   ,CASE WHEN to_number(substr(to_char(d.scan_date,'mm/dd/yyyy'), (length(to_char(d.scan_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL Else TRUNC(d.scan_date) end cycle_start_date
   ,CASE WHEN to_number(substr(to_char(d.scan_date,'mm/dd/yyyy'), (length(to_char(d.scan_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL Else TRUNC(d.scan_date,'mm') END cycle_start_month
   ,CASE WHEN to_number(substr(to_char(d.scan_date,'mm/dd/yyyy'), (length(to_char(d.scan_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL Else TRUNC(d.scan_date,'mm') end scan_processed_month
   ,CASE WHEN to_number(substr(to_char(facility_receipt_date,'mm/dd/yyyy'), (length(to_char(facility_receipt_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(facility_receipt_date) end  facility_receipt_date
   ,ds_task_type
   ,business_unit_name
   ,CASE WHEN  to_number(substr(to_char(facility_receipt_date,'mm/dd/yyyy'), (length(to_char(facility_receipt_date,'mm/dd/yyyy'))-3))) NOT BETWEEN 1999 AND 2020 THEN NULL ELSE TRUNC(facility_receipt_date) end  folsom_receipt_date
FROM app_doc_data_stg ad
  INNER JOIN document_stg d
     ON d.document_id = ad.document_id
  INNER JOIN dms_documents_stg dd
    ON TO_CHAR(dd.dcn) = d.dcn
  LEFT OUTER JOIN (SELECT ds.*, to_date(df.value,'mm/dd/yyyy') facility_receipt_date
                   FROM document_set_stg ds
                     LEFT JOIN doc_flex_field_stg df ON ds.document_set_id = df.document_set_id
                       AND name = 'Folsom_Receipt_Date'  ) ds
    ON ds.document_set_id = d.document_set_id
  LEFT OUTER JOIN doc_link_stg dl
    ON dl.document_id = d.document_id
    AND dl.link_type_cd = 'APPLICATION'
    AND dl.link_ref_id = ad.application_id
  LEFT OUTER JOIN d_staff ss
    ON dl.created_by = ss.staff_id
  --LEFT JOIN app_individual_stg ai
  --  ON ad.application_id = ai.application_id
  --  AND dl.client_id = ai.client_id
 LEFT JOIN client_stg clnt ON clnt.client_id = dl.client_id
  LEFT JOIN (SELECT ref_id document_set_id, i.step_instance_id de_task_id, i.completed_ts ds_task_complete_date,dt.task_name ds_task_type,bu.business_unit_name
                    ,ROW_NUMBER() OVER (PARTITION BY ref_id,ref_type ORDER BY i.completed_ts) dsrn
             FROM step_instance_stg i
                JOIN d_task_types dt ON i.step_definition_id = dt.task_type_id
                LEFT JOIN d_business_units bu ON bu.business_unit_id = i.group_id
             WHERE ref_type = 'DOCUMENT_SET_ID'
             AND status = 'COMPLETED'
             AND i.completed_ts IS NOT NULL
                        ) dstask
    ON dstask.document_set_id = ds.document_set_id
    AND ds_task_complete_date >= d.scan_date
    AND dsrn = 1
    )
order by dcn
,create_dt
,link_id
,batch_id

</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>234</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get System Info</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>error_date</name>
        <type>system date (variable)</type>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>932</xloc>
      <yloc>149</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get System Info 2</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>error_date</name>
        <type>system date (variable)</type>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1071</xloc>
      <yloc>566</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get transformation name</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>JOB_NAME</name>
        <variable>${Internal.Transformation.Name}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>932</xloc>
      <yloc>292</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get transformation name 2</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>JOB_NAME</name>
        <variable>${Internal.Transformation.Name}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1071</xloc>
      <yloc>712</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Insert D_MFD_CURRENT</name>
    <type>TableOutput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>5</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <schema>MAXDAT</schema>
    <table>D_MFD_CURRENT</table>
    <commit>100</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>DCN</column_name>
        <stream_name>DCN</stream_name>
      </field>
      <field>
        <column_name>CREATE_DT</column_name>
        <stream_name>CREATE_DT</stream_name>
      </field>
      <field>
        <column_name>RECEIVED_DT</column_name>
        <stream_name>RECEIVED_DT</stream_name>
      </field>
      <field>
        <column_name>DOC_TYPE_CD</column_name>
        <stream_name>DOC_TYPE_CD</stream_name>
      </field>
      <field>
        <column_name>PAGE_COUNT</column_name>
        <stream_name>PAGE_COUNT</stream_name>
      </field>
      <field>
        <column_name>ECN</column_name>
        <stream_name>ECN</stream_name>
      </field>
      <field>
        <column_name>KOFAX_DCN</column_name>
        <stream_name>KOFAX_DCN</stream_name>
      </field>
      <field>
        <column_name>BATCH_ID</column_name>
        <stream_name>BATCH_ID</stream_name>
      </field>
      <field>
        <column_name>BATCH_NAME</column_name>
        <stream_name>BATCH_NAME</stream_name>
      </field>
      <field>
        <column_name>CHANNEL</column_name>
        <stream_name>CHANNEL</stream_name>
      </field>
      <field>
        <column_name>DOC_STATUS_CD</column_name>
        <stream_name>DOC_STATUS_CD</stream_name>
      </field>
      <field>
        <column_name>DOC_STATUS_DT</column_name>
        <stream_name>DOC_STATUS_DT</stream_name>
      </field>
      <field>
        <column_name>DOC_UPDATE_DT</column_name>
        <stream_name>DOC_UPDATE_DT</stream_name>
      </field>
      <field>
        <column_name>DOC_UPDATED_BY_STAFF_ID</column_name>
        <stream_name>DOC_UPDATED_BY_STAFF_ID</stream_name>
      </field>
      <field>
        <column_name>PRIORITY</column_name>
        <stream_name>PRIORITY</stream_name>
      </field>
      <field>
        <column_name>APP_DOC_DATA_ID</column_name>
        <stream_name>APP_DOC_DATA_ID</stream_name>
      </field>
      <field>
        <column_name>FORM_TYPE_CD</column_name>
        <stream_name>FORM_TYPE_CD</stream_name>
      </field>
      <field>
        <column_name>SCAN_DT</column_name>
        <stream_name>SCAN_DT</stream_name>
      </field>
      <field>
        <column_name>RELEASE_DT</column_name>
        <stream_name>RELEASE_DT</stream_name>
      </field>
      <field>
        <column_name>MAXE_ORIGINATION_DT</column_name>
        <stream_name>MAXE_ORIGINATION_DT</stream_name>
      </field>
      <field>
        <column_name>RESCANNED_IND</column_name>
        <stream_name>RESCANNED_IND</stream_name>
      </field>
      <field>
        <column_name>RETURN_MAIL_IND</column_name>
        <stream_name>RETURN_MAIL_IND</stream_name>
      </field>
      <field>
        <column_name>RETURN_MAIL_REASON</column_name>
        <stream_name>RETURN_MAIL_REASON</stream_name>
      </field>
      <field>
        <column_name>RESCAN_COUNT</column_name>
        <stream_name>RESCAN_COUNT</stream_name>
      </field>
      <field>
        <column_name>NOTE_ID</column_name>
        <stream_name>NOTE_ID</stream_name>
      </field>
      <field>
        <column_name>EXPEDITED_IND</column_name>
        <stream_name>EXPEDITED_IND</stream_name>
      </field>
      <field>
        <column_name>RESEARCH_REQUESTED_IND</column_name>
        <stream_name>RESEARCH_REQUESTED_IND</stream_name>
      </field>
      <field>
        <column_name>ORIG_DOC_TYPE_CD</column_name>
        <stream_name>ORIG_DOC_TYPE_CD</stream_name>
      </field>
      <field>
        <column_name>ORIG_DOC_FORM_TYPE_CD</column_name>
        <stream_name>ORIG_DOC_FORM_TYPE_CD</stream_name>
      </field>
      <field>
        <column_name>TRASHED_DOC_IND</column_name>
        <stream_name>TRASHED_DOC_IND</stream_name>
      </field>
      <field>
        <column_name>TRASHED_BY</column_name>
        <stream_name>TRASHED_BY</stream_name>
      </field>
      <field>
        <column_name>TRASHED_DT</column_name>
        <stream_name>TRASHED_DT</stream_name>
      </field>
      <field>
        <column_name>FORM_TYPE</column_name>
        <stream_name>FORM_TYPE</stream_name>
      </field>
      <field>
        <column_name>LINK_ID</column_name>
        <stream_name>LINK_ID</stream_name>
      </field>
      <field>
        <column_name>LINKED_CLIENT</column_name>
        <stream_name>LINKED_CLIENT</stream_name>
      </field>
      <field>
        <column_name>AUTO_LINKED_IND</column_name>
        <stream_name>AUTO_LINKED_IND</stream_name>
      </field>
      <field>
        <column_name>LINK_DT</column_name>
        <stream_name>LINK_DT</stream_name>
      </field>
      <field>
        <column_name>TIMELINESS_DAYS</column_name>
        <stream_name>TIMELINESS_DAYS</stream_name>
      </field>
      <field>
        <column_name>TIMELINESS_DAYS_TYPE</column_name>
        <stream_name>TIMELINESS_DAYS_TYPE</stream_name>
      </field>
      <field>
        <column_name>JEOPARDY_DAYS</column_name>
        <stream_name>JEOPARDY_DAYS</stream_name>
      </field>
      <field>
        <column_name>JEOPARDY_DAYS_TYPE</column_name>
        <stream_name>JEOPARDY_DAYS_TYPE</stream_name>
      </field>
      <field>
        <column_name>CURR_AGE_IN_CALENDAR_DAYS</column_name>
        <stream_name>CURR_AGE_IN_CALENDAR_DAYS</stream_name>
      </field>
      <field>
        <column_name>CURR_AGE_IN_BUSINESS_DAYS</column_name>
        <stream_name>CURR_AGE_IN_BUSINESS_DAYS</stream_name>
      </field>
      <field>
        <column_name>CURR_JEOPARDY_FLAG</column_name>
        <stream_name>CURR_JEOPARDY_FLAG</stream_name>
      </field>
      <field>
        <column_name>CURR_TIMELINESS_STATUS</column_name>
        <stream_name>CURR_TIMELINESS_STATUS</stream_name>
      </field>
      <field>
        <column_name>INSTANCE_STATUS</column_name>
        <stream_name>INSTANCE_STATUS</stream_name>
      </field>
      <field>
        <column_name>COMPLETE_DT</column_name>
        <stream_name>COMPLETE_DT</stream_name>
      </field>
      <field>
        <column_name>CANCEL_DT</column_name>
        <stream_name>CANCEL_DT</stream_name>
      </field>
      <field>
        <column_name>CANCEL_REASON</column_name>
        <stream_name>CANCEL_REASON</stream_name>
      </field>
      <field>
        <column_name>CANCEL_METHOD</column_name>
        <stream_name>CANCEL_METHOD</stream_name>
      </field>
      <field>
        <column_name>AUTO_POPULATE</column_name>
        <stream_name>AUTO_POPULATE</stream_name>
      </field>
      <field>
        <column_name>KOFAX_STATION_ID</column_name>
        <stream_name>KOFAX_STATION_ID</stream_name>
      </field>
      <field>
        <column_name>LINK_SLA_TIMELINESS</column_name>
        <stream_name>LINK_SLA_TIMELINESS</stream_name>
      </field>
      <field>
        <column_name>LINK_BUSINESS_DAYS_AGE</column_name>
        <stream_name>LINK_BUSINESS_DAYS_AGE</stream_name>
      </field>
      <field>
        <column_name>LINK_CALENDAR_DAYS_AGE</column_name>
        <stream_name>LINK_CALENDAR_DAYS_AGE</stream_name>
      </field>
      <field>
        <column_name>LINK_SLA_DAYS</column_name>
        <stream_name>LINK_SLA_DAYS</stream_name>
      </field>
      <field>
        <column_name>LINKED_BY</column_name>
        <stream_name>LINKED_BY</stream_name>
      </field>
      <field>
        <column_name>RECIPIENT_ID</column_name>
        <stream_name>RECIPIENT_ID</stream_name>
      </field>
      <field>
        <column_name>DS_TASK_COMPLETE_DATE</column_name>
        <stream_name>DS_TASK_COMPLETE_DATE</stream_name>
      </field>
      <field>
        <column_name>PROCESSED_DT</column_name>
        <stream_name>PROCESSED_DT</stream_name>
      </field>
      <field>
        <column_name>PROCESSED_MONTH</column_name>
        <stream_name>PROCESSED_MONTH</stream_name>
      </field>
      <field>
        <column_name>CYCLE_START_DATE</column_name>
        <stream_name>CYCLE_START_DATE</stream_name>
      </field>
      <field>
        <column_name>CYCLE_START_MONTH</column_name>
        <stream_name>CYCLE_START_MONTH</stream_name>
      </field>
      <field>
        <column_name>LINK_JEOPARDY_STATUS</column_name>
        <stream_name>LINK_JEOPARDY_STATUS</stream_name>
      </field>
      <field>
        <column_name>SCAN_PROCESSED_MONTH</column_name>
        <stream_name>SCAN_PROCESSED_MONTH</stream_name>
      </field>
      <field>
        <column_name>FACILITY_RECEIPT_DATE</column_name>
        <stream_name>FACILITY_RECEIPT_DATE</stream_name>
      </field>
      <field>
        <column_name>DS_TASK_TYPE</column_name>
        <stream_name>DS_TASK_TYPE</stream_name>
      </field>
      <field>
        <column_name>BUSINESS_UNIT_NAME</column_name>
        <stream_name>BUSINESS_UNIT_NAME</stream_name>
      </field>
      <field>
        <column_name>FOLSOM_RECEIPT_DATE</column_name>
        <stream_name>FOLSOM_RECEIPT_DATE</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>796</xloc>
      <yloc>148</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Merge Rows (diff)</name>
    <type>MergeRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <keys>
      <key>DCN</key>
      <key>CREATE_DT</key>
      <key>link_id</key>
      <key>batch_id</key>
    </keys>
    <values>
      <value>DCN</value>
      <value>CREATE_DT</value>
      <value>RECEIVED_DT</value>
      <value>DOC_TYPE_CD</value>
      <value>PAGE_COUNT</value>
      <value>ECN</value>
      <value>KOFAX_DCN</value>
      <value>BATCH_ID</value>
      <value>BATCH_NAME</value>
      <value>CHANNEL</value>
      <value>DOC_STATUS_CD</value>
      <value>DOC_STATUS_DT</value>
      <value>DOC_UPDATE_DT</value>
      <value>DOC_UPDATED_BY_STAFF_ID</value>
      <value>PRIORITY</value>
      <value>APP_DOC_DATA_ID</value>
      <value>FORM_TYPE_CD</value>
      <value>SCAN_DT</value>
      <value>RELEASE_DT</value>
      <value>MAXE_ORIGINATION_DT</value>
      <value>RESCANNED_IND</value>
      <value>RETURN_MAIL_IND</value>
      <value>RETURN_MAIL_REASON</value>
      <value>RESCAN_COUNT</value>
      <value>NOTE_ID</value>
      <value>EXPEDITED_IND</value>
      <value>RESEARCH_REQUESTED_IND</value>
      <value>ORIG_DOC_TYPE_CD</value>
      <value>ORIG_DOC_FORM_TYPE_CD</value>
      <value>TRASHED_DOC_IND</value>
      <value>TRASHED_BY</value>
      <value>TRASHED_DT</value>
      <value>FORM_TYPE</value>
      <value>LINK_ID</value>
      <value>LINKED_CLIENT</value>
      <value>AUTO_LINKED_IND</value>
      <value>LINK_DT</value>
      <value>TIMELINESS_DAYS</value>
      <value>TIMELINESS_DAYS_TYPE</value>
      <value>JEOPARDY_DAYS</value>
      <value>JEOPARDY_DAYS_TYPE</value>
      <value>CURR_AGE_IN_CALENDAR_DAYS</value>
      <value>CURR_AGE_IN_BUSINESS_DAYS</value>
      <value>CURR_JEOPARDY_FLAG</value>
      <value>CURR_TIMELINESS_STATUS</value>
      <value>INSTANCE_STATUS</value>
      <value>COMPLETE_DT</value>
      <value>CANCEL_DT</value>
      <value>CANCEL_REASON</value>
      <value>CANCEL_METHOD</value>
      <value>AUTO_POPULATE</value>
      <value>KOFAX_STATION_ID</value>
      <value>LINK_SLA_TIMELINESS</value>
      <value>LINK_BUSINESS_DAYS_AGE</value>
      <value>LINK_CALENDAR_DAYS_AGE</value>
      <value>LINK_SLA_DAYS</value>
      <value>LINKED_BY</value>
      <value>RECIPIENT_ID</value>
      <value>DS_TASK_COMPLETE_DATE</value>
      <value>PROCESSED_DT</value>
      <value>PROCESSED_MONTH</value>
      <value>CYCLE_START_DATE</value>
      <value>CYCLE_START_MONTH</value>
      <value>LINK_JEOPARDY_STATUS</value>
      <value>SCAN_PROCESSED_MONTH</value>
      <value>FACILITY_RECEIPT_DATE</value>
      <value>DS_TASK_TYPE</value>
      <value>BUSINESS_UNIT_NAME</value>
      <value>FOLSOM_RECEIPT_DATE</value>
    </values>
    <flag_field>flagfield</flag_field>
    <reference>Select values MAXDAT</reference>
    <compare>Select values Source</compare>
    <compare>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>459</xloc>
      <yloc>323</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Select values MAXDAT</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>DCN</name>
      </field>
      <field>
        <name>CREATE_DT</name>
      </field>
      <field>
        <name>RECEIVED_DT</name>
      </field>
      <field>
        <name>DOC_TYPE_CD</name>
      </field>
      <field>
        <name>PAGE_COUNT</name>
      </field>
      <field>
        <name>ECN</name>
      </field>
      <field>
        <name>KOFAX_DCN</name>
      </field>
      <field>
        <name>BATCH_ID</name>
      </field>
      <field>
        <name>BATCH_NAME</name>
      </field>
      <field>
        <name>CHANNEL</name>
      </field>
      <field>
        <name>DOC_STATUS_CD</name>
      </field>
      <field>
        <name>DOC_STATUS_DT</name>
      </field>
      <field>
        <name>DOC_UPDATE_DT</name>
      </field>
      <field>
        <name>DOC_UPDATED_BY_STAFF_ID</name>
      </field>
      <field>
        <name>PRIORITY</name>
      </field>
      <field>
        <name>APP_DOC_DATA_ID</name>
      </field>
      <field>
        <name>FORM_TYPE_CD</name>
      </field>
      <field>
        <name>SCAN_DT</name>
      </field>
      <field>
        <name>RELEASE_DT</name>
      </field>
      <field>
        <name>MAXE_ORIGINATION_DT</name>
      </field>
      <field>
        <name>RESCANNED_IND</name>
      </field>
      <field>
        <name>RETURN_MAIL_IND</name>
      </field>
      <field>
        <name>RETURN_MAIL_REASON</name>
      </field>
      <field>
        <name>RESCAN_COUNT</name>
      </field>
      <field>
        <name>NOTE_ID</name>
      </field>
      <field>
        <name>EXPEDITED_IND</name>
      </field>
      <field>
        <name>RESEARCH_REQUESTED_IND</name>
      </field>
      <field>
        <name>ORIG_DOC_TYPE_CD</name>
      </field>
      <field>
        <name>ORIG_DOC_FORM_TYPE_CD</name>
      </field>
      <field>
        <name>TRASHED_DOC_IND</name>
      </field>
      <field>
        <name>TRASHED_BY</name>
      </field>
      <field>
        <name>TRASHED_DT</name>
      </field>
      <field>
        <name>FORM_TYPE</name>
      </field>
      <field>
        <name>LINK_ID</name>
      </field>
      <field>
        <name>LINKED_CLIENT</name>
      </field>
      <field>
        <name>AUTO_LINKED_IND</name>
      </field>
      <field>
        <name>LINK_DT</name>
      </field>
      <field>
        <name>TIMELINESS_DAYS</name>
      </field>
      <field>
        <name>TIMELINESS_DAYS_TYPE</name>
      </field>
      <field>
        <name>JEOPARDY_DAYS</name>
      </field>
      <field>
        <name>JEOPARDY_DAYS_TYPE</name>
      </field>
      <field>
        <name>CURR_AGE_IN_CALENDAR_DAYS</name>
      </field>
      <field>
        <name>CURR_AGE_IN_BUSINESS_DAYS</name>
      </field>
      <field>
        <name>CURR_JEOPARDY_FLAG</name>
      </field>
      <field>
        <name>CURR_TIMELINESS_STATUS</name>
      </field>
      <field>
        <name>INSTANCE_STATUS</name>
      </field>
      <field>
        <name>COMPLETE_DT</name>
      </field>
      <field>
        <name>CANCEL_DT</name>
      </field>
      <field>
        <name>CANCEL_REASON</name>
      </field>
      <field>
        <name>CANCEL_METHOD</name>
      </field>
      <field>
        <name>AUTO_POPULATE</name>
      </field>
      <field>
        <name>KOFAX_STATION_ID</name>
      </field>
      <field>
        <name>LINK_SLA_TIMELINESS</name>
      </field>
      <field>
        <name>LINK_BUSINESS_DAYS_AGE</name>
      </field>
      <field>
        <name>LINK_CALENDAR_DAYS_AGE</name>
      </field>
      <field>
        <name>LINK_SLA_DAYS</name>
      </field>
      <field>
        <name>LINKED_BY</name>
      </field>
      <field>
        <name>RECIPIENT_ID</name>
      </field>
      <field>
        <name>DS_TASK_COMPLETE_DATE</name>
      </field>
      <field>
        <name>PROCESSED_DT</name>
      </field>
      <field>
        <name>PROCESSED_MONTH</name>
      </field>
      <field>
        <name>CYCLE_START_DATE</name>
      </field>
      <field>
        <name>CYCLE_START_MONTH</name>
      </field>
      <field>
        <name>LINK_JEOPARDY_STATUS</name>
      </field>
      <field>
        <name>SCAN_PROCESSED_MONTH</name>
      </field>
      <field>
        <name>FACILITY_RECEIPT_DATE</name>
      </field>
      <field>
        <name>DS_TASK_TYPE</name>
      </field>
      <field>
        <name>BUSINESS_UNIT_NAME</name>
      </field>
      <field>
        <name>FOLSOM_RECEIPT_DATE</name>
      </field>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>BATCH_ID</name>
        <rename>BATCH_ID</rename>
        <type>BigNumber</type>
        <length>22</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>344</xloc>
      <yloc>409</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Select values Source</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>DCN</name>
      </field>
      <field>
        <name>CREATE_DT</name>
      </field>
      <field>
        <name>RECEIVED_DT</name>
      </field>
      <field>
        <name>DOC_TYPE_CD</name>
      </field>
      <field>
        <name>PAGE_COUNT</name>
      </field>
      <field>
        <name>ECN</name>
      </field>
      <field>
        <name>KOFAX_DCN</name>
      </field>
      <field>
        <name>BATCH_ID</name>
      </field>
      <field>
        <name>BATCH_NAME</name>
      </field>
      <field>
        <name>CHANNEL</name>
      </field>
      <field>
        <name>DOC_STATUS_CD</name>
      </field>
      <field>
        <name>DOC_STATUS_DT</name>
      </field>
      <field>
        <name>DOC_UPDATE_DT</name>
      </field>
      <field>
        <name>DOC_UPDATED_BY_STAFF_ID</name>
      </field>
      <field>
        <name>PRIORITY</name>
      </field>
      <field>
        <name>APP_DOC_DATA_ID</name>
      </field>
      <field>
        <name>FORM_TYPE_CD</name>
      </field>
      <field>
        <name>SCAN_DT</name>
      </field>
      <field>
        <name>RELEASE_DT</name>
      </field>
      <field>
        <name>MAXE_ORIGINATION_DT</name>
      </field>
      <field>
        <name>RESCANNED_IND</name>
      </field>
      <field>
        <name>RETURN_MAIL_IND</name>
      </field>
      <field>
        <name>RETURN_MAIL_REASON</name>
      </field>
      <field>
        <name>RESCAN_COUNT</name>
      </field>
      <field>
        <name>NOTE_ID</name>
      </field>
      <field>
        <name>EXPEDITED_IND</name>
      </field>
      <field>
        <name>RESEARCH_REQUESTED_IND</name>
      </field>
      <field>
        <name>ORIG_DOC_TYPE_CD</name>
      </field>
      <field>
        <name>ORIG_DOC_FORM_TYPE_CD</name>
      </field>
      <field>
        <name>TRASHED_DOC_IND</name>
      </field>
      <field>
        <name>TRASHED_BY</name>
      </field>
      <field>
        <name>TRASHED_DT</name>
      </field>
      <field>
        <name>FORM_TYPE</name>
      </field>
      <field>
        <name>LINK_ID</name>
      </field>
      <field>
        <name>LINKED_CLIENT</name>
      </field>
      <field>
        <name>AUTO_LINKED_IND</name>
      </field>
      <field>
        <name>LINK_DT</name>
      </field>
      <field>
        <name>TIMELINESS_DAYS</name>
      </field>
      <field>
        <name>TIMELINESS_DAYS_TYPE</name>
      </field>
      <field>
        <name>JEOPARDY_DAYS</name>
      </field>
      <field>
        <name>JEOPARDY_DAYS_TYPE</name>
      </field>
      <field>
        <name>CURR_AGE_IN_CALENDAR_DAYS</name>
      </field>
      <field>
        <name>CURR_AGE_IN_BUSINESS_DAYS</name>
      </field>
      <field>
        <name>CURR_JEOPARDY_FLAG</name>
      </field>
      <field>
        <name>CURR_TIMELINESS_STATUS</name>
      </field>
      <field>
        <name>INSTANCE_STATUS</name>
      </field>
      <field>
        <name>COMPLETE_DT</name>
      </field>
      <field>
        <name>CANCEL_DT</name>
      </field>
      <field>
        <name>CANCEL_REASON</name>
      </field>
      <field>
        <name>CANCEL_METHOD</name>
      </field>
      <field>
        <name>AUTO_POPULATE</name>
      </field>
      <field>
        <name>KOFAX_STATION_ID</name>
      </field>
      <field>
        <name>LINK_SLA_TIMELINESS</name>
      </field>
      <field>
        <name>LINK_BUSINESS_DAYS_AGE</name>
      </field>
      <field>
        <name>LINK_CALENDAR_DAYS_AGE</name>
      </field>
      <field>
        <name>LINK_SLA_DAYS</name>
      </field>
      <field>
        <name>LINKED_BY</name>
      </field>
      <field>
        <name>RECIPIENT_ID</name>
      </field>
      <field>
        <name>DS_TASK_COMPLETE_DATE</name>
      </field>
      <field>
        <name>PROCESSED_DT</name>
      </field>
      <field>
        <name>PROCESSED_MONTH</name>
      </field>
      <field>
        <name>CYCLE_START_DATE</name>
      </field>
      <field>
        <name>CYCLE_START_MONTH</name>
      </field>
      <field>
        <name>LINK_JEOPARDY_STATUS</name>
      </field>
      <field>
        <name>SCAN_PROCESSED_MONTH</name>
      </field>
      <field>
        <name>FACILITY_RECEIPT_DATE</name>
      </field>
      <field>
        <name>DS_TASK_TYPE</name>
      </field>
      <field>
        <name>BUSINESS_UNIT_NAME</name>
      </field>
      <field>
        <name>FOLSOM_RECEIPT_DATE</name>
      </field>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>BATCH_ID</name>
        <rename>BATCH_ID</rename>
        <type>BigNumber</type>
        <length>22</length>
        <precision>0</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>344</xloc>
      <yloc>218</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Table output - Corp_ETL_Error_Log</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <schema/>
    <table>CORP_ETL_ERROR_LOG</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>NR_OF_ERROR</column_name>
        <stream_name>ERR_NR</stream_name>
      </field>
      <field>
        <column_name>ERROR_DESC</column_name>
        <stream_name>ERR_DESC</stream_name>
      </field>
      <field>
        <column_name>ERROR_FIELD</column_name>
        <stream_name>ERR_FLD</stream_name>
      </field>
      <field>
        <column_name>ERROR_CODES</column_name>
        <stream_name>ERR_CD</stream_name>
      </field>
      <field>
        <column_name>ERR_DATE</column_name>
        <stream_name>error_date</stream_name>
      </field>
      <field>
        <column_name>ERR_LEVEL</column_name>
        <stream_name>ERR_LEVEL</stream_name>
      </field>
      <field>
        <column_name>PROCESS_NAME</column_name>
        <stream_name>PROCESS_NAME</stream_name>
      </field>
      <field>
        <column_name>JOB_NAME</column_name>
        <stream_name>JOB_NAME</stream_name>
      </field>
      <field>
        <column_name>DRIVER_TABLE_NAME</column_name>
        <stream_name>DRIVER_TABLE_NAME</stream_name>
      </field>
      <field>
        <column_name>DRIVER_KEY_NUMBER</column_name>
        <stream_name>DCN</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>932</xloc>
      <yloc>368</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Table output - Corp_ETL_Error_Log 2</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <schema/>
    <table>CORP_ETL_ERROR_LOG</table>
    <commit>1000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>NR_OF_ERROR</column_name>
        <stream_name>ERR_NR</stream_name>
      </field>
      <field>
        <column_name>ERROR_DESC</column_name>
        <stream_name>ERR_DESC</stream_name>
      </field>
      <field>
        <column_name>ERROR_FIELD</column_name>
        <stream_name>ERR_FLD</stream_name>
      </field>
      <field>
        <column_name>ERROR_CODES</column_name>
        <stream_name>ERR_CD</stream_name>
      </field>
      <field>
        <column_name>ERR_DATE</column_name>
        <stream_name>error_date</stream_name>
      </field>
      <field>
        <column_name>ERR_LEVEL</column_name>
        <stream_name>ERR_LEVEL</stream_name>
      </field>
      <field>
        <column_name>PROCESS_NAME</column_name>
        <stream_name>PROCESS_NAME</stream_name>
      </field>
      <field>
        <column_name>JOB_NAME</column_name>
        <stream_name>JOB_NAME</stream_name>
      </field>
      <field>
        <column_name>DRIVER_TABLE_NAME</column_name>
        <stream_name>DRIVER_TABLE_NAME</stream_name>
      </field>
      <field>
        <column_name>DRIVER_KEY_NUMBER</column_name>
        <stream_name>LINK_ID</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1071</xloc>
      <yloc>788</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Update D_MFD_CURRENT</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>5</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>MAXDAT</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>D_MFD_CURRENT</table>
      <key>
        <name>DCN</name>
        <field>DCN</field>
        <condition>=</condition>
        <name2/>
      </key>
      <key>
        <name>CREATE_DT</name>
        <field>CREATE_DT</field>
        <condition>=</condition>
        <name2/>
      </key>
      <key>
        <name>LINK_ID</name>
        <field>LINK_ID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <key>
        <name>BATCH_ID</name>
        <field>BATCH_ID</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>RECEIVED_DT</name>
        <rename>RECEIVED_DT</rename>
      </value>
      <value>
        <name>DOC_TYPE_CD</name>
        <rename>DOC_TYPE_CD</rename>
      </value>
      <value>
        <name>PAGE_COUNT</name>
        <rename>PAGE_COUNT</rename>
      </value>
      <value>
        <name>ECN</name>
        <rename>ECN</rename>
      </value>
      <value>
        <name>KOFAX_DCN</name>
        <rename>KOFAX_DCN</rename>
      </value>
      <value>
        <name>BATCH_NAME</name>
        <rename>BATCH_NAME</rename>
      </value>
      <value>
        <name>CHANNEL</name>
        <rename>CHANNEL</rename>
      </value>
      <value>
        <name>DOC_STATUS_CD</name>
        <rename>DOC_STATUS_CD</rename>
      </value>
      <value>
        <name>DOC_STATUS_DT</name>
        <rename>DOC_STATUS_DT</rename>
      </value>
      <value>
        <name>DOC_UPDATE_DT</name>
        <rename>DOC_UPDATE_DT</rename>
      </value>
      <value>
        <name>DOC_UPDATED_BY_STAFF_ID</name>
        <rename>DOC_UPDATED_BY_STAFF_ID</rename>
      </value>
      <value>
        <name>PRIORITY</name>
        <rename>PRIORITY</rename>
      </value>
      <value>
        <name>APP_DOC_DATA_ID</name>
        <rename>APP_DOC_DATA_ID</rename>
      </value>
      <value>
        <name>FORM_TYPE_CD</name>
        <rename>FORM_TYPE_CD</rename>
      </value>
      <value>
        <name>SCAN_DT</name>
        <rename>SCAN_DT</rename>
      </value>
      <value>
        <name>RELEASE_DT</name>
        <rename>RELEASE_DT</rename>
      </value>
      <value>
        <name>MAXE_ORIGINATION_DT</name>
        <rename>MAXE_ORIGINATION_DT</rename>
      </value>
      <value>
        <name>RESCANNED_IND</name>
        <rename>RESCANNED_IND</rename>
      </value>
      <value>
        <name>RETURN_MAIL_IND</name>
        <rename>RETURN_MAIL_IND</rename>
      </value>
      <value>
        <name>RETURN_MAIL_REASON</name>
        <rename>RETURN_MAIL_REASON</rename>
      </value>
      <value>
        <name>RESCAN_COUNT</name>
        <rename>RESCAN_COUNT</rename>
      </value>
      <value>
        <name>NOTE_ID</name>
        <rename>NOTE_ID</rename>
      </value>
      <value>
        <name>EXPEDITED_IND</name>
        <rename>EXPEDITED_IND</rename>
      </value>
      <value>
        <name>RESEARCH_REQUESTED_IND</name>
        <rename>RESEARCH_REQUESTED_IND</rename>
      </value>
      <value>
        <name>ORIG_DOC_TYPE_CD</name>
        <rename>ORIG_DOC_TYPE_CD</rename>
      </value>
      <value>
        <name>ORIG_DOC_FORM_TYPE_CD</name>
        <rename>ORIG_DOC_FORM_TYPE_CD</rename>
      </value>
      <value>
        <name>TRASHED_DOC_IND</name>
        <rename>TRASHED_DOC_IND</rename>
      </value>
      <value>
        <name>TRASHED_BY</name>
        <rename>TRASHED_BY</rename>
      </value>
      <value>
        <name>TRASHED_DT</name>
        <rename>TRASHED_DT</rename>
      </value>
      <value>
        <name>FORM_TYPE</name>
        <rename>FORM_TYPE</rename>
      </value>
      <value>
        <name>LINKED_CLIENT</name>
        <rename>LINKED_CLIENT</rename>
      </value>
      <value>
        <name>AUTO_LINKED_IND</name>
        <rename>AUTO_LINKED_IND</rename>
      </value>
      <value>
        <name>LINK_DT</name>
        <rename>LINK_DT</rename>
      </value>
      <value>
        <name>TIMELINESS_DAYS</name>
        <rename>TIMELINESS_DAYS</rename>
      </value>
      <value>
        <name>TIMELINESS_DAYS_TYPE</name>
        <rename>TIMELINESS_DAYS_TYPE</rename>
      </value>
      <value>
        <name>JEOPARDY_DAYS</name>
        <rename>JEOPARDY_DAYS</rename>
      </value>
      <value>
        <name>JEOPARDY_DAYS_TYPE</name>
        <rename>JEOPARDY_DAYS_TYPE</rename>
      </value>
      <value>
        <name>CURR_AGE_IN_CALENDAR_DAYS</name>
        <rename>CURR_AGE_IN_CALENDAR_DAYS</rename>
      </value>
      <value>
        <name>CURR_AGE_IN_BUSINESS_DAYS</name>
        <rename>CURR_AGE_IN_BUSINESS_DAYS</rename>
      </value>
      <value>
        <name>CURR_JEOPARDY_FLAG</name>
        <rename>CURR_JEOPARDY_FLAG</rename>
      </value>
      <value>
        <name>CURR_TIMELINESS_STATUS</name>
        <rename>CURR_TIMELINESS_STATUS</rename>
      </value>
      <value>
        <name>INSTANCE_STATUS</name>
        <rename>INSTANCE_STATUS</rename>
      </value>
      <value>
        <name>COMPLETE_DT</name>
        <rename>COMPLETE_DT</rename>
      </value>
      <value>
        <name>CANCEL_DT</name>
        <rename>CANCEL_DT</rename>
      </value>
      <value>
        <name>CANCEL_REASON</name>
        <rename>CANCEL_REASON</rename>
      </value>
      <value>
        <name>CANCEL_METHOD</name>
        <rename>CANCEL_METHOD</rename>
      </value>
      <value>
        <name>AUTO_POPULATE</name>
        <rename>AUTO_POPULATE</rename>
      </value>
      <value>
        <name>KOFAX_STATION_ID</name>
        <rename>KOFAX_STATION_ID</rename>
      </value>
      <value>
        <name>LINK_SLA_TIMELINESS</name>
        <rename>LINK_SLA_TIMELINESS</rename>
      </value>
      <value>
        <name>LINK_BUSINESS_DAYS_AGE</name>
        <rename>LINK_BUSINESS_DAYS_AGE</rename>
      </value>
      <value>
        <name>LINK_CALENDAR_DAYS_AGE</name>
        <rename>LINK_CALENDAR_DAYS_AGE</rename>
      </value>
      <value>
        <name>LINK_SLA_DAYS</name>
        <rename>LINK_SLA_DAYS</rename>
      </value>
      <value>
        <name>LINKED_BY</name>
        <rename>LINKED_BY</rename>
      </value>
      <value>
        <name>RECIPIENT_ID</name>
        <rename>RECIPIENT_ID</rename>
      </value>
      <value>
        <name>DS_TASK_COMPLETE_DATE</name>
        <rename>DS_TASK_COMPLETE_DATE</rename>
      </value>
      <value>
        <name>PROCESSED_DT</name>
        <rename>PROCESSED_DT</rename>
      </value>
      <value>
        <name>PROCESSED_MONTH</name>
        <rename>PROCESSED_MONTH</rename>
      </value>
      <value>
        <name>CYCLE_START_DATE</name>
        <rename>CYCLE_START_DATE</rename>
      </value>
      <value>
        <name>CYCLE_START_MONTH</name>
        <rename>CYCLE_START_MONTH</rename>
      </value>
      <value>
        <name>LINK_JEOPARDY_STATUS</name>
        <rename>LINK_JEOPARDY_STATUS</rename>
      </value>
      <value>
        <name>SCAN_PROCESSED_MONTH</name>
        <rename>SCAN_PROCESSED_MONTH</rename>
      </value>
      <value>
        <name>FACILITY_RECEIPT_DATE</name>
        <rename>FACILITY_RECEIPT_DATE</rename>
      </value>
      <value>
        <name>DS_TASK_TYPE</name>
        <rename>DS_TASK_TYPE</rename>
      </value>
      <value>
        <name>BUSINESS_UNIT_NAME</name>
        <rename>BUSINESS_UNIT_NAME</rename>
      </value>
      <value>
        <name>FOLSOM_RECEIPT_DATE</name>
        <rename>FOLSOM_RECEIPT_DATE</rename>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>937</xloc>
      <yloc>567</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
    <error>
      <source_step>Insert D_MFD_CURRENT</source_step>
      <target_step>Get System Info</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename>ERR_NR</nr_valuename>
      <descriptions_valuename>ERR_DESC</descriptions_valuename>
      <fields_valuename>ERR_FLD</fields_valuename>
      <codes_valuename>ERR_CD</codes_valuename>
      <max_errors>999999</max_errors>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
    <error>
      <source_step>Update D_MFD_CURRENT</source_step>
      <target_step>Get System Info 2</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename>ERR_NR</nr_valuename>
      <descriptions_valuename>ERR_DESC</descriptions_valuename>
      <fields_valuename>ERR_FLD</fields_valuename>
      <codes_valuename>ERR_CD</codes_valuename>
      <max_errors>999999</max_errors>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
  <attributes/>
</transformation>
