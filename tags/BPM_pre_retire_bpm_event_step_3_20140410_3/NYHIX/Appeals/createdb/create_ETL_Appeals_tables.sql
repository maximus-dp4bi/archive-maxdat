--create all NYHIX Appeals staging tables

CREATE TABLE "NYHBE_ETL_PROCESS_APPEALS"
("NEPA_ID" NUMBER NOT NULL ENABLE,     
 "INCIDENT_ID" NUMBER(18,0) NOT NULL ENABLE,     
 "INCIDENT_TYPE" VARCHAR2(80),     
 "CREATE_DT" DATE,     
 "CREATED_BY_NAME" VARCHAR2(100),     
 "CREATED_BY_GROUP" VARCHAR2(80),     
 "CHANNEL" VARCHAR2(80),     
 "TRACKING_NUMBER" VARCHAR2(32),     
 "APPEAL_DT" VARCHAR2(64), --datatype in the source system     
 "RECEIPT_DT" DATE,     
 "INCIDENT_ABOUT" VARCHAR2(80),     
 --"INCIDENT_REASON" VARCHAR2(80),     
 "INCIDENT_STATUS_DT" DATE,     
 "LAST_UPDATE_BY_NAME" VARCHAR2(100),     
 "LAST_UPDATE_BY_DT" DATE,     
 "REPORTED_BY" VARCHAR2(80),     
 "REPORTER_RELATIONSHIP" VARCHAR2(64),     
 "LINKED_CLIENT" NUMBER(18,0),     
 "CASE_ID" NUMBER(18,0),     
 "OTHER_PARTY_NAME" VARCHAR2(64),     
 "INSTANCE_STATUS" VARCHAR2(10),     
 "INCIDENT_DESCRIPTION" VARCHAR2(4000),     
 "INCIDENT_STATUS" VARCHAR2(80),     
 "PRIORITY" VARCHAR2(256),     
 "APPELLANT_TYPE" VARCHAR2(32),     
 "APPELLANT_TYPE_DESC" VARCHAR2(64),     
--"ENROLLMENT_STATUS" VARCHAR2(32),     
 "ABOUT_PLAN_CODE" VARCHAR2(32),     
 "ABOUT_PLAN_NAME" VARCHAR2(64),     
 "ABOUT_PROVIDER_ID" NUMBER(18,0),     
 "ABOUT_PROVIDER_NAME" VARCHAR2(100),     
 "ACTION_COMMENTS" VARCHAR2(4000),     
 "ACTION_TYPE" VARCHAR2(64),     
 "REQUESTED_DAY" VARCHAR2(32)  ,      
 "REQUESTED_TIME" VARCHAR2(32),     
 "APPEAL_HEARING_TIME" VARCHAR2(64),     
 "APPEAL_HEARING_DT" DATE,     
 "APPEAL_HEARING_LOCATION" VARCHAR2(64),     
 "AID_TO_CONTINUE" VARCHAR2(1) DEFAULT 'N',     
 "EXPECTED_REQUEST" NUMBER (1)   ,      
 "CURRENT_TASK_ID" NUMBER(18,0),     
 "RESOLUTION_DESCRIPTION" VARCHAR2(4000),      
 "RESOLUTION_TYPE" VARCHAR2(64),
 "CANCEL_BY" VARCHAR2(80),
 "CANCEL_DT" DATE,     
 "CANCEL_REASON" VARCHAR2(100),
 "CANCEL_METHOD" VARCHAR2(40),
 "ASSD_REVIEW_APPEAL" DATE,     
 "ASED_REVIEW_APPEAL" DATE,     
 "ASPB_REVIEW_APPEAL" VARCHAR2(100),     
 "ASF_REVIEW_APPEAL" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_DETERMINE_VALID" DATE,     
 "ASED_DETERMINE_VALID" DATE,     
 "ASPB_DETERMINE_VALID" VARCHAR2(100),     
 "ASF_DETERMINE_VALID" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_PROC_VALID_AMEND" DATE,     
 "ASED_PROC_VALID_AMEND" DATE,     
 "ASPB_PROC_VALID_AMEND" VARCHAR2(100),     
 "ASF_PROC_VALID_AMEND" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_GATHER_MISS_INFO" DATE,     
 "ASED_GATHER_MISS_INFO" DATE,     
 "ASPB_GATHER_MISS_INFO" VARCHAR2(100),     
 "ASF_GATHER_MISS_INFO" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_SHOP_REVIEW" DATE,     
 "ASED_SHOP_REVIEW" DATE,     
 "ASPB_SHOP_REVIEW" VARCHAR2(100),     
 "ASF_SHOP_REVIEW" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_SCHEDULE_HEARING" DATE,     
 "ASED_SCHEDULE_HEARING" DATE,     
 "ASPB_SCHEDULE_HEARING" VARCHAR2(100),     
 "ASF_SCHEDULE_HEARING" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_CON_HEARING_PROC" DATE,     
 "ASED_CON_HEARING_PROC" DATE,     
 "ASPB_CON_HEARING_PROC" VARCHAR2(100),     
 "ASF_CON_HEARING_PROC" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_CONDUCT_ST_REV" DATE,     
 "ASED_CONDUCT_ST_REV" DATE,     
 "ASPB_CONDUCT_ST_REV" VARCHAR2(100),     
 "ASF_CONDUCT_ST_REV" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_CANCEL_HEARING" DATE,     
 "ASED_CANCEL_HEARING" DATE,     
 "ASPB_CANCEL_HEARING" VARCHAR2(100),     
 "ASF_CANCEL_HEARING" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_ADVISE_WITHDRAW" DATE,     
 "ASED_ADVISE_WITHDRAW" DATE,     
 "ASPB_ADVISE_WITHDRAW" VARCHAR2(100),     
 "ASF_ADVISE_WITHDRAW" VARCHAR2(1) DEFAULT 'N',     
 "STG_EXTRACT_DATE" DATE DEFAULT SYSDATE NOT NULL ENABLE,     
 "STG_LAST_UPDATE_DATE" DATE DEFAULT SYSDATE NOT NULL ENABLE,  
 "GWF_CHANNEL" VARCHAR2(1),
 "GWF_APPEAL_INVALID" VARCHAR2(1),
 "GWF_CHANGE_ELIGIBILITY" VARCHAR2(1),
 "GWF_VALID" VARCHAR2(1),
 "GWF_SHOP_REVIEW" VARCHAR2(1),
 "GWF_RESOLVED" VARCHAR2(1),
 "GWF_WITHDRAWN_IN_WRITING" VARCHAR2(1),
 "STAGE_DONE_DT" DATE,
 "INSTANCE_COMPLETE_DT" DATE,
 "COMPLETE_DT" DATE,
 "RECEIVED_DT" DATE,
 "CURRENT_STEP" VARCHAR2(256),
 "MAX_INCI_STAT_HIST_ID" NUMBER
)TABLESPACE MAXDAT_DATA PARALLEL;
   

-- Add comments to the columns 
comment on column NYHBE_ETL_PROCESS_APPEALS.INCIDENT_ID is 'Incident ID is the MAXe defined unique identifier assigned to each incident created in the system.';
comment on column NYHBE_ETL_PROCESS_APPEALS.INCIDENT_TYPE is 'The type of incident';
comment on column NYHBE_ETL_PROCESS_APPEALS.CREATE_DT is 'The date/time that the MAXE instance is started';
comment on column NYHBE_ETL_PROCESS_APPEALS.CREATED_BY_NAME is 'Name of the staff member that created the incident in the source system. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.CREATED_BY_GROUP is 'The system description for the Staff Group that the user was logged in as when the incident was created. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.CHANNEL is 'Channel identifies the method by which the incident was received.';
comment on column NYHBE_ETL_PROCESS_APPEALS.TRACKING_NUMBER is 'The public ID of the incident that is searchable and known to the outside world.';
comment on column NYHBE_ETL_PROCESS_APPEALS.APPEAL_DT is 'The date and time the appeal was entered through the NYHBE system. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.RECEIPT_DT is 'The date the incident was received by MAXIMUS';
comment on column NYHBE_ETL_PROCESS_APPEALS.INCIDENT_ABOUT is 'The topic area that an Appeal describes.';
--comment on column NYHBE_ETL_PROCESS_APPEALS.INCIDENT_REASON is 'This is a free form text field in the portal available to only Individual Appeals.     ';
comment on column NYHBE_ETL_PROCESS_APPEALS.INCIDENT_STATUS_DT is 'This is the status date/time when the incident status is assigned by the user during the process.';
comment on column NYHBE_ETL_PROCESS_APPEALS.LAST_UPDATE_BY_NAME is 'Name of the staff member that last claimed, modified, worked, escalated, or forwarded the incident. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.LAST_UPDATE_BY_DT is 'Timestamp when the incident was last updated in source system.';
comment on column NYHBE_ETL_PROCESS_APPEALS.REPORTED_BY is 'Reporter classifies the individual or organization that has reported the incident to MAXIMUS.';
comment on column NYHBE_ETL_PROCESS_APPEALS.REPORTER_RELATIONSHIP is 'The relationship of the reporter to the entity involved in the IDR.';
comment on column NYHBE_ETL_PROCESS_APPEALS.LINKED_CLIENT is 'The client that the incident is associated with ';
comment on column NYHBE_ETL_PROCESS_APPEALS.CASE_ID is 'The case identifier for the enrollee or potential enrollee submitting the incident if / when the incident is associated to a case in MAXe.';
comment on column NYHBE_ETL_PROCESS_APPEALS.OTHER_PARTY_NAME is 'A brief description of an affected party such as the name of a CSR.';
comment on column NYHBE_ETL_PROCESS_APPEALS.INSTANCE_STATUS is 'Indicates if the instance is in process or not.';
comment on column NYHBE_ETL_PROCESS_APPEALS.INCIDENT_DESCRIPTION is 'Free text field to document Incident description';
comment on column NYHBE_ETL_PROCESS_APPEALS.INCIDENT_STATUS is 'This is the incident status assigned by the user during the process.';
comment on column NYHBE_ETL_PROCESS_APPEALS.PRIORITY is 'An assignment by the project to group incidents such that they can be completed outside first-in-first-out (FIFO) strategy. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.APPELLANT_TYPE is 'Type of appellant';
comment on column NYHBE_ETL_PROCESS_APPEALS.APPELLANT_TYPE_DESC is 'Description of the Appellant Type';
comment on column NYHBE_ETL_PROCESS_APPEALS.ABOUT_PLAN_CODE is 'The MAXe unique identifier for the plan about which the reporter is calling. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ABOUT_PROVIDER_ID is 'The MAXe unique identifier for the provider about whom the reporter is calling. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ACTION_COMMENTS is 'Free text field to document Actions taken to the incident.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ACTION_TYPE is 'Classifies the action taken by MMS staff on the incident.';
comment on column NYHBE_ETL_PROCESS_APPEALS.REQUESTED_DAY is 'Day of the week';
comment on column NYHBE_ETL_PROCESS_APPEALS.REQUESTED_TIME is 'AM or PM';
comment on column NYHBE_ETL_PROCESS_APPEALS.APPEAL_HEARING_TIME is 'Time of the Hearing. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.APPEAL_HEARING_DT is 'Date of the Hearing.';
comment on column NYHBE_ETL_PROCESS_APPEALS.APPEAL_HEARING_LOCATION is 'The address of the Hearing location. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.AID_TO_CONTINUE is 'Aid to Continue is a checkbox indicating when the appellant indicates they would like to apply for Aid to Continue in the NYHBE portal. ';
comment on column NYHBE_ETL_PROCESS_APPEALS.EXPECTED_REQUEST is 'Expected Appeal Request';
comment on column NYHBE_ETL_PROCESS_APPEALS.CURRENT_TASK_ID is 'The MAXe task ID associated to the incident, if applicable';
comment on column NYHBE_ETL_PROCESS_APPEALS.RESOLUTION_DESCRIPTION is 'Free text field to document Incident Resolution';
comment on column NYHBE_ETL_PROCESS_APPEALS.RESOLUTION_TYPE is 'Classifies resolution determined by Maximus or DOH staff.';
comment on column NYHBE_ETL_PROCESS_APPEALS.INSTANCE_COMPLETE_DT is 'The date the instance is completed';
comment on column NYHBE_ETL_PROCESS_APPEALS.COMPLETE_DT is 'The date the instance is completed';
comment on column NYHBE_ETL_PROCESS_APPEALS.CANCEL_BY is 'The name of the system or performer that cancelled the incident.';
comment on column NYHBE_ETL_PROCESS_APPEALS.CANCEL_DT is 'The Cancel Incident Processing Cancel Date/Time is set when the instance is confirmed cancelled, logically deleted, or otherwise discarded.';
comment on column NYHBE_ETL_PROCESS_APPEALS.CANCEL_METHOD is 'The method in which the instance was cancelled';
comment on column NYHBE_ETL_PROCESS_APPEALS.CANCEL_REASON is 'The reason that the instance was cancelled';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_REVIEW_APPEAL is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_REVIEW_APPEAL is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_REVIEW_APPEAL is 'The person who sets the status that ends the activity step.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_DETERMINE_VALID is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_DETERMINE_VALID is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_DETERMINE_VALID is 'The person who sets the status that ends the activity step.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_PROC_VALID_AMEND is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_PROC_VALID_AMEND is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_PROC_VALID_AMEND is 'The person who sets the status that ends the activity step.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_GATHER_MISS_INFO is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_GATHER_MISS_INFO is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_GATHER_MISS_INFO is 'The person who sets the status that ends the activity step.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_SHOP_REVIEW is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_SHOP_REVIEW is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_SHOP_REVIEW is 'The person who sets the status that ends the activity step.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_SCHEDULE_HEARING is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_SCHEDULE_HEARING is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_SCHEDULE_HEARING is 'The person who sets the status that ends the activity step.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_CON_HEARING_PROC is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_CON_HEARING_PROC is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_CON_HEARING_PROC is 'The person who sets the status that ends the activity step.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_CONDUCT_ST_REV is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_CONDUCT_ST_REV is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_CONDUCT_ST_REV is 'The person who sets the status that ends the activity step.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_CANCEL_HEARING is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_CANCEL_HEARING is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_CANCEL_HEARING is 'The person who sets the status that ends the activity step.';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASSD_ADVISE_WITHDRAW is 'The time/date stamp when the activity step starts.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASED_ADVISE_WITHDRAW is 'The time/date stamp when the activity step ends.  ';
comment on column NYHBE_ETL_PROCESS_APPEALS.ASPB_ADVISE_WITHDRAW is 'The person who sets the status that ends the activity step.';



-- Create/Recreate indexes 

--indexes
create index IDX_NYHBE_APPEALS_CLIENT_ID on NYHBE_ETL_PROCESS_APPEALS (LINKED_CLIENT) TABLESPACE MAXDAT_INDX;
create index IDX_NYHBE_APPEALS_CASE_ID on NYHBE_ETL_PROCESS_APPEALS (CASE_ID) TABLESPACE MAXDAT_INDX;
create index IDX_NYHBE_APPEALS_ABT_PROVID on NYHBE_ETL_PROCESS_APPEALS (ABOUT_PROVIDER_ID) TABLESPACE MAXDAT_INDX;
create index IDX_NYHBE_APPEALS_CUR_TASK_ID on NYHBE_ETL_PROCESS_APPEALS (CURRENT_TASK_ID) TABLESPACE MAXDAT_INDX;

--Constraints
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_REVIEW_APPEAL" CHECK (ASF_REVIEW_APPEAL IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_DETERMINE_VALID" CHECK (ASF_DETERMINE_VALID IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_PROC_VALID_AMEND" check (ASF_PROC_VALID_AMEND IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_GATHER_MISS_INFO" CHECK (ASF_GATHER_MISS_INFO IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_SHOP_REVIEW" CHECK (ASF_SHOP_REVIEW IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_SCHEDULE_HEARING" CHECK (ASF_SCHEDULE_HEARING IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_CON_HEARING_PROC" CHECK (ASF_CON_HEARING_PROC IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_CONDUCT_ST_REV" CHECK (ASF_CONDUCT_ST_REV IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_CANCEL_HEARING" CHECK (ASF_CANCEL_HEARING IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_ASF_ADVISE_WITHDRAW" CHECK (ASF_ADVISE_WITHDRAW IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_GWF_CHANNEL" CHECK (GWF_CHANNEL IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_GWF_APPEAL_INVALID" CHECK (GWF_APPEAL_INVALID IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_GWF_CHANGE_ELIGIBILITY" CHECK (GWF_CHANGE_ELIGIBILITY IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_GWF_VALID" CHECK (GWF_VALID IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_GWF_SHOP_REVIEW" CHECK (GWF_SHOP_REVIEW IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_GWF_RESOLVED" CHECK (GWF_RESOLVED IN ('N','Y'));
alter table NYHBE_ETL_PROCESS_APPEALS add CONSTRAINT "CHECK_GWF_WITHDRAWN_IN_WRITING" CHECK (GWF_WITHDRAWN_IN_WRITING IN ('N','Y'));

--CREATE PRIMARY KEY
alter table  NYHBE_ETL_PROCESS_APPEALS add primary key ("NEPA_ID") using index tablespace MAXDAT_INDX;    

--Unique
ALTER TABLE NYHBE_ETL_PROCESS_APPEALS
add CONSTRAINT NYHBE_PROCESS_APPEALS_UK UNIQUE ("INCIDENT_ID") USING INDEX TABLESPACE MAXDAT_INDX;

--GRANTS & PUBLIC SYNONYMNS
create or replace public synonym NYHBE_ETL_PROCESS_APPEALS for NYHBE_ETL_PROCESS_APPEALS;

Grant select on NYHBE_ETL_PROCESS_APPEALS to MAXDAT_READ_ONLY;
    
--CREATE OLTP TABLE 
CREATE TABLE "NYHBE_PROCESS_APPEALS_OLTP"
("NEPA_ID" NUMBER NOT NULL ENABLE,     
 "INCIDENT_ID" NUMBER(18,0) NOT NULL ENABLE,     
 "INCIDENT_TYPE" VARCHAR2(80),     
 "CREATE_DT" DATE,     
 "CREATED_BY_NAME" VARCHAR2(100),     
 "CREATED_BY_GROUP" VARCHAR2(80),     
 "CHANNEL" VARCHAR2(80),     
 "TRACKING_NUMBER" VARCHAR2(32),     
 "APPEAL_DT"  VARCHAR2(64), --datatype in source system
 "RECEIPT_DT" DATE,     
 "INCIDENT_ABOUT" VARCHAR2(80),     
-- "INCIDENT_REASON" VARCHAR2(80),     
 "INCIDENT_STATUS_DT" DATE,     
 "LAST_UPDATE_BY_NAME" VARCHAR2(100),     
 "LAST_UPDATE_BY_DT" DATE,     
 "REPORTED_BY" VARCHAR2(80),     
 "REPORTER_RELATIONSHIP" VARCHAR2(64),     
 "LINKED_CLIENT" NUMBER(18,0),     
 "CASE_ID" NUMBER(18,0),     
 "OTHER_PARTY_NAME" VARCHAR2(64),     
 "INSTANCE_STATUS" VARCHAR2(10),     
 "INCIDENT_DESCRIPTION" VARCHAR2(4000),      
 "INCIDENT_STATUS" VARCHAR2(80),     
 "PRIORITY" VARCHAR2(256),     
 "APPELLANT_TYPE" VARCHAR2(32),     
 "APPELLANT_TYPE_DESC" VARCHAR2(64),    
--"ENROLLMENT_STATUS" VARCHAR2(32),     
 "ABOUT_PLAN_CODE" VARCHAR2(32),     
 "ABOUT_PLAN_NAME" VARCHAR2(64),     
 "ABOUT_PROVIDER_ID" NUMBER(18,0),     
 "ABOUT_PROVIDER_NAME" VARCHAR2(100),     
 "ACTION_COMMENTS" VARCHAR2(4000),     
 "ACTION_TYPE" VARCHAR2(64),     
 "REQUESTED_DAY" VARCHAR2(32)  ,      
 "REQUESTED_TIME" VARCHAR2(32),     
 "APPEAL_HEARING_TIME" VARCHAR2(64),     
 "APPEAL_HEARING_DT" DATE,     
 "APPEAL_HEARING_LOCATION" VARCHAR2(64),     
 "AID_TO_CONTINUE" VARCHAR2(1) DEFAULT 'N',     
 "EXPECTED_REQUEST" NUMBER (1)   ,        
 "CURRENT_TASK_ID" NUMBER(18,0),     
 "RESOLUTION_DESCRIPTION" VARCHAR2(4000),      
 "RESOLUTION_TYPE" VARCHAR2(64),  
 "CANCEL_BY" VARCHAR2(80),
 "CANCEL_DT" DATE,     
 "CANCEL_REASON" VARCHAR2(100),
 "CANCEL_METHOD"VARCHAR2(40),
 "ASSD_REVIEW_APPEAL" DATE,     
 "ASED_REVIEW_APPEAL" DATE,     
 "ASPB_REVIEW_APPEAL" VARCHAR2(100),     
 "ASF_REVIEW_APPEAL" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_DETERMINE_VALID" DATE,     
 "ASED_DETERMINE_VALID" DATE,     
 "ASPB_DETERMINE_VALID" VARCHAR2(100),     
 "ASF_DETERMINE_VALID" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_PROC_VALID_AMEND" DATE,     
 "ASED_PROC_VALID_AMEND" DATE,     
 "ASPB_PROC_VALID_AMEND" VARCHAR2(100),     
 "ASF_PROC_VALID_AMEND" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_GATHER_MISS_INFO" DATE,     
 "ASED_GATHER_MISS_INFO" DATE,     
 "ASPB_GATHER_MISS_INFO" VARCHAR2(100),     
 "ASF_GATHER_MISS_INFO" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_SHOP_REVIEW" DATE,     
 "ASED_SHOP_REVIEW" DATE,     
 "ASPB_SHOP_REVIEW" VARCHAR2(100),     
 "ASF_SHOP_REVIEW" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_SCHEDULE_HEARING" DATE,     
 "ASED_SCHEDULE_HEARING" DATE,     
 "ASPB_SCHEDULE_HEARING" VARCHAR2(100),     
 "ASF_SCHEDULE_HEARING" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_CON_HEARING_PROC" DATE,     
 "ASED_CON_HEARING_PROC" DATE,     
 "ASPB_CON_HEARING_PROC" VARCHAR2(100),     
 "ASF_CON_HEARING_PROC" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_CONDUCT_ST_REV" DATE,     
 "ASED_CONDUCT_ST_REV" DATE,     
 "ASPB_CONDUCT_ST_REV" VARCHAR2(100),     
 "ASF_CONDUCT_ST_REV" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_CANCEL_HEARING" DATE,     
 "ASED_CANCEL_HEARING" DATE,     
 "ASPB_CANCEL_HEARING" VARCHAR2(100),     
 "ASF_CANCEL_HEARING" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_ADVISE_WITHDRAW" DATE,     
 "ASED_ADVISE_WITHDRAW" DATE,     
 "ASPB_ADVISE_WITHDRAW" VARCHAR2(100),     
 "ASF_ADVISE_WITHDRAW" VARCHAR2(1) DEFAULT 'N',     
 "STG_EXTRACT_DATE" DATE DEFAULT SYSDATE NOT NULL ENABLE,     
 "STG_LAST_UPDATE_DATE" DATE DEFAULT SYSDATE NOT NULL ENABLE,  
 "GWF_CHANNEL" VARCHAR2(1),
 "GWF_APPEAL_INVALID" VARCHAR2(1),
 "GWF_CHANGE_ELIGIBILITY" VARCHAR2(1),
 "GWF_VALID" VARCHAR2(1),
 "GWF_SHOP_REVIEW" VARCHAR2(1),
 "GWF_RESOLVED" VARCHAR2(1),
 "GWF_WITHDRAWN_IN_WRITING" VARCHAR2(1),
 "STAGE_DONE_DT" DATE,
 "INSTANCE_COMPLETE_DT" DATE,
 "COMPLETE_DT" DATE,
 "RECEIVED_DT" DATE,
 "CURRENT_STEP" VARCHAR2(256),
 "INCIDENT_HEADER_STAT_HIST_ID" NUMBER 
)TABLESPACE MAXDAT_DATA PARALLEL;   
 
-- Create/Recreate indexes 
--Unique
create unique index nyhbe_process_appeals_oltp_ix1 on NYHBE_PROCESS_APPEALS_OLTP(INCIDENT_ID,INCIDENT_HEADER_STAT_HIST_ID);

--indexes
create index IDX_NYHBE_APL_OLTP_CLIENT_ID on NYHBE_PROCESS_APPEALS_OLTP (LINKED_CLIENT) TABLESPACE MAXDAT_INDX;
create index IDX_NYHBE_APL_OLTP_CASE_ID on NYHBE_PROCESS_APPEALS_OLTP (CASE_ID) TABLESPACE MAXDAT_INDX;
create index IDX_NYHBE_APL_OLTP_PROV_ID on NYHBE_PROCESS_APPEALS_OLTP (ABOUT_PROVIDER_ID) TABLESPACE MAXDAT_INDX;
create index IDX_NYHBE_APL_OLTP_TASK_ID on NYHBE_PROCESS_APPEALS_OLTP (CURRENT_TASK_ID) TABLESPACE MAXDAT_INDX;

--GRANTS & PUBLIC SYNONYMNS
create or replace public synonym NYHBE_PROCESS_APPEALS_OLTP for NYHBE_PROCESS_APPEALS_OLTP;

Grant select on NYHBE_PROCESS_APPEALS_OLTP to MAXDAT_READ_ONLY;

--CREATE WIP BPM TABLE
CREATE TABLE "NYHBE_PROCESS_APPEALS_WIP_BPM"
("NEPA_ID" NUMBER NOT NULL ENABLE,     
 "INCIDENT_ID" NUMBER(18,0) NOT NULL ENABLE,     
 "INCIDENT_TYPE" VARCHAR2(80),     
 "CREATE_DT" DATE,     
 "CREATED_BY_NAME" VARCHAR2(100),     
 "CREATED_BY_GROUP" VARCHAR2(80),     
 "CHANNEL" VARCHAR2(80),     
 "TRACKING_NUMBER" VARCHAR2(32),     
 "APPEAL_DT"  VARCHAR2(64), --datatype in source system     
 "RECEIPT_DT" DATE,     
 "INCIDENT_ABOUT" VARCHAR2(80),     
-- "INCIDENT_REASON" VARCHAR2(80),     
 "INCIDENT_STATUS_DT" DATE,     
 "LAST_UPDATE_BY_NAME" VARCHAR2(100),     
 "LAST_UPDATE_BY_DT" DATE,     
 "REPORTED_BY" VARCHAR2(80),     
 "REPORTER_RELATIONSHIP" VARCHAR2(64),     
 "LINKED_CLIENT" NUMBER(18,0),     
 "CASE_ID" NUMBER(18,0),     
 "OTHER_PARTY_NAME" VARCHAR2(64),     
 "INSTANCE_STATUS" VARCHAR2(10),     
 "INCIDENT_DESCRIPTION" VARCHAR2(4000),      
 "INCIDENT_STATUS" VARCHAR2(80),     
 "PRIORITY" VARCHAR2(256),     
 "APPELLANT_TYPE" VARCHAR2(32),     
 "APPELLANT_TYPE_DESC" VARCHAR2(64),
--"ENROLLMENT_STATUS" VARCHAR2(32),     
 "ABOUT_PLAN_CODE" VARCHAR2(32),     
 "ABOUT_PLAN_NAME" VARCHAR2(64),     
 "ABOUT_PROVIDER_ID" NUMBER(18,0),     
 "ABOUT_PROVIDER_NAME" VARCHAR2(100),     
 "ACTION_COMMENTS" VARCHAR2(4000),
 "ACTION_TYPE" VARCHAR2(64),     
 "REQUESTED_DAY" VARCHAR2(32)  ,      
 "REQUESTED_TIME" VARCHAR2(32),     
 "APPEAL_HEARING_TIME" VARCHAR2(64),     
 "APPEAL_HEARING_DT" DATE,     
 "APPEAL_HEARING_LOCATION" VARCHAR2(64),     
 "AID_TO_CONTINUE" VARCHAR2(1) DEFAULT 'N',     
 "EXPECTED_REQUEST" NUMBER (1)   ,      
 "CURRENT_TASK_ID" NUMBER(18,0),     
 "RESOLUTION_DESCRIPTION" VARCHAR2(4000),      
 "RESOLUTION_TYPE" VARCHAR2(64),
 "CANCEL_BY" VARCHAR2(80),
 "CANCEL_DT" DATE,     
 "CANCEL_REASON" VARCHAR2(100),
 "CANCEL_METHOD" VARCHAR2(40),
 "ASSD_REVIEW_APPEAL" DATE,     
 "ASED_REVIEW_APPEAL" DATE,     
 "ASPB_REVIEW_APPEAL" VARCHAR2(100),     
 "ASF_REVIEW_APPEAL" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_DETERMINE_VALID" DATE,     
 "ASED_DETERMINE_VALID" DATE,     
 "ASPB_DETERMINE_VALID" VARCHAR2(100),     
 "ASF_DETERMINE_VALID" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_PROC_VALID_AMEND" DATE,     
 "ASED_PROC_VALID_AMEND" DATE,     
 "ASPB_PROC_VALID_AMEND" VARCHAR2(100),     
 "ASF_PROC_VALID_AMEND" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_GATHER_MISS_INFO" DATE,     
 "ASED_GATHER_MISS_INFO" DATE,     
 "ASPB_GATHER_MISS_INFO" VARCHAR2(100),     
 "ASF_GATHER_MISS_INFO" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_SHOP_REVIEW" DATE,     
 "ASED_SHOP_REVIEW" DATE,     
 "ASPB_SHOP_REVIEW" VARCHAR2(100),     
 "ASF_SHOP_REVIEW" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_SCHEDULE_HEARING" DATE,     
 "ASED_SCHEDULE_HEARING" DATE,     
 "ASPB_SCHEDULE_HEARING" VARCHAR2(100),     
 "ASF_SCHEDULE_HEARING" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_CON_HEARING_PROC" DATE,     
 "ASED_CON_HEARING_PROC" DATE,     
 "ASPB_CON_HEARING_PROC" VARCHAR2(100),     
 "ASF_CON_HEARING_PROC" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_CONDUCT_ST_REV" DATE,     
 "ASED_CONDUCT_ST_REV" DATE,     
 "ASPB_CONDUCT_ST_REV" VARCHAR2(100),     
 "ASF_CONDUCT_ST_REV" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_CANCEL_HEARING" DATE,     
 "ASED_CANCEL_HEARING" DATE,     
 "ASPB_CANCEL_HEARING" VARCHAR2(100),     
 "ASF_CANCEL_HEARING" VARCHAR2(1) DEFAULT 'N',     
 "ASSD_ADVISE_WITHDRAW" DATE,     
 "ASED_ADVISE_WITHDRAW" DATE,     
 "ASPB_ADVISE_WITHDRAW" VARCHAR2(100),     
 "ASF_ADVISE_WITHDRAW" VARCHAR2(1) DEFAULT 'N',     
 "STG_EXTRACT_DATE" DATE DEFAULT SYSDATE NOT NULL ENABLE,     
 "STG_LAST_UPDATE_DATE" DATE DEFAULT SYSDATE NOT NULL ENABLE,  
 "GWF_CHANNEL" VARCHAR2(1),
 "GWF_APPEAL_INVALID" VARCHAR2(1),
 "GWF_CHANGE_ELIGIBILITY" VARCHAR2(1),
 "GWF_VALID" VARCHAR2(1),
 "GWF_SHOP_REVIEW" VARCHAR2(1),
 "GWF_RESOLVED" VARCHAR2(1),
 "GWF_WITHDRAWN_IN_WRITING" VARCHAR2(1),
 "UPDATED" VARCHAR2(1) DEFAULT 'N',
 "STAGE_DONE_DT" DATE,
 "INSTANCE_COMPLETE_DT" DATE,
 "COMPLETE_DT" DATE,
 "RECEIVED_DT" DATE,
 "CURRENT_STEP" VARCHAR2(256),
 "MAX_INCI_STAT_HIST_ID" NUMBER
)TABLESPACE MAXDAT_DATA PARALLEL;   
 
-- Create/Recreate indexes 


CREATE UNIQUE INDEX "NYHBE_PROCESS_APPEALS_WIP_IX1" ON "NYHBE_PROCESS_APPEALS_WIP_BPM" ("INCIDENT_ID") TABLESPACE MAXDAT_INDX;

--indexes
create index IDX_NYHBE_APL_WIP_CLIENT_ID on NYHBE_PROCESS_APPEALS_WIP_BPM (LINKED_CLIENT) TABLESPACE MAXDAT_INDX;
create index IDX_NYHBE_APL_WIP_CASE_ID on NYHBE_PROCESS_APPEALS_WIP_BPM (CASE_ID) TABLESPACE MAXDAT_INDX;
create index IDX_NYHBE_APL_WIP_ABT_PROV_ID on NYHBE_PROCESS_APPEALS_WIP_BPM (ABOUT_PROVIDER_ID) TABLESPACE MAXDAT_INDX;
create index IDX_NYHBE_APL_WIP_CUR_TASK_ID on NYHBE_PROCESS_APPEALS_WIP_BPM (CURRENT_TASK_ID) TABLESPACE MAXDAT_INDX;

--GRANTS & PUBLIC SYNONYMNS
create or replace public synonym NYHBE_PROCESS_APPEALS_WIP_BPM for NYHBE_PROCESS_APPEALS_WIP_BPM;

Grant select on NYHBE_PROCESS_APPEALS_WIP_BPM to MAXDAT_READ_ONLY;

CREATE TABLE NYHBE_ETL_PROCESS_APPEALS_RSN
("NEAR_ID" NUMBER NOT NULL ENABLE,  
 "INCIDENT_ID" NUMBER(18,0) NOT NULL ENABLE,     
 "INCIDENT_REASON" VARCHAR2(80)) TABLESPACE MAXDAT_DATA PARALLEL;

--CREATE PRIMARY KEY
alter table  NYHBE_ETL_PROCESS_APPEALS_RSN add primary key ("NEAR_ID") using index tablespace MAXDAT_INDX;    

ALTER TABLE NYHBE_ETL_PROCESS_APPEALS_RSN ADD CONSTRAINT "NYHBE_APPEALS_REASON_FK" FOREIGN KEY("INCIDENT_ID") REFERENCES NYHBE_ETL_PROCESS_APPEALS("INCIDENT_ID") ENABLE;

--GRANTS & PUBLIC SYNONYMNS
create or replace public synonym NYHBE_ETL_PROCESS_APPEALS_RSN for NYHBE_ETL_PROCESS_APPEALS_RSN;

Grant select on NYHBE_ETL_PROCESS_APPEALS_RSN to MAXDAT_READ_ONLY;
  
--indexes
create index IDX_NYHBE_ETL_APEALS_RSN on NYHBE_ETL_PROCESS_APPEALS_RSN (INCIDENT_ID) TABLESPACE MAXDAT_INDX;


