alter table D_MFB_CURRENT parallel;

create index FMFBBD_IXL2 on F_MFB_BY_DATE (MFB_BI_ID) local online tablespace MAXDAT_INDX parallel compute statistics;
create index FMFBBD_IXL3 on F_MFB_BY_DATE (BUCKET_START_DATE,BUCKET_END_DATE) local online tablespace MAXDAT_INDX parallel compute statistics;

create or replace view D_MFFORM_CURRENT_SV as
select 
  BATCH_ID,
  FORM_TYPE_ENTRY_ID,
  BATCH_MODULE_ID,
  TYPE_NAME,
  DOC_CLASS_NAME,
  DOC_COUNT AS DOCUMENT_COUNT,
  REJECTED_DOCS,
  PAGES,
  REJECTED_PAGES,
  COMPLETED_DOCS,
  COMPLETED_PAGES
from CORP_ETL_MFB_FORM
with read only;

create or replace view D_MFENV_CURRENT_SV as
select
  BATCH_ID,
  ECN,
  ENV_RECEIPT_DATE as ENVELOPE_RECEIPT_DT,
  ENV_CREATION_DATE as ENVELOPE_CREATION_DT,
  ENV_DOC_COUNT as ENVELOPE_DOC_COUNT,
  ENV_PAGE_COUNT as ENVELOPE_PAGE_COUNT
from CORP_ETL_MFB_ENVELOPE
with read only;

create or replace view D_MFBDOC_CURRENT_SV as
select
  ECN,
  BATCH_ID,
  DOC_ID as DOCUMENT_ID,
  DCN,
  DOC_ORDER_NUMBER,
  TYPE_NAME,
  DOC_CLASS as DOCUMENT_CLASS,
  DOC_RECEIPT_DT as DOCUMENT_RECEIPT_DT,
  DOC_CREATION_DT as DOCUMENT_CREATION_DT,
  DOC_PAGE_COUNT as DOCUMENT_PAGE_COUNT,
  CLASSIFIED_DOC as CLASSIFIED_DOCUMENT,
  DELETED,
  CONFIDENCE,
  CONFIDENT
from CORP_ETL_MFB_DOCUMENT
with read only;

create or replace view D_MFBBATCH_EVENTS_CURRENT_SV as
select 
  BATCH_MODULE_ID,
  BATCH_ID,
  MODULE_LAUNCH_ID,
  MODULE_UNIQUE_ID,
  MODULE_NAME,
  MODULE_CLOSE_ID as MODULE_CLOSE_UNIQUE_ID,
  MODULE_CLOSE_NAME,
  BATCH_STATUS,
  MODULE_START_DT,
  MODULE_END_DT,
  USER_NAME as MODULE_LAUNCH_USER_NAME,
  STATION_ID,
  SITE_NAME,
  SITE_ID,
  BATCH_DELETED,
  DOC_PAGES as PAGES_PER_DOCUMENT,
  PAGES_SCANNED,
  PAGES_DELETED,
  DOCS_CREATED as DOCUMENTS_CREATED,
  DOCS_DELETED as DOCUMENTS_DELETED,
  PAGES_REPLACED
from CORP_ETL_MFB_BATCH_EVENTS
with read only;
